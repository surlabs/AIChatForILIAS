/*! For license information please see main.3f117116.js.LICENSE.txt */
!function(){"use strict";var e={725:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,l=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in o=Object(arguments[s]))n.call(o,u)&&(l[u]=o[u]);if(t){a=t(o);for(var c=0;c<a.length;c++)r.call(o,a[c])&&(l[a[c]]=o[a[c]])}}return l}},463:function(e,t,n){var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var l=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(v,e)||!p.call(h,e)&&(f.test(e)?v[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,C=60106,E=60107,x=60108,I=60114,P=60109,_=60110,M=60112,D=60113,T=60120,O=60115,R=60116,L=60121,B=60128,A=60129,j=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var H=Symbol.for;S=H("react.element"),C=H("react.portal"),E=H("react.fragment"),x=H("react.strict_mode"),I=H("react.profiler"),P=H("react.provider"),_=H("react.context"),M=H("react.forward_ref"),D=H("react.suspense"),T=H("react.suspense_list"),O=H("react.memo"),R=H("react.lazy"),L=H("react.block"),H("react.scope"),B=H("react.opaque.id"),A=H("react.debug_trace_mode"),j=H("react.offscreen"),z=H("react.legacy_hidden")}var F,N="function"===typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}function K(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=l);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function Y(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case C:return"Portal";case I:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return X(e.type);case L:return X(e._render);case R:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ue(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ve=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Pe=null;function _e(e){if(e=Qr(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ei(t),xe(e.stateNode,e.type,t))}}function Me(e){Ie?Pe?Pe.push(e):Pe=[e]:Ie=e}function De(){if(Ie){var e=Ie,t=Pe;if(Pe=Ie=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Te,Be=!1,Ae=!1;function je(){null===Ie&&null===Pe||(Re(),De())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var He=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){He=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(lu){He=!1}function Ne(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ue=!1,Ke=null,Ve=!1,We=null,Ye={onError:function(e){Ue=!0,Ke=e}};function Xe(e,t,n,r,i,o,a,l,s){Ue=!1,Ke=null,Ne.apply(Ye,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if($e(e)!==e)throw Error(a(188))}function qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Je,et,tt,nt,rt=!1,it=[],ot=null,at=null,lt=null,st=new Map,ut=new Map,ct=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":st.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function ht(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=Qr(t))&&et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=qr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Qr(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function mt(e,t,n){gt(e)&&n.delete(t)}function yt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Qr(e.blockedOn))&&Je(e);break}for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&gt(ot)&&(ot=null),null!==at&&gt(at)&&(at=null),null!==lt&&gt(lt)&&(lt=null),st.forEach(mt),ut.forEach(mt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function wt(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),st.forEach(t),ut.forEach(t),n=0;n<ct.length;n++)(r=ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ct.length&&null===(n=ct[0]).blockedOn;)vt(n),null===n.blockedOn&&ct.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Ct={},Et={};function xt(e){if(Ct[e])return Ct[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return Ct[e]=n[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var It=xt("animationend"),Pt=xt("animationiteration"),_t=xt("animationstart"),Mt=xt("transitionend"),Dt=new Map,Tt=new Map,Ot=["abort","abort",It,"animationEnd",Pt,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Tt.set(r,t),Dt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Bt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function At(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Bt(s),i=Lt):0!==(l&=o)&&(r=Bt(l),i=Lt)}else 0!==(o=n&~a)?(r=Bt(o),i=Lt):0!==l&&(r=Bt(l),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Bt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ut(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?zt(10,t):e;case 10:return 0===(e=Ht(192&~t))?zt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Vt|0)|0},Kt=Math.log,Vt=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Xt=!0;function $t(e,t,n,r){Be||Re();var i=Gt,o=Be;Be=!0;try{Oe(i,e,t,n,r)}finally{(Be=o)||je()}}function Zt(e,t,n,r){Yt(Wt,Gt.bind(null,e,t,n,r))}function Gt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<it.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),it.push(e);else{var o=qt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=ht(ot,e,t,n,r,i),!0;case"dragenter":return at=ht(at,e,t,n,r,i),!0;case"mouseover":return lt=ht(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return st.set(o,ht(st.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,ht(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function qt(e,t,n,r){var i=Ee(r);if(null!==(i=qr(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ze(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Qt=null,Jt=null,en=null;function tn(){if(en)return en;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var ln,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),fn=i({},cn,{view:0,detail:0}),pn=an(fn),hn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),vn=an(hn),gn=an(i({},hn,{dataTransfer:0})),mn=an(i({},fn,{relatedTarget:0})),yn=an(i({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=an(i({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function xn(){return En}var In=an(i({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Pn=an(i({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Mn=an(i({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=an(i({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],On=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Rn,Bn=d&&(!On||Rn&&8<Rn&&11>=Rn),An=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Kn(e,t,n,r){Me(r),0<(t=Or(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Wn=null;function Yn(e){Er(e,0)}function Xn(e){if(q(Jr(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(d){var Gn;if(d){var qn="oninput"in document;if(!qn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),qn="function"===typeof Qn.oninput}Gn=qn}else Gn=!1;Zn=Gn&&(!document.documentMode||9<document.documentMode)}function Jn(){Vn&&(Vn.detachEvent("onpropertychange",er),Wn=Vn=null)}function er(e){if("value"===e.propertyName&&Xn(Wn)){var t=[];if(Kn(t,Wn,e,Ee(e)),e=Yn,Be)e(t);else{Be=!0;try{Te(e,t)}finally{Be=!1,je()}}}}function tr(e,t,n){"focusin"===e?(Jn(),Wn=n,(Vn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Jn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Wn)}function rr(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ar=Object.prototype.hasOwnProperty;function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ar.call(t,n[r])||!or(e[n[r]],t[n[r]]))return!1;return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,vr=null,gr=null,mr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Or(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ot,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<br.length;wr++)Tt.set(br[wr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,l,s,u){if(Xe.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=Ke;Ue=!1,Ke=null,Ve||(Ve=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Cr(i,l,u),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Cr(i,l,u),o=s}}}if(Ve)throw e=We,Ve=!1,We=null,e}function xr(e,t){var n=ti(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ir]||(e[Ir]=!0,l.forEach((function(t){Sr.has(t)||_r(t,!1,e,null),_r(t,!0,e,null)})))}function _r(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ti(o),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(i|=4),Mr(o,e,i,t),a.add(l))}function Mr(e,t,n,r){var i=Tt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Zt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=qr(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}!function(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Le(e,t,n)}finally{Ae=!1,je()}}((function(){var r=o,i=Ee(n),a=[];e:{var l=Dt.get(e);if(void 0!==l){var s=dn,u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":u="focus",s=mn;break;case"focusout":u="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case It:case Pt:case _t:s=yn;break;case Mt:s=Mn;break;case"scroll":s=pn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=ze(h,f))&&c.push(Tr(h,v,p)))),d)break;h=h.return}0<c.length&&(l=new s(l,u,null,n,i),a.push({event:l,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!qr(u)&&!u[Zr])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?qr(u):null)&&(u!==(d=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=vn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:Jr(s),p=null==u?l:Jr(u),(l=new c(v,h+"leave",s,n,i)).target=d,l.relatedTarget=p,v=null,qr(i)===r&&((c=new c(f,h+"enter",u,n,i)).target=p,c.relatedTarget=d,v=c),d=v,s&&u)e:{for(f=u,h=0,p=c=s;p;p=Rr(p))h++;for(p=0,v=f;v;v=Rr(v))p++;for(;0<h-p;)c=Rr(c),h--;for(;0<p-h;)f=Rr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Rr(c),f=Rr(f)}c=null}else c=null;null!==s&&Lr(a,l,s,c,!1),null!==u&&null!==d&&Lr(a,d,u,c,!0)}if("select"===(s=(l=r?Jr(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=$n;else if(Un(l))if(Zn)g=ir;else{g=nr;var m=tr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=rr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(m&&m(e,l,r),"focusout"===e&&(m=l._wrapperState)&&m.controlled&&"number"===l.type&&ie(l,"number",l.value)),m=r?Jr(r):window,e){case"focusin":(Un(m)||"true"===m.contentEditable)&&(hr=m,vr=r,gr=null);break;case"focusout":gr=vr=hr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,yr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(y=tn()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Fn=!0)),0<(m=Or(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(jn=!0,An);case"textInput":return(e=t.data)===An&&jn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!On&&zn(e,t)?(e=tn(),en=Jt=Qt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Or(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Er(a,t)}))}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=ze(e,n))&&r.unshift(Tr(e,o,i)),null!=(o=ze(e,t))&&r.push(Tr(e,o,i))),e=e.return}return r}function Rr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=ze(n,o))&&a.unshift(Tr(n,s,l)):i||null!=(s=ze(n,o))&&a.push(Tr(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Ar=null,jr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"===typeof setTimeout?setTimeout:void 0,Nr="function"===typeof clearTimeout?clearTimeout:void 0;function Ur(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Vr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,$r="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,Gr="__reactEvents$"+Yr;function qr(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Vr(e);null!==e;){if(n=e[Xr])return n;e=Vr(e)}return t}n=(e=n).parentNode}return null}function Qr(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Jr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ei(e){return e[$r]||null}function ti(e){var t=e[Gr];return void 0===t&&(t=e[Gr]=new Set),t}var ni=[],ri=-1;function ii(e){return{current:e}}function oi(e){0>ri||(e.current=ni[ri],ni[ri]=null,ri--)}function ai(e,t){ri++,ni[ri]=e.current,e.current=t}var li={},si=ii(li),ui=ii(!1),ci=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pi(){oi(ui),oi(si)}function hi(e,t,n){if(si.current!==li)throw Error(a(168));ai(si,t),ai(ui,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,X(t)||"Unknown",o));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,ci=si.current,ai(si,e),ai(ui,ui.current),!0}function mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vi(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,oi(ui),oi(si),ai(si,e)):oi(ui),ai(ui,n)}var yi=null,bi=null,wi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ei=o.unstable_requestPaint,xi=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,_i=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Ti=o.unstable_IdlePriority,Oi={},Ri=void 0!==Ei?Ei:function(){},Li=null,Bi=null,Ai=!1,ji=xi(),zi=1e4>ji?xi:function(){return xi()-ji};function Hi(){switch(Ii()){case Pi:return 99;case _i:return 98;case Mi:return 97;case Di:return 96;case Ti:return 95;default:throw Error(a(332))}}function Fi(e){switch(e){case 99:return Pi;case 98:return _i;case 97:return Mi;case 96:return Di;case 95:return Ti;default:throw Error(a(332))}}function Ni(e,t){return e=Fi(e),wi(e,t)}function Ui(e,t,n){return e=Fi(e),ki(e,t,n)}function Ki(){if(null!==Bi){var e=Bi;Bi=null,Si(e)}Vi()}function Vi(){if(!Ai&&null!==Li){Ai=!0;var e=0;try{var t=Li;Ni(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),ki(Pi,Ki),n}finally{Ai=!1}}}var Wi=k.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ii(null),$i=null,Zi=null,Gi=null;function qi(){Gi=Zi=$i=null}function Qi(e){var t=Xi.current;oi(Xi),e.type._context._currentValue=t}function Ji(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function eo(e,t){$i=e,Gi=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function to(e,t){if(Gi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Gi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===$i)throw Error(a(308));Zi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var no=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,r){var o=e.updateQueue;no=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===l?a=c:l.next=c,l=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==l&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,l=0,d=c=u=null;;){s=a.lane;var p=a.eventTime;if((r&s)===s){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,v=a;switch(s=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(p,f,s);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(s="function"===typeof(h=v.payload)?h.call(p,f,s):h)||void 0===s)break e;f=i({},f,s);break e;case 2:no=!0}}null!==a.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else p={eventTime:p,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,l|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,jl|=l,e.lanes=l,e.memoizedState=f}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var co=(new r.Component).refs;function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ss(),i=us(e),o=oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ao(e,o),cs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ss(),i=us(e),o=oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ao(e,o),cs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ss(),r=us(e),i=oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ao(e,i),cs(e,r,n)}};function ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function vo(e,t,n){var r=!1,i=li,o=t.contextType;return"object"===typeof o&&null!==o?o=to(o):(i=fi(t)?ci:si.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function mo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=co,ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=to(o):(o=fi(t)?ci:si.current,i.context=di(e,o)),so(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),so(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var yo=Array.isArray;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===co&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Us(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=bo(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=bo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case C:return(t=Xs(t,e.mode,n)).return=e,t}if(yo(t)||U(t))return(t=Vs(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null}if(yo(n)||U(n))return null!==i?null:d(e,t,n,r,null);wo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(yo(r)||U(r))return d(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function v(i,a,l,s){for(var u=null,c=null,d=a,v=a=0,g=null;null!==d&&v<l.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var m=p(i,d,l[v],s);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m,d=g}if(v===l.length)return n(i,d),u;if(null===d){for(;v<l.length;v++)null!==(d=f(i,l[v],s))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);v<l.length;v++)null!==(g=h(d,i,v,l[v],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),u}function g(i,l,s,u){var c=U(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,v=l,g=l=0,m=null,y=s.next();null!==v&&!y.done;g++,y=s.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=p(i,v,y.value,u);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),l=o(b,l,g),null===d?c=b:d.sibling=b,d=b,v=m}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;g++,y=s.next())null!==(y=f(i,y.value,u))&&(l=o(y,l,g),null===d?c=y:d.sibling=y,d=y);return c}for(v=r(i,v);!y.done;g++,y=s.next())null!==(y=h(v,i,g,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),l=o(y,l,g),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,o,s){var u="object"===typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case S:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===E){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=bo(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===E?((r=Vs(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Ks(o.type,o.key,o.props,null,e.mode,s)).ref=bo(e,r,o),s.return=e,e=s)}return l(e);case C:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(o,e.mode,s)).return=e,e=r}return l(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ys(o,e.mode,s)).return=e,e=r),l(e);if(yo(o))return v(e,r,o,s);if(U(o))return g(e,r,o,s);if(c&&wo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(e.type)||"Component"))}return n(e,r)}}var So=ko(!0),Co=ko(!1),Eo={},xo=ii(Eo),Io=ii(Eo),Po=ii(Eo);function _o(e){if(e===Eo)throw Error(a(174));return e}function Mo(e,t){switch(ai(Po,t),ai(Io,e),ai(xo,Eo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}oi(xo),ai(xo,t)}function Do(){oi(xo),oi(Io),oi(Po)}function To(e){_o(Po.current);var t=_o(xo.current),n=pe(t,e.type);t!==n&&(ai(Io,e),ai(xo,n))}function Oo(e){Io.current===e&&(oi(xo),oi(Io))}var Ro=ii(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Ao=null,jo=!1;function zo(e,t){var n=Fs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Fo(e){if(jo){var t=Ao;if(t){var n=t;if(!Ho(e,t)){if(!(t=Kr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,jo=!1,void(Bo=e);zo(Bo,n)}Bo=e,Ao=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,jo=!1,Bo=e}}function No(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Uo(e){if(e!==Bo)return!1;if(!jo)return No(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Ao;t;)zo(e,t),t=Kr(t.nextSibling);if(No(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ao=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ao=null}}else Ao=Bo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Ao=Bo=null,jo=!1}var Vo=[];function Wo(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var Yo=k.ReactCurrentDispatcher,Xo=k.ReactCurrentBatchConfig,$o=0,Zo=null,Go=null,qo=null,Qo=!1,Jo=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function na(e,t,n,r,i,o){if($o=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?_a:Ma,e=n(r,i),Jo){o=0;do{if(Jo=!1,!(25>o))throw Error(a(301));o+=1,qo=Go=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(Jo)}if(Yo.current=Pa,t=null!==Go&&null!==Go.next,$o=0,qo=Go=Zo=null,Qo=!1,t)throw Error(a(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Zo.memoizedState=qo=e:qo=qo.next=e,qo}function ia(){if(null===Go){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===qo?Zo.memoizedState:qo.next;if(null!==t)qo=t,Go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===qo?Zo.memoizedState=qo=e:qo=qo.next=e}return qo}function oa(e,t){return"function"===typeof t?t(e):t}function aa(e){var t=ia(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=l=o=null,u=i;do{var c=u.lane;if(($o&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(l=s=d,o=r):s=s.next=d,Zo.lanes|=c,jl|=c}u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=l,or(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function la(e){var t=ia(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=e(o,l.action),l=l.next}while(l!==i);or(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function sa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Vo.push(t))),e)return n(t._source);throw Vo.push(t),Error(a(350))}function ua(e,t,n,r){var i=Ml;if(null===i)throw Error(a(349));var o=t._getVersion,l=o(t._source),s=Yo.current,u=s.useState((function(){return sa(i,t,n)})),c=u[1],d=u[0];u=qo;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,v=f.source;f=f.subscribe;var g=Zo;return e.memoizedState={refs:p,source:t,subscribe:r},s.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=o(t._source);if(!or(l,e)){e=n(t._source),or(d,e)||(c(e),e=us(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var s=31-Ut(a),u=1<<s;r[s]|=e,a&=~u}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=us(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),or(h,n)&&or(v,t)&&or(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d}).dispatch=c=Ia.bind(null,Zo,e),u.queue=e,u.baseQueue=null,d=sa(i,t,n),u.memoizedState=u.baseState=d),d}function ca(e,t,n){return ua(ia(),e,t,n)}function da(e){var t=ra();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e}).dispatch=Ia.bind(null,Zo,e),[t.memoizedState,e]}function fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ra().memoizedState=e}function ha(){return ia().memoizedState}function va(e,t,n,r){var i=ra();Zo.flags|=e,i.memoizedState=fa(1|t,n,void 0,void 0===r?null:r)}function ga(e,t,n,r){var i=ia();r=void 0===r?null:r;var o=void 0;if(null!==Go){var a=Go.memoizedState;if(o=a.destroy,null!==r&&ta(r,a.deps))return void fa(t,n,o,r)}Zo.flags|=e,i.memoizedState=fa(1|t,n,o,r)}function ma(e,t){return va(516,4,e,t)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return ga(4,2,e,t)}function wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,2,wa.bind(null,t,e),n)}function Sa(){}function Ca(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t){var n=Hi();Ni(98>n?98:n,(function(){e(!0)})),Ni(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Ia(e,t,n){var r=ss(),i=us(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)Jo=Qo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=a(l,n);if(o.eagerReducer=a,o.eagerState=s,or(s,l))return}catch(u){}cs(e,i,r)}}var Pa={readContext:to,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},_a={readContext:to,useCallback:function(e,t){return ra().memoizedState=[e,void 0===t?null:t],e},useContext:to,useEffect:ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,va(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ia.bind(null,Zo,e),[r.memoizedState,e]},useRef:pa,useState:da,useDebugValue:Sa,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ma((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return pa(e=xa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ra();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ua(r,e,t,n)},useOpaqueIdentifier:function(){if(jo){var e=!1,t=function(e){return{$$typeof:B,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,fa(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return da(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},Ma={readContext:to,useCallback:Ca,useContext:to,useEffect:ya,useImperativeHandle:ka,useLayoutEffect:ba,useMemo:Ea,useReducer:aa,useRef:ha,useState:function(){return aa(oa)},useDebugValue:Sa,useDeferredValue:function(e){var t=aa(oa),n=t[0],r=t[1];return ya((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=aa(oa)[0];return[ha().current,e]},useMutableSource:ca,useOpaqueIdentifier:function(){return aa(oa)[0]},unstable_isNewReconciler:!1},Da={readContext:to,useCallback:Ca,useContext:to,useEffect:ya,useImperativeHandle:ka,useLayoutEffect:ba,useMemo:Ea,useReducer:la,useRef:ha,useState:function(){return la(oa)},useDebugValue:Sa,useDeferredValue:function(e){var t=la(oa),n=t[0],r=t[1];return ya((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=la(oa)[0];return[ha().current,e]},useMutableSource:ca,useOpaqueIdentifier:function(){return la(oa)[0]},unstable_isNewReconciler:!1},Ta=k.ReactCurrentOwner,Oa=!1;function Ra(e,t,n,r){t.child=null===e?Co(t,null,n,r):So(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return eo(t,i),r=na(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,tl(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Ns(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Aa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?tl(e,t,o):(t.flags|=1,(e=Us(a,r)).ref=t.ref,e.return=t,t.child=e)}function Aa(e,t,n,r,i,o){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0===(o&i))return t.lanes=e.lanes,tl(e,t,o);0!==(16384&e.flags)&&(Oa=!0)}return Ha(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ys(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ys(t,e),null;t.memoizedState={baseLanes:0},ys(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ys(t,r);return Ra(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=fi(n)?ci:si.current;return o=di(t,o),eo(t,i),n=na(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,tl(e,t,i))}function Fa(e,t,n,r,i){if(fi(n)){var o=!0;gi(t)}else o=!1;if(eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),mo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=to(u):u=di(t,u=fi(n)?ci:si.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==r||s!==u)&&go(t,a,r,u),no=!1;var f=t.memoizedState;a.state=f,so(t,r,a,i),s=t.memoizedState,l!==r||f!==s||ui.current||no?("function"===typeof c&&(fo(t,n,c,r),s=t.memoizedState),(l=no||ho(t,n,l,r,f,s,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,io(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Yi(t.type,l),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=to(s):s=di(t,s=fi(n)?ci:si.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||f!==s)&&go(t,a,r,s),no=!1,f=t.memoizedState,a.state=f,so(t,r,a,i);var h=t.memoizedState;l!==d||f!==h||ui.current||no?("function"===typeof p&&(fo(t,n,p,r),h=t.memoizedState),(u=no||ho(t,n,u,r,f,h,s))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=u):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&mi(t,n,!1),tl(e,t,o);r=t.stateNode,Ta.current=t;var l=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,l,o)):Ra(e,t,l,o),t.memoizedState=r.state,i&&mi(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&hi(0,t.context,!1),Mo(e,t.containerInfo)}var Ka,Va,Wa,Ya,Xa={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=Ro.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Ro,1&o),null===e?(void 0!==i.fallback&&Fo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=Ws({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=qa(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=Ga(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ws(t,i,0,null),n=Vs(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ga(e,t,n,r){var i=e.child;return e=i.sibling,n=Us(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function qa(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=l,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Us(a,l),null!==e?r=Us(e,r):(r=Vs(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Qa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ji(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function el(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(e,t,r.children,n),0!==(2&(r=Ro.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n);else if(19===e.tag)Qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Ro,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function tl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Us(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Us(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function nl(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return fi(t.type)&&pi(),null;case 3:return Do(),oi(ui),oi(si),Wo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Uo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Va(t),null;case 5:Oo(t);var o=_o(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=_o(xo.current),Uo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Xr]=t,r[$r]=l,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)xr(kr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,l),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},xr("invalid",r);break;case"textarea":se(r,l),xr("invalid",r)}for(var u in Se(n,l),e=null,l)l.hasOwnProperty(u)&&(o=l[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&xr("scroll",r));switch(n){case"input":G(r),re(r,l,!0);break;case"textarea":G(r),ce(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=fe(n)),e===de.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Xr]=t,e[$r]=r,Ka(e,t,!1,!1),t.stateNode=e,u=Ce(n,r),n){case"dialog":xr("cancel",e),xr("close",e),o=r;break;case"iframe":case"object":case"embed":xr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)xr(kr[o],e);o=r;break;case"source":xr("error",e),o=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),o=r;break;case"details":xr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),xr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":se(e,r),o=le(e,r),xr("invalid",e);break;default:o=r}Se(n,o);var c=o;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?we(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"===typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=d&&"onScroll"===l&&xr("scroll",e):null!=d&&w(e,l,d,u))}switch(n){case"input":G(e),re(e,r,!1);break;case"textarea":G(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ae(e,!!r.multiple,l,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=_o(Po.current),_o(xo.current),Uo(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return oi(Ro),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Uo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ro.current)?0===Ll&&(Ll=3):(0!==Ll&&3!==Ll||(Ll=4),null===Ml||0===(134217727&jl)&&0===(134217727&zl)||hs(Ml,Tl))),(r||n)&&(t.flags|=4),null);case 4:return Do(),Va(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return Qi(t),null;case 19:if(oi(Ro),null===(r=t.memoizedState))return null;if(l=0!==(64&t.flags),null===(u=r.rendering))if(l)nl(r,!1);else{if(0!==Ll||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Lo(e))){for(t.flags|=64,nl(r,!1),null!==(l=u.updateQueue)&&(t.updateQueue=l,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(u=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ul&&(t.flags|=64,l=!0,nl(r,!1),t.lanes=33554432)}else{if(!l)if(null!==(e=Lo(u))){if(t.flags|=64,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),nl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!jo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=64,l=!0,nl(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ro.current,ai(Ro,l?1&t|2:1&t),n):null;case 23:case 24:return bs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function il(e){switch(e.tag){case 1:fi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),oi(ui),oi(si),Wo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return oi(Ro),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return oi(Ro),null;case 4:return Do(),null;case 10:return Qi(e),null;case 23:case 24:return bs(),null;default:return null}}function ol(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function al(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,_o(xo.current);var a,l=null;switch(n){case"input":o=J(e,o),r=J(e,r),l=[];break;case"option":o=oe(e,o),r=oe(e,r),l=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),l=[];break;case"textarea":o=le(e,o),r=le(e,r),l=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&xr("scroll",e),l||u===c||(l=[])):"object"===typeof c&&null!==c&&c.$$typeof===B?c.toString():(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var ll="function"===typeof WeakMap?WeakMap:Map;function sl(e,t,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Xl=r),al(0,t)},n}function ul(e,t,n){(n=oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return al(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this),al(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cl="function"===typeof WeakSet?WeakSet:Set;function dl(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){As(e,n)}else t.current=null}function fl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ur(t.stateNode.containerInfo))}throw Error(a(163))}function pl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Rs(n,e),Os(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function hl(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vl(e,t){if(bi&&"function"===typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(yi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Rs(t,n);else{r=t;try{i()}catch(o){As(r,o)}}n=n.next}while(n!==e)}break;case 1:if(dl(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){As(t,o)}break;case 5:dl(t);break;case 4:kl(e,t)}}function gl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:{for(var t=e.return;null!==t;){if(ml(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ml(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bl(e,n,t):wl(e,n,t)}function bl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function kl(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var l=e,s=i,u=s;;)if(vl(l,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(l=n,s=i.stateNode,8===l.nodeType?l.parentNode.removeChild(s):l.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vl(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Sl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var l=o[i],s=o[i+1];"style"===l?we(n,s):"dangerouslySetInnerHTML"===l?ve(n,s):"children"===l?ge(n,s):w(n,l,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Nl=zi(),hl(t.child,!0)),void Cl(t);case 19:return void Cl(t);case 23:case 24:return void hl(t,null!==t.memoizedState)}throw Error(a(163))}function Cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cl),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function El(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xl=Math.ceil,Il=k.ReactCurrentDispatcher,Pl=k.ReactCurrentOwner,_l=0,Ml=null,Dl=null,Tl=0,Ol=0,Rl=ii(0),Ll=0,Bl=null,Al=0,jl=0,zl=0,Hl=0,Fl=null,Nl=0,Ul=1/0;function Kl(){Ul=zi()+500}var Vl,Wl=null,Yl=!1,Xl=null,$l=null,Zl=!1,Gl=null,ql=90,Ql=[],Jl=[],es=null,ts=0,ns=null,rs=-1,is=0,os=0,as=null,ls=!1;function ss(){return 0!==(48&_l)?zi():-1!==rs?rs:rs=zi()}function us(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===is&&(is=Al),0!==Wi.transition){0!==os&&(os=null!==Fl?Fl.pendingLanes:0),e=is;var t=4186112&~os;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&_l)&&98===e?e=zt(12,is):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),is),e}function cs(e,t,n){if(50<ts)throw ts=0,ns=null,Error(a(185));if(null===(e=ds(e,t)))return null;Nt(e,t,n),e===Ml&&(zl|=t,4===Ll&&hs(e,Tl));var r=Hi();1===t?0!==(8&_l)&&0===(48&_l)?vs(e):(fs(e,n),0===_l&&(Kl(),Ki())):(0===(4&_l)||98!==r&&99!==r||(null===es?es=new Set([e]):es.add(e)),fs(e,n)),Fl=e}function ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-Ut(l),u=1<<s,c=o[s];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Bt(u);var d=Lt;o[s]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);l&=~u}if(r=At(e,e===Ml?Tl:0),t=Lt,0===r)null!==n&&(n!==Oi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Si(n)}15===t?(n=vs.bind(null,e),null===Li?(Li=[n],Bi=ki(Pi,Vi)):Li.push(n),n=Oi):14===t?n=Ui(99,vs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ui(n,ps.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(rs=-1,os=is=0,0!==(48&_l))throw Error(a(327));var t=e.callbackNode;if(Ts()&&e.callbackNode!==t)return null;var n=At(e,e===Ml?Tl:0);if(0===n)return null;var r=n,i=_l;_l|=16;var o=Ss();for(Ml===e&&Tl===r||(Kl(),ws(e,r));;)try{xs();break}catch(s){ks(e,s)}if(qi(),Il.current=o,_l=i,null!==Dl?r=0:(Ml=null,Tl=0,r=Ll),0!==(Al&zl))ws(e,0);else if(0!==r){if(2===r&&(_l|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(n=jt(e))&&(r=Cs(e,n))),1===r)throw t=Bl,ws(e,0),hs(e,n),fs(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:_s(e);break;case 3:if(hs(e,n),(62914560&n)===n&&10<(r=Nl+500-zi())){if(0!==At(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ss(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fr(_s.bind(null,e),r);break}_s(e);break;case 4:if(hs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var l=31-Ut(n);o=1<<l,(l=r[l])>i&&(i=l),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xl(n/1960))-n)){e.timeoutHandle=Fr(_s.bind(null,e),n);break}_s(e);break;default:throw Error(a(329))}}return fs(e,zi()),e.callbackNode===t?ps.bind(null,e):null}function hs(e,t){for(t&=~Hl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function vs(e){if(0!==(48&_l))throw Error(a(327));if(Ts(),e===Ml&&0!==(e.expiredLanes&Tl)){var t=Tl,n=Cs(e,t);0!==(Al&zl)&&(n=Cs(e,t=At(e,t)))}else n=Cs(e,t=At(e,0));if(0!==e.tag&&2===n&&(_l|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(t=jt(e))&&(n=Cs(e,t))),1===n)throw n=Bl,ws(e,0),hs(e,t),fs(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e),fs(e,zi()),null}function gs(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Kl(),Ki())}}function ms(e,t){var n=_l;_l&=-2,_l|=8;try{return e(t)}finally{0===(_l=n)&&(Kl(),Ki())}}function ys(e,t){ai(Rl,Ol),Ol|=t,Al|=t}function bs(){Ol=Rl.current,oi(Rl)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Nr(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pi();break;case 3:Do(),oi(ui),oi(si),Wo();break;case 5:Oo(r);break;case 4:Do();break;case 13:case 19:oi(Ro);break;case 10:Qi(r);break;case 23:case 24:bs()}n=n.return}Ml=e,Dl=Us(e.current,null),Tl=Ol=Al=t,Ll=0,Bl=null,Hl=zl=jl=0}function ks(e,t){for(;;){var n=Dl;try{if(qi(),Yo.current=Pa,Qo){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Qo=!1}if($o=0,qo=Go=Zo=null,Jo=!1,Pl.current=null,null===n||null===n.return){Ll=1,Bl=t,Dl=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=Tl,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=0!==(1&Ro.current),f=a;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(p){var g=f.updateQueue;if(null===g){var m=new Set;m.add(u),f.updateQueue=m}else g.add(u);if(0===(2&f.mode)){if(f.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var y=oo(-1,1);y.tag=2,ao(l,y)}l.lanes|=1;break e}s=void 0,l=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ll,s=new Set,b.set(u,s)):void 0===(s=b.get(u))&&(s=new Set,b.set(u,s)),!s.has(l)){s.add(l);var w=js.bind(null,o,u,l);u.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);s=Error((X(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ll&&(Ll=2),s=ol(s,l),f=a;do{switch(f.tag){case 3:o=s,f.flags|=4096,t&=-t,f.lanes|=t,lo(f,sl(0,o,t));break e;case 1:o=s;var k=f.type,S=f.stateNode;if(0===(64&f.flags)&&("function"===typeof k.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===$l||!$l.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,lo(f,ul(f,o,t));break e}}f=f.return}while(null!==f)}Ps(n)}catch(C){t=C,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function Ss(){var e=Il.current;return Il.current=Pa,null===e?Pa:e}function Cs(e,t){var n=_l;_l|=16;var r=Ss();for(Ml===e&&Tl===t||ws(e,t);;)try{Es();break}catch(i){ks(e,i)}if(qi(),_l=n,Il.current=r,null!==Dl)throw Error(a(261));return Ml=null,Tl=0,Ll}function Es(){for(;null!==Dl;)Is(Dl)}function xs(){for(;null!==Dl&&!Ci();)Is(Dl)}function Is(e){var t=Vl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?Ps(e):Dl=t,Pl.current=null}function Ps(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=rl(n,t,Ol)))return void(Dl=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ol)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=il(t)))return n.flags&=2047,void(Dl=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function _s(e){var t=Hi();return Ni(99,Ms.bind(null,e,t)),null}function Ms(e,t){do{Ts()}while(null!==Gl);if(0!==(48&_l))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var l=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-Ut(o),c=1<<u;i[u]=0,l[u]=-1,s[u]=-1,o&=~c}if(null!==es&&0===(24&r)&&es.has(e)&&es.delete(e),e===Ml&&(Dl=Ml=null,Tl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=_l,_l|=32,Pl.current=null,Ar=Xt,fr(l=dr())){if("selectionStart"in l)s={start:l.selectionStart,end:l.selectionEnd};else e:if(s=(s=l.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(I){s=null;break e}var d=0,f=-1,p=-1,h=0,v=0,g=l,m=null;t:for(;;){for(var y;g!==s||0!==o&&3!==g.nodeType||(f=d+o),g!==u||0!==c&&3!==g.nodeType||(p=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===l)break t;if(m===s&&++h===o&&(f=d),m===u&&++v===c&&(p=d),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}s=-1===f||-1===p?null:{start:f,end:p}}else s=null;s=s||{start:0,end:0}}else s=null;jr={focusedElem:l,selectionRange:s},Xt=!1,as=null,ls=!1,Wl=r;do{try{Ds()}catch(I){if(null===Wl)throw Error(a(330));As(Wl,I),Wl=Wl.nextEffect}}while(null!==Wl);as=null,Wl=r;do{try{for(l=e;null!==Wl;){var b=Wl.flags;if(16&b&&ge(Wl.stateNode,""),128&b){var w=Wl.alternate;if(null!==w){var k=w.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&b){case 2:yl(Wl),Wl.flags&=-3;break;case 6:yl(Wl),Wl.flags&=-3,Sl(Wl.alternate,Wl);break;case 1024:Wl.flags&=-1025;break;case 1028:Wl.flags&=-1025,Sl(Wl.alternate,Wl);break;case 4:Sl(Wl.alternate,Wl);break;case 8:kl(l,s=Wl);var S=s.alternate;gl(s),null!==S&&gl(S)}Wl=Wl.nextEffect}}catch(I){if(null===Wl)throw Error(a(330));As(Wl,I),Wl=Wl.nextEffect}}while(null!==Wl);if(k=jr,w=dr(),b=k.focusedElem,l=k.selectionRange,w!==b&&b&&b.ownerDocument&&cr(b.ownerDocument.documentElement,b)){null!==l&&fr(b)&&(w=l.start,void 0===(k=l.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),s=b.textContent.length,S=Math.min(l.start,s),l=void 0===l.end?S:Math.min(l.end,s),!k.extend&&S>l&&(s=l,l=S,S=s),s=ur(b,S),o=ur(b,l),s&&o&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),S>l?(k.addRange(w),k.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Xt=!!Ar,jr=Ar=null,e.current=n,Wl=r;do{try{for(b=e;null!==Wl;){var C=Wl.flags;if(36&C&&pl(b,Wl.alternate,Wl),128&C){w=void 0;var E=Wl.ref;if(null!==E){var x=Wl.stateNode;Wl.tag,w=x,"function"===typeof E?E(w):E.current=w}}Wl=Wl.nextEffect}}catch(I){if(null===Wl)throw Error(a(330));As(Wl,I),Wl=Wl.nextEffect}}while(null!==Wl);Wl=null,Ri(),_l=i}else e.current=n;if(Zl)Zl=!1,Gl=e,ql=t;else for(Wl=r;null!==Wl;)t=Wl.nextEffect,Wl.nextEffect=null,8&Wl.flags&&((C=Wl).sibling=null,C.stateNode=null),Wl=t;if(0===(r=e.pendingLanes)&&($l=null),1===r?e===ns?ts++:(ts=0,ns=e):ts=0,n=n.stateNode,bi&&"function"===typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(yi,n,void 0,64===(64&n.current.flags))}catch(I){}if(fs(e,zi()),Yl)throw Yl=!1,e=Xl,Xl=null,e;return 0!==(8&_l)||Ki(),null}function Ds(){for(;null!==Wl;){var e=Wl.alternate;ls||null===as||(0!==(8&Wl.flags)?Qe(Wl,as)&&(ls=!0):13===Wl.tag&&El(e,Wl)&&Qe(Wl,as)&&(ls=!0));var t=Wl.flags;0!==(256&t)&&fl(e,Wl),0===(512&t)||Zl||(Zl=!0,Ui(97,(function(){return Ts(),null}))),Wl=Wl.nextEffect}}function Ts(){if(90!==ql){var e=97<ql?97:ql;return ql=90,Ni(e,Ls)}return!1}function Os(e,t){Ql.push(t,e),Zl||(Zl=!0,Ui(97,(function(){return Ts(),null})))}function Rs(e,t){Jl.push(t,e),Zl||(Zl=!0,Ui(97,(function(){return Ts(),null})))}function Ls(){if(null===Gl)return!1;var e=Gl;if(Gl=null,0!==(48&_l))throw Error(a(331));var t=_l;_l|=32;var n=Jl;Jl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],l=i.destroy;if(i.destroy=void 0,"function"===typeof l)try{l()}catch(u){if(null===o)throw Error(a(330));As(o,u)}}for(n=Ql,Ql=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(u){if(null===o)throw Error(a(330));As(o,u)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return _l=t,Ki(),!0}function Bs(e,t,n){ao(e,t=sl(0,t=ol(n,t),1)),t=ss(),null!==(e=ds(e,1))&&(Nt(e,1,t),fs(e,t))}function As(e,t){if(3===e.tag)Bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){var i=ul(n,e=ol(t,e),1);if(ao(n,i),i=ss(),null!==(n=ds(n,1)))Nt(n,1,i),fs(n,i);else if("function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ss(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Tl&n)===n&&(4===Ll||3===Ll&&(62914560&Tl)===Tl&&500>zi()-Nl?ws(e,0):Hl|=n),fs(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===is&&(is=Al),0===(t=Ht(62914560&~is))&&(t=4194304))),n=ss(),null!==(e=ds(e,t))&&(Nt(e,t,n),fs(e,n))}function Hs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(e,t,n,r){return new Hs(e,t,n,r)}function Ns(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Us(e,t){var n=e.alternate;return null===n?((n=Fs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,o){var l=2;if(r=e,"function"===typeof e)Ns(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case E:return Vs(n.children,i,o,t);case A:l=8,i|=16;break;case x:l=8,i|=1;break;case I:return(e=Fs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case D:return(e=Fs(13,n,t,i)).type=D,e.elementType=D,e.lanes=o,e;case T:return(e=Fs(19,n,t,i)).elementType=T,e.lanes=o,e;case j:return Ws(n,i,o,t);case z:return(e=Fs(24,n,t,i)).elementType=z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:l=10;break e;case _:l=9;break e;case M:l=11;break e;case O:l=14;break e;case R:l=16,r=null;break e;case L:l=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fs(l,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vs(e,t,n,r){return(e=Fs(7,e,r,t)).lanes=n,e}function Ws(e,t,n,r){return(e=Fs(23,e,r,t)).elementType=j,e.lanes=n,e}function Ys(e,t,n){return(e=Fs(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Fs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n,r){var i=t.current,o=ss(),l=us(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(fi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var u=n.type;if(fi(u)){n=vi(n,u,s);break e}}n=s}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=oo(o,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),cs(i,l,o),l}function Gs(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qs(e,t){qs(e,t),(e=e.alternate)&&qs(e,t)}function Js(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Fs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ro(t),e[Zr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function eu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var l=i;i=function(){var e=Gs(a);l.call(e)}}Zs(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Js(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Gs(a);s.call(e)}}ms((function(){Zs(t,a,e,i)}))}return Gs(a)}function nu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!eu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Vl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ui.current)Oa=!0;else{if(0===(n&r)){switch(Oa=!1,t.tag){case 3:Ua(t),Ko();break;case 5:To(t);break;case 1:fi(t.type)&&gi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$a(e,t,n):(ai(Ro,1&Ro.current),null!==(t=tl(e,t,n))?t.sibling:null);ai(Ro,1&Ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return el(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Ro,Ro.current),r)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return tl(e,t,n)}Oa=0!==(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,si.current),eo(t,n),i=na(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)){var o=!0;gi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ro(t);var l=r.getDerivedStateFromProps;"function"===typeof l&&fo(t,r,l,e),i.updater=po,t.stateNode=i,i._reactInternals=t,mo(t,r,e,n),t=Na(null,t,r,!0,o,n)}else t.tag=0,Ra(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Ns(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Fa(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,io(e,t),so(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=tl(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ao=Kr(t.stateNode.containerInfo.firstChild),Bo=t,o=jo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Vo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ra(e,t,r,n),Ko();t=t.child}return t;case 5:return To(t),null===e&&Fo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,Hr(r,i)?l=null:null!==o&&Hr(r,o)&&(t.flags|=16),za(e,t),Ra(e,t,l,n),t.child;case 6:return null===e&&Fo(t),null;case 13:return $a(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value;var s=t.type._context;if(ai(Xi,s._currentValue),s._currentValue=o,null!==l)if(s=l.value,0===(o=or(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(l.children===i.children&&!ui.current){t=tl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){l=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===s.tag&&((c=oo(-1,n&-n)).tag=2,ao(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ji(s.return,n),u.lanes|=n;break}c=c.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,eo(t,n),r=r(i=to(i,o.unstable_observedBits)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ba(e,t,i,o=Yi(i.type,o),r,n);case 15:return Aa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fi(r)?(e=!0,gi(t)):e=!1,eo(t,n),vo(t,r,i),mo(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return el(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(a(156,t.tag))},Js.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},Js.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[Zr]=null}))},Je=function(e){13===e.tag&&(cs(e,4,ss()),Qs(e,4))},et=function(e){13===e.tag&&(cs(e,67108864,ss()),Qs(e,67108864))},tt=function(e){if(13===e.tag){var t=ss(),n=us(e);cs(e,n,t),Qs(e,n)}},nt=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ei(r);if(!i)throw Error(a(90));q(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Te=gs,Oe=function(e,t,n,r,i){var o=_l;_l|=4;try{return Ni(98,e.bind(null,t,n,r,i))}finally{0===(_l=o)&&(Kl(),Ki())}},Re=function(){0===(49&_l)&&(function(){if(null!==es){var e=es;es=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fs(e,zi())}))}Ki()}(),Ts())},Le=function(e,t){var n=_l;_l|=2;try{return e(t)}finally{0===(_l=n)&&(Kl(),Ki())}};var ru={Events:[Qr,Jr,ei,Me,De,Ts,{current:!1}]},iu={findFiberByHostInstance:qr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ou={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{yi=au.inject(ou),bi=au}catch(lu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,t.createPortal=nu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=_l;if(0!==(48&n))return e(t);_l|=1;try{if(e)return Ni(99,e.bind(null,t))}finally{_l=n,Ki()}},t.hydrate=function(e,t,n){if(!eu(t))throw Error(a(200));return tu(null,e,t,!0,n)},t.render=function(e,t,n){if(!eu(t))throw Error(a(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!eu(e))throw Error(a(40));return!!e._reactRootContainer&&(ms((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=gs,t.unstable_createPortal=function(e,t){return nu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return tu(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},117:function(e,t,n){var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,l=60110,s=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),l=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},k=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:l,props:o,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,r,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=e),e=""===r?"."+I(s,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),P(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+I(l=e[u],u);s+=P(l,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=P(l=l.value,t,n,c=r+I(l,u++),a);else if("object"===l)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function _(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function T(){var e=D.current;if(null===e)throw Error(p(321));return e}var O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var o=r({},e.props),a=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:l,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,d=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,k=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?k.postMessage(null):(v=!1,g=null)}catch(n){throw k.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,k.postMessage(null))},r=function(e,n){m=f((function(){e(t.unstable_now())}),n)},i=function(){p(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],l=o+1,s=e[l];if(void 0!==a&&0>x(a,n))void 0!==s&&0>x(s,a)?(e[r]=s,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>x(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],P=[],_=1,M=null,D=3,T=!1,O=!1,R=!1;function L(e){for(var t=C(P);null!==t;){if(null===t.callback)E(P);else{if(!(t.startTime<=e))break;E(P),t.sortIndex=t.expirationTime,S(I,t)}t=C(P)}}function B(e){if(R=!1,L(e),!O)if(null!==C(I))O=!0,n(A);else{var t=C(P);null!==t&&r(B,t.startTime-e)}}function A(e,n){O=!1,R&&(R=!1,i()),T=!0;var o=D;try{for(L(n),M=C(I);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=M.callback;if("function"===typeof a){M.callback=null,D=M.priorityLevel;var l=a(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?M.callback=l:M===C(I)&&E(I),L(n)}else E(I);M=C(I)}if(null!==M)var s=!0;else{var u=C(P);null!==u&&r(B,u.startTime-n),s=!1}return s}finally{M=null,D=o,T=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||T||(O=!0,n(A))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(I)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:_++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>l?(e.sortIndex=a,S(P,e),null===C(I)&&e===C(P)&&(R?i():R=!0,r(B,a-l))):(e.sortIndex=s,S(I,e),O||T||(O=!0,n(A))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return l((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),a((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){var r=n(791),i=n(248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return l=t}return l=e}if(t=l,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,l=n)}var a,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,function(){var e=n(164);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return c=u()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},c.apply(null,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e){var n=u();return function(){var r,i=p(e);if(n){var o=p(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,r)}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(){k=function(){return n};var e,n={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),l=new O(r||[]);return o(a,"_invoke",{value:_(e,n,l)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",h="suspendedYield",v="executing",g="completed",m={};function y(){}function b(){}function w(){}var S={};c(S,l,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(R([])));E&&E!==r&&i.call(E,l)&&(S=E);var x=w.prototype=y.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,n){function r(o,a,l,s){var u=f(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&i.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,l,s)}),(function(e){r("throw",e,l,s)})):n.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return r("throw",e,l,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return a=a?a.then(i,i):i()}})}function _(t,n,r){var i=p;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=M(l,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?g:h,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function M(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function R(n){if(n||""===n){var r=n[l];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function t(){for(;++o<n.length;)if(i.call(n,o))return t.value=n[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(n)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},n.awrap=function(e){return{__await:e}},I(P.prototype),c(P.prototype,s,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new P(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(x),c(x,u,"Generator"),c(x,l,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},n}function S(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}var E=n(791),x=n.t(E,2);var I=Object.defineProperty,P=function(e,t,n){return function(e,t,n){t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},_=function(){function e(){w(this,e)}return b(e,null,[{key:"clamp",value:function(e,t,n){return Math.max(t,"undefined"!=typeof n?Math.min(e,n):e)}},{key:"clampV",value:function(t,n,r){return t.map((function(t){return r?e.clamp(t,n,r):e.clamp(t,n)}))}},{key:"cross",value:function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}},{key:"snap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}}]),e}(),M=_;P(M,"neg",(function(e){return[-e[0],-e[1]]})),P(M,"add",(function(e,t){return[e[0]+t[0],e[1]+t[1]]})),P(M,"addScalar",(function(e,t){return[e[0]+t,e[1]+t]})),P(M,"sub",(function(e,t){return[e[0]-t[0],e[1]-t[1]]})),P(M,"subScalar",(function(e,t){return[e[0]-t,e[1]-t]})),P(M,"vec",(function(e,t){return[t[0]-e[0],t[1]-e[1]]})),P(M,"mul",(function(e,t){return[e[0]*t,e[1]*t]})),P(M,"mulV",(function(e,t){return[e[0]*t[0],e[1]*t[1]]})),P(M,"div",(function(e,t){return[e[0]/t,e[1]/t]})),P(M,"divV",(function(e,t){return[e[0]/t[0],e[1]/t[1]]})),P(M,"per",(function(e){return[e[1],-e[0]]})),P(M,"dpr",(function(e,t){return e[0]*t[0]+e[1]*t[1]})),P(M,"cpr",(function(e,t){return e[0]*t[1]-t[0]*e[1]})),P(M,"len2",(function(e){return e[0]*e[0]+e[1]*e[1]})),P(M,"len",(function(e){return Math.hypot(e[0],e[1])})),P(M,"pry",(function(e,t){return _.dpr(e,t)/_.len(t)})),P(M,"uni",(function(e){return _.div(e,_.len(e))})),P(M,"normalize",(function(e){return _.uni(e)})),P(M,"tangent",(function(e,t){return _.uni(_.sub(e,t))})),P(M,"dist2",(function(e,t){return _.len2(_.sub(e,t))})),P(M,"dist",(function(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])})),P(M,"fastDist",(function(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=[Math.abs(n[0]),Math.abs(n[1])],i=1/Math.max(r[0],r[1]);return[n[0]*(i*=1.29289-(r[0]+r[1])*i*.29289),n[1]*i]})),P(M,"ang",(function(e,t){return Math.atan2(_.cpr(e,t),_.dpr(e,t))})),P(M,"angle",(function(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])})),P(M,"med",(function(e,t){return _.mul(_.add(e,t),.5)})),P(M,"rot",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]})),P(M,"rotWith",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===n)return e;var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],l=o*r+a*i;return[o*i-a*r+t[0],l+t[1]]})),P(M,"isEqual",(function(e,t){return e[0]===t[0]&&e[1]===t[1]})),P(M,"lrp",(function(e,t,n){return _.add(e,_.mul(_.sub(t,e),n))})),P(M,"int",(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=(_.clamp(n,r)-n)/(r-n);return _.add(_.mul(e,1-o),_.mul(t,i))})),P(M,"ang3",(function(e,t,n){var r=_.vec(t,e),i=_.vec(t,n);return _.ang(r,i)})),P(M,"abs",(function(e){return[Math.abs(e[0]),Math.abs(e[1])]})),P(M,"rescale",(function(e,t){var n=_.len(e);return[t*e[0]/n,t*e[1]/n]})),P(M,"isLeft",(function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])})),P(M,"clockwise",(function(e,t,n){return _.isLeft(e,t,n)>0})),P(M,"toFixed",(function(e){return e.map((function(e){return Math.round(100*e)/100}))})),P(M,"nearestPointOnLineThroughPoint",(function(e,t,n){return _.add(e,_.mul(t,_.pry(_.sub(n,e),t)))})),P(M,"distanceToLineThroughPoint",(function(e,t,n){return _.dist(n,_.nearestPointOnLineThroughPoint(e,t,n))})),P(M,"nearestPointOnLineSegment",(function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=_.uni(_.sub(t,e)),o=_.add(e,_.mul(i,_.pry(_.sub(n,e),i)));if(r){if(o[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(o[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(o[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(o[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return o})),P(M,"distanceToLineSegment",(function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return _.dist(n,_.nearestPointOnLineSegment(e,t,n,r))})),P(M,"nearestPointOnBounds",(function(e,t){return[_.clamp(t[0],e.minX,e.maxX),_.clamp(t[1],e.minY,e.maxY)]})),P(M,"distanceToBounds",(function(e,t){return _.dist(t,_.nearestPointOnBounds(e,t))})),P(M,"nudge",(function(e,t,n){return _.isEqual(e,t)?e:_.add(e,_.mul(_.uni(_.sub(t,e)),n))})),P(M,"nudgeAtAngle",(function(e,t,n){return[Math.cos(t)*n+e[0],Math.sin(t)*n+e[1]]})),P(M,"toPrecision",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return[+e[0].toPrecision(t),+e[1].toPrecision(t)]})),P(M,"pointsBetween",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return Array.from(Array(n)).map((function(r,i){var o=i/(n-1),a=Math.min(1,.5+Math.abs(.5-o));return[].concat(S(_.lrp(e,t,o)),[a])}))})),P(M,"slope",(function(e,t){return e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])})),P(M,"max",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Math.max.apply(Math,S(t.map((function(e){return e[0]})))),Math.max.apply(Math,S(t.map((function(e){return e[1]}))))]})),P(M,"min",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Math.min.apply(Math,S(t.map((function(e){return e[0]})))),Math.min.apply(Math,S(t.map((function(e){return e[1]}))))]}));var D=M;function T(){return T="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},T.apply(this,arguments)}var O=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},R=function(e,t){return[e[0]+t[0],e[1]+t[1]]},L=function(e,t){return[e[0]-t[0],e[1]-t[1]]},B=function(e,t){e[0]+=t[0],e[1]+=t[1]};function A(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-A(t-e,n-t,r)+t:e>n?+A(e-n,n-t,r)+n:e}function z(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function H(e,t,n){return(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function K(e){return e?e[0].toUpperCase()+e.slice(1):""}var V=["enter","leave"];function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=U[e],i=r&&r[t]||t;return"on"+K(e)+K(i)+(function(){var e=arguments.length>1?arguments[1]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!V.includes(e)}(n,i)?"Capture":"")}var Y=["gotpointercapture","lostpointercapture"];function X(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=Y.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function $(e){return"touches"in e}function Z(e){return $(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function G(e){return $(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function q(e,t){try{var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:a,origin:[i,o]}}catch(l){}return null}function Q(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function J(e,t){var n=m(Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),2);return q(n[0],n[1])}function ee(e){var t=G(e);return $(e)?t.identifier:t.pointerId}function te(e){var t=G(e);return[t.clientX,t.clientY]}function ne(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function re(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function ie(){}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?ie:1===t.length?t[0]:function(){for(var e,n=0,r=t;n<r.length;n++){e=r[n].apply(this,arguments)||e}return e}}function ae(e,t){return Object.assign({},t,e||{})}var le=function(){function e(t,n,r){w(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return b(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?re(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,o=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var o=t._delta.map(Math.abs);B(t._distance,o)}this.axisIntent&&this.axisIntent(e);var a=m(t._movement,2),l=a[0],s=a[1],u=m(n.threshold,2),c=u[0],d=u[1],f=t._step,p=t.values;if(n.hasCustomTransform?(!1===f[0]&&(f[0]=Math.abs(l)>=c&&p[0]),!1===f[1]&&(f[1]=Math.abs(s)>=d&&p[1])):(!1===f[0]&&(f[0]=Math.abs(l)>=c&&Math.sign(l)*c),!1===f[1]&&(f[1]=Math.abs(s)>=d&&Math.sign(s)*d)),t.intentional=!1!==f[0]||!1!==f[1],t.intentional){var h=[0,0];if(n.hasCustomTransform){var v=m(p,2),g=v[0],y=v[1];h[0]=!1!==f[0]?g-f[0]:0,h[1]=!1!==f[1]?y-f[1]:0}else h[0]=!1!==f[0]?l-f[0]:0,h[1]=!1!==f[1]?s-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(h);var b=t.offset,w=t._active&&!t._blocked||t.active;w&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=re(n.bounds,t)),this.setup&&this.setup()),t.movement=h,this.computeOffset()));var k=m(t.offset,2),S=k[0],C=k[1],E=m(t._bounds,2),x=m(E[0],2),I=x[0],P=x[1],_=m(E[1],2),M=_[0],D=_[1];t.overflow=[S<I?-1:S>P?1:0,C<M?-1:C>D?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var T=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=m(t,2),i=r[0],o=r[1],a=m(n,2),l=a[0],s=a[1],u=m(e,2),c=m(u[0],2),d=c[0],f=c[1],p=m(u[1],2),h=p[0],v=p[1];return[j(i,d,f,l),j(o,h,v,s)]}(t._bounds,t.offset,T),t.delta=L(t.offset,b),this.computeMovement(),w&&(!t.last||i>32)){t.delta=L(t.offset,b);var O=t.delta.map(Math.abs);B(t.distance,O),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[O[0]/i,O[1]/i],t.timeDelta=i)}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(N(N(N({},t),e),{},i({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var se=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return b(n,[{key:"reset",value:function(){T(p(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=R(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=L(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[Z(e)]:n.axisThreshold;t.axis=function(e,t){var n=m(e,2),r=n[0],i=n[1],o=Math.abs(r),a=Math.abs(i);return o>a&&o>t?"x":a>o&&a>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(le),ue=function(e){return e},ce={enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},eventOptions:function(e,t,n){return N(N({},n.shared.eventOptions),e)},preventDefault:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},triggerAllEvents:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return O(e)}},from:function(e){return"function"===typeof e?e:null!=e?O(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||ue},threshold:function(e){return O(e,0)}};var de=N(N({},ce),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return de.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,o=e.top,a=void 0===o?-1/0:o,l=e.bottom;return[[n,i],[a,void 0===l?1/0:l]]}}),fe={ArrowRight:function(e){return[e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowLeft:function(e){return[-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowUp:function(e){return[0,-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]},ArrowDown:function(e){return[0,e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]}},pe=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return b(n,[{key:"reset",value:function(){T(p(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=de.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,T(p(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=ee(e),n._pointerActive=!0,this.computeValues(te(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==Z(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive){var r=ee(e);if(void 0===t._pointerId||r===t._pointerId){var i=te(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=L(i,t._values),this.computeValues(i)),B(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(C){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=ee(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=m(t._distance,2),o=i[0],a=i[1];if(t.tap=o<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var l=m(t._delta,2),s=l[0],u=l[1],c=m(t._movement,2),d=c[0],f=c[1],p=m(n.swipe.velocity,2),h=p[0],v=p[1],g=m(n.swipe.distance,2),y=g[0],b=g[1],w=n.swipe.duration;if(t.elapsedTime<w){var k=Math.abs(s/t.timeDelta),S=Math.abs(u/t.timeDelta);k>h&&Math.abs(d)>y&&(t.swipe[0]=Math.sign(s)),S>v&&Math.abs(f)>b&&(t.swipe[1]=Math.sign(u))}}this.emit()}}}},{key:"pointerClick",value:function(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=fe[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,B(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in fe&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(se);var he="undefined"!==typeof window&&window.document&&window.document.createElement;function ve(){return he&&"ontouchstart"in window||he&&window.navigator.maxTouchPoints>1}var ge={isBrowser:he,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:ve(),touchscreen:ve(),pointer:he&&"onpointerdown"in window,pointerLock:he&&"exitPointerLock"in window.document},me={mouse:0,touch:0,pen:8},ye=N(N({},de),{},{device:function(e,t,n){var r=n.pointer,i=void 0===r?{}:r,o=i.touch,a=void 0!==o&&o,l=i.lock,s=void 0!==l&&l,u=i.mouse,c=void 0!==u&&u;return this.pointerLock=s&&ge.pointerLock,ge.touch&&a?"touch":this.pointerLock?"mouse":ge.pointer&&!c?"pointer":ge.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,ge.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=void 0===r?{}:r,o=i.capture,a=void 0===o||o,l=i.buttons,s=void 0===l?1:l,u=i.keys,c=void 0===u||u;return this.pointerButtons=s,this.keys=c,!this.pointerLock&&"pointer"===this.device&&a},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.tapsThreshold,a=void 0===o?3:o,l=n.axis,s=O(e,i?a:(void 0===l?void 0:l)?1:0);return this.filterTaps=i,this.tapsThreshold=a,s},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,o=e.duration,a=void 0===o?250:o;return{velocity:this.transform(O(n)),distance:this.transform(O(i)),duration:a}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?N(N({},me),e):me},keyboardDisplacement:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:10}});function be(e){var t=m(e.overflow,2),n=t[0],r=t[1],i=m(e._delta,2),o=i[0],a=i[1],l=m(e._direction,2),s=l[0],u=l[1];(n<0&&o>0&&s<0||n>0&&o<0&&s>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&a>0&&u<0||r>0&&a<0&&u>0)&&(e._movement[1]=e._movementBound[1])}var we=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"ingKey","pinching"),H(d(e),"aliasKey","da"),e}return b(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){T(p(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?R(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"axisIntent",value:function(){var e=this.state,t=m(e._movement,2),n=t[0],r=t[1];if(!e.axis){var i=30*Math.abs(n)-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}},{key:"restrictToAxis",value:function(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=J(e,t._touchIds);r&&this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return r.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var i=q.apply(void 0,S(Array.from(n.values())));i&&this.pinchStart(e,i)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=J(e,this.state._touchIds);t&&this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=q.apply(void 0,S(Array.from(t.values())));n&&this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],i=t.angle-r,o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*o]),n.origin=t.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=L(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){var t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-ne(e)[1]/100*t.offset[0],0],B(t._movement,t._delta),be(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(le),ke=N(N({},ce),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,o=(void 0===i?{}:i).touch,a=void 0!==o&&o;if(r.target&&!ge.touch&&ge.gesture)return"gesture";if(ge.touch&&a)return"touch";if(ge.touchscreen){if(ge.pointer)return"pointer";if(ge.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,o=n.angleBounds,a=void 0===o?{}:o,l=function(e){var t=ae(re(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},s=function(e){var t=ae(re(a,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof a?[l(),s()]:function(e){return[l(e),s(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=O(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e},pinchOnWheel:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),Se=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"ingKey","moving"),e}return b(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(te(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=te(e),n=this.state;n._delta=L(t,n._values),B(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(se),Ce=N(N({},de),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),Ee=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"ingKey","scrolling"),e}return b(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,i=r.scrollX,o=r.scrollY,a=r.scrollLeft,l=r.scrollTop;return[null!==(t=null!==i&&void 0!==i?i:a)&&void 0!==t?t:0,null!==(n=null!==o&&void 0!==o?o:l)&&void 0!==n?n:0]}(e);t._delta=L(n,t._values),B(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(se),xe=de,Ie=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"ingKey","wheeling"),e}return b(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=ne(e),B(t._movement,t._delta),be(t),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(se),Pe=de,_e=function(e){f(n,e);var t=h(n);function n(){var e;w(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return H(d(e=t.call.apply(t,[this].concat(i))),"ingKey","hovering"),e}return b(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(te(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=te(e);t._movement=t._delta=L(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(se),Me=N(N({},de),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),De=new Map,Te=new Map;function Oe(e){De.set(e.key,e.engine),Te.set(e.key,e.resolver)}var Re={key:"drag",engine:pe,resolver:ye},Le={key:"hover",engine:_e,resolver:Me},Be={key:"move",engine:Se,resolver:Ce},Ae={key:"pinch",engine:we,resolver:ke},je={key:"scroll",engine:Ee,resolver:xe},ze={key:"wheel",engine:Ie,resolver:Pe};function He(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge.isBrowser?window:void 0})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture;return{passive:n,capture:void 0!==r&&r}},transform:function(e){return e}},Ne=["target","eventOptions","window","enabled","transform"];function Ue(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var o=m(i[r],2),a=o[0],l=o[1];switch(typeof l){case"function":n[a]=l.call(n,e[a],a,e);break;case"object":n[a]=Ue(e[a],l);break;case"boolean":l&&(n[a]=e[a])}}return n}var Ke=function(){function e(t,n){w(this,e),H(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}return b(e,[{key:"add",value:function(e,t,n,r,i){var o=this._listeners,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=U[e];return e+(n&&n[t]||t)}(t,n),l=N(N({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(a,r,l);var s=function t(){e.removeEventListener(a,r,l),o.delete(t)};return o.add(s),s}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}]),e}(),Ve=function(){function e(){w(this,e),H(this,"_timeouts",new Map)}return b(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(o)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),We=function(){function e(t){w(this,e),H(this,"gestures",new Set),H(this,"_targetEventStore",new Ke(this)),H(this,"gestureEventStores",{}),H(this,"gestureTimeoutStores",{}),H(this,"handlers",{}),H(this,"config",{}),H(this,"pointerIds",new Set),H(this,"touchIds",new Set),H(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&Ye(e,"drag");t.wheel&&Ye(e,"wheel");t.scroll&&Ye(e,"scroll");t.move&&Ye(e,"move");t.pinch&&Ye(e,"pinch");t.hover&&Ye(e,"hover")}(this,t)}return b(e,[{key:"setEventIds",value:function(e){return $(e)?(this.touchIds=new Set(Q(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,i=r.target,o=r.eventOptions,a=r.window,l=r.enabled,s=r.transform,u=He(r,Ne);if(n.shared=Ue({target:i,eventOptions:o,window:a,enabled:l,transform:s},Fe),t){var c=Te.get(t);n[t]=Ue(N({shared:n.shared},u),c)}else for(var d in u){var f=Te.get(d);f&&(n[d]=Ue(N({shared:n.shared},u[d]),f))}return n}(e,t,this.config)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=C(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=this.config.shared,a={};if(!o.target||(i=o.target())){if(o.enabled){var l,s=C(this.gestures);try{for(s.s();!(l=s.n()).done;){var u=l.value,c=this.config[u],d=Xe(a,c.eventOptions,!!i);if(c.enabled)new(De.get(u))(this,n,u).bind(d)}}catch(k){s.e(k)}finally{s.f()}var f=Xe(a,o.eventOptions,!!i),p=function(t){f(t,"",(function(r){return e.nativeHandlers[t](N(N({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var h in this.nativeHandlers)p(h)}for(var v in a)a[v]=oe.apply(void 0,S(a[v]));if(!i)return a;for(var g in a){var m=X(g),y=m.device,b=m.capture,w=m.passive;this._targetEventStore.add(i,y,"",a[g],{capture:b,passive:w})}}}}]),e}();function Ye(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ke(e,t),e.gestureTimeoutStores[t]=new Ve}var Xe=function(e,t,n){return function(r,i,o){var a,l,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(a=s.capture)&&void 0!==a?a:t.capture,d=null!==(l=s.passive)&&void 0!==l?l:t.passive,f=u?r:W(r,i,c);n&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(o)}},$e=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Ze(e,t,n,r,i,o){if(e.has(n)&&De.has(r)){var a=n+"Start",l=n+"End";i[r]=function(e){var r=void 0;return e.first&&a in t&&t[a](e),n in t&&(r=t[n](e)),e.last&&l in t&&t[l](e),r},o[r]=o[r]||{}}}function Ge(e,t){var n=function(e){var t={},n={},r=new Set;for(var i in e)$e.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=m(n,3),i=r[0],o=r[1],a=r[2],l={};return Ze(a,i,"onDrag","drag",l,t),Ze(a,i,"onWheel","wheel",l,t),Ze(a,i,"onScroll","scroll",l,t),Ze(a,i,"onPinch","pinch",l,t),Ze(a,i,"onMove","move",l,t),Ze(a,i,"onHover","hover",l,t),{handlers:l,config:t,nativeHandlers:o}}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=E.useMemo((function(){return new We(e)}),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),E.useEffect(i.effect.bind(i)),E.useEffect((function(){return i.clean.bind(i)}),[]),void 0===t.target)return i.bind.bind(i)}function Qe(e,t){var n=([Re,Ae,je,ze,Be,Le].forEach(Oe),function(e,t){var n=Ge(e,t||{}),r=n.handlers,i=n.nativeHandlers;return qe(r,n.config,void 0,i)});return n(e,t||{})}function Je(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e*r(.5-t*(.5-n))}function et(e,t){return[e[0]+t[0],e[1]+t[1]]}function tt(e,t){return[e[0]-t[0],e[1]-t[1]]}function nt(e,t){return[e[0]*t,e[1]*t]}function rt(e){return[e[1],-e[0]]}function it(e,t){return e[0]*t[0]+e[1]*t[1]}function ot(e,t){return e[0]===t[0]&&e[1]===t[1]}function at(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(tt(e,t))}function lt(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function st(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ut(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],l=o*r+a*i;return[o*i-a*r+t[0],l+t[1]]}function ct(e,t,n){return et(e,nt(tt(t,e),n))}function dt(e,t,n){return et(e,nt(t,n))}var ft=Math.min,pt=Math.PI,ht=.275,vt=pt+1e-4;function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,i=t.smoothing,o=void 0===i?.5:i,a=t.thinning,l=void 0===a?.5:a,s=t.simulatePressure,u=void 0===s||s,c=t.easing,d=void 0===c?function(e){return e}:c,f=t.start,p=void 0===f?{}:f,h=t.end,v=void 0===h?{}:h,g=t.last,m=void 0!==g&&g,y=p.cap,b=void 0===y||y,w=p.easing,k=void 0===w?function(e){return e*(2-e)}:w,S=v.cap,C=void 0===S||S,E=v.easing,x=void 0===E?function(e){return--e*e*e+1}:E;if(0===e.length||r<=0)return[];for(var I,P=e[e.length-1].runningLength,_=!1===p.taper?0:!0===p.taper?Math.max(r,P):p.taper,M=!1===v.taper?0:!0===v.taper?Math.max(r,P):v.taper,D=Math.pow(r*o,2),T=[],O=[],R=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(u){var i=ft(1,t.distance/r),o=ft(1,1-i);n=ft(1,e+i*ht*(o-e))}return(e+n)/2}),e[0].pressure),L=Je(r,l,e[e.length-1].pressure,d),B=e[0].vector,A=e[0].point,j=A,z=A,H=j,F=!1,N=0;N<e.length;N++){var U=e[N].pressure,K=e[N],V=K.point,W=K.vector,Y=K.distance,X=K.runningLength;if(!(N<e.length-1&&P-X<3)){if(l){if(u){var $=ft(1,Y/r),Z=ft(1,1-$);U=ft(1,R+$*ht*(Z-R))}L=Je(r,l,U,d)}else L=r/2;void 0===I&&(I=L);var G=X<_?k(X/_):1,q=P-X<M?x((P-X)/M):1;L=Math.max(.01,L*Math.min(G,q));var Q=(N<e.length-1?e[N+1]:e[N]).vector,J=N<e.length-1?it(W,Q):1,ee=null!==J&&J<0;if(it(W,B)<0&&!F||ee){for(var te=nt(rt(B),L),ne=0;ne<=1;ne+=.07692307692307693)z=ut(tt(V,te),V,vt*ne),T.push(z),H=ut(et(V,te),V,vt*-ne),O.push(H);A=z,j=H,ee&&(F=!0)}else if(F=!1,N!==e.length-1){var re=nt(rt(ct(Q,W,J)),L);z=tt(V,re),(N<=1||at(A,z)>D)&&(T.push(z),A=z),H=et(V,re),(N<=1||at(j,H)>D)&&(O.push(H),j=H),R=U,B=W}else{var ie=nt(rt(W),L);T.push(tt(V,ie)),O.push(et(V,ie))}}}var oe=e[0].point.slice(0,2),ae=e.length>1?e[e.length-1].point.slice(0,2):et(e[0].point,[1,1]),le=[],se=[];if(1===e.length){if(!_&&!M||m){for(var ue=dt(oe,lt(rt(tt(oe,ae))),-(I||L)),ce=[],de=1/13,fe=de;fe<=1;fe+=de)ce.push(ut(ue,oe,2*vt*fe));return ce}}else{if(!(_||M&&1===e.length))if(b)for(var pe=1/13,he=pe;he<=1;he+=pe){var ve=ut(O[0],oe,vt*he);le.push(ve)}else{var ge=tt(T[0],O[0]),me=nt(ge,.5),ye=nt(ge,.51);le.push(tt(oe,me),tt(oe,ye),et(oe,ye),et(oe,me))}var be=rt(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(M||_&&1===e.length)se.push(ae);else if(C)for(var we=dt(ae,be,L),ke=1/29,Se=ke;Se<1;Se+=ke)se.push(ut(we,ae,3*vt*Se));else se.push(et(ae,nt(be,L)),et(ae,nt(be,.99*L)),tt(ae,nt(be,.99*L)),tt(ae,nt(be,L)))}return T.concat(se,O.reverse(),le)}function mt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,i=void 0===r?.5:r,o=n.size,a=void 0===o?16:o,l=n.last,s=void 0!==l&&l;if(0===e.length)return[];var u=.15+.85*(1-i),c=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===c.length){var d=c[1];c=c.slice(0,-1);for(var f=1;f<5;f++)c.push(ct(c[0],d,f/4))}1===c.length&&(c=[].concat(S(c),[[].concat(S(et(c[0],[1,1])),S(c[0].slice(2)))]));for(var p=[{point:[c[0][0],c[0][1]],pressure:c[0][2]>=0?c[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],h=!1,v=0,g=p[0],m=c.length-1,y=1;y<c.length;y++){var b=s&&y===m?c[y].slice(0,2):ct(g.point,c[y],u);if(!ot(g.point,b)){var w=st(b,g.point);if(v+=w,y<m&&!h){if(v<a)continue;h=!0}g={point:b,pressure:c[y][2]>=0?c[y][2]:.5,vector:lt(tt(g.point,b)),distance:w,runningLength:v},p.push(g)}}return p[0].vector=(null==(t=p[1])?void 0:t.vector)||[0,0],p}var yt,bt,wt,kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gt(mt(e,t),t)},St=Object.defineProperty,Ct=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,xt=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable,_t=function(e,t,n){return t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Mt=function(e,t){for(var n in t||(t={}))It.call(t,n)&&_t(e,n,t[n]);if(xt){var r,i=C(xt(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Pt.call(t,n)&&_t(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Dt=function(e,t){return Ct(e,Et(t))};function Tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{didIntersect:n.length>0,message:e,points:n}}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[e[0]+t[0]/2,e[1]+t[1]/2],i=M.rotWith(e,r,n),o=M.rotWith(M.add(e,[t[0],0]),r,n),a=M.rotWith(M.add(e,t),r,n),l=M.rotWith(M.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,l]],["left",[l,i]]]}function Rt(e,t,n,r){var i=m(e,2),o=i[0],a=i[1],l=m(t,2),s=l[0],u=l[1],c=m(n,2),d=c[0],f=c[1],p=m(r,2),h=p[0],v=p[1];if(u/s!==(v-f)/(h-d)){var g=s*(v-f)-u*(h-d);if(0!==g){var y=((a-f)*(h-d)-(o-d)*(v-f))/g,b=((a-f)*s-(o-d)*u)/g;if(y>=0&&b>=0&&b<=1)return Tt("intersection",[o+y*s,a+y*u])}}return Tt("no intersection")}function Lt(e,t,n,r){return function(e,t,n,r,i){return Ot(e,t,n).reduce((function(e,t){var n=m(t,2),o=n[0],a=m(n[1],2),l=a[0],s=a[1],u=Rt(r,i,l,s);return u&&e.push(Tt.apply(void 0,[o].concat(S(u.points)))),e}),[]).filter((function(e){return e.didIntersect}))}(n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,e,t)}function Bt(e,t,n,r,i,o){return Ft(e,M.mul(t,999999999),n,r,i,o)}function At(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Lt(e,t,[n.minX,n.minY],[n.width,n.height],r)}function jt(e,t,n,r){var i=M.sub(e,n),o=M.sub(r,n),a=M.sub(t,e),l=o[0]*i[1]-o[1]*i[0],s=a[0]*i[1]-a[1]*i[0],u=o[1]*a[0]-o[0]*a[1];if(0===l||0===s)return Tt("coincident");if(0===u)return Tt("parallel");if(0!==u){var c=l/u,d=s/u;if(0<=c&&c<=1&&0<=d&&d<=1)return Tt("intersection",M.add(e,M.mul(a,c)))}return Tt("no intersection")}function zt(e,t,n,r,i,o){var a=M.angle(n,i),l=M.angle(n,o),s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return t===n?Ht(i,o,e,t):Ft(i,o,e,t,n,r)}(n,r,r,0,e,t);if(!s.didIntersect)return Tt("no intersection");var u=s.points.filter((function(e){return function(e,t,n){if(n===e||n===t)return!0;var r=2*Math.PI,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!=o>i}(a,l,M.angle(n,e))}));return 0===u.length?Tt("no intersection"):Tt.apply(void 0,["intersection"].concat(S(u)))}function Ht(e,t,n,r){var i=(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]),o=2*((t[0]-e[0])*(e[0]-n[0])+(t[1]-e[1])*(e[1]-n[1])),a=o*o-4*i*(n[0]*n[0]+n[1]*n[1]+e[0]*e[0]+e[1]*e[1]-2*(n[0]*e[0]+n[1]*e[1])-r*r);if(a<0)return Tt("outside");if(0===a)return Tt("tangent");var l=Math.sqrt(a),s=(-o+l)/(2*i),u=(-o-l)/(2*i);if((s<0||s>1)&&(u<0||u>1))return Tt(s<0&&u<0||s>1&&u>1?"outside":"inside");var c=[];return 0<=s&&s<=1&&c.push(M.lrp(e,t,s)),0<=u&&u<=1&&c.push(M.lrp(e,t,u)),Tt.apply(void 0,["intersection"].concat(c))}function Ft(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(0===r||0===i||M.isEqual(e,t))return Tt("no intersection");r=r<0?r:-r,i=i<0?i:-i,e=M.sub(M.rotWith(e,n,-o),n),t=M.sub(M.rotWith(t,n,-o),n);var a=M.sub(t,e),l=a[0]*a[0]/r/r+a[1]*a[1]/i/i,s=2*e[0]*a[0]/r/r+2*e[1]*a[1]/i/i,u=[],c=s*s-4*l*(e[0]*e[0]/r/r+e[1]*e[1]/i/i-1);if(0===c)u.push(-s/2/l);else if(c>0){var d=Math.sqrt(c);u.push((-s+d)/2/l),u.push((-s-d)/2/l)}var f=u.filter((function(e){return e>=0&&e<=1})).map((function(r){return M.add(n,M.add(e,M.mul(M.sub(t,e),r)))})).map((function(e){return M.rotWith(e,n,o)}));return Tt.apply(void 0,["intersection"].concat(S(f)))}function Nt(e,t,n){return function(e,t,n){var r=e.minX,i=e.minY,o=e.width,a=e.height;return function(e,t,n,r){return Kt(n,r,e,t)}(t,n,[r,i],[o,a])}(n,e,t)}function Ut(e,t,n){for(var r=[],i=1;i<n.length;i++){var o=jt(e,t,n[i-1],n[i]);o&&r.push.apply(r,S(o.points))}return 0===r.length?Tt("no intersection"):Tt.apply(void 0,["intersection"].concat(S(n)))}function Kt(e,t,n,r){return Ot(e,t).reduce((function(e,t){var i=m(t,2),o=i[0],a=m(i[1],2),l=a[0],s=a[1],u=jt(n,r,l,s);return u&&e.push(Tt.apply(void 0,[o].concat(S(u.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function Vt(e,t,n,r){return Ot(e,t).reduce((function(e,t){var i=m(t,2),o=i[0],a=m(i[1],2),l=a[0],s=a[1],u=Kt(n,r,l,s);return e.push.apply(e,S(u.map((function(e){return Tt.apply(void 0,["".concat(o," ").concat(e.message)].concat(S(e.points)))})))),e}),[]).filter((function(e){return e.didIntersect}))}function Wt(e,t,n,r,i,o){return Ot(e,t).reduce((function(e,t){var a=m(t,2),l=a[0],s=m(a[1],2),u=s[0],c=s[1],d=function(e,t,n,r,i,o){return zt(i,o,e,t,n,r)}(n,r,i,o,u,c);return d&&e.push(Dt(Mt({},d),{message:l})),e}),[]).filter((function(e){return e.didIntersect}))}function Yt(e,t,n,r){return Ot(e,t).reduce((function(e,t){var i=m(t,2),o=i[0],a=m(i[1],2),l=Ht(a[0],a[1],n,r);return l&&e.push(Dt(Mt({},l),{message:o})),e}),[]).filter((function(e){return e.didIntersect}))}function Xt(e,t,n){return Ot(e,t).reduce((function(e,t){var r=m(t,2),i=r[0],o=m(r[1],2),a=Ut(o[0],o[1],n);return a.didIntersect&&e.push(Tt.apply(void 0,[i].concat(S(a.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function $t(e,t,n){return Ot(e,t).reduce((function(e,t){var r=m(t,2),i=r[0],o=m(r[1],2),a=function(e,t,n){for(var r=[],i=1;i<n.length+1;i++){var o=jt(e,t,n[i-1],n[i%n.length]);o&&r.push.apply(r,S(o.points))}return 0===r.length?Tt("no intersection"):Tt.apply(void 0,["intersection"].concat(S(n)))}(o[0],o[1],n);return a.didIntersect&&e.push(Tt.apply(void 0,[i].concat(S(a.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function Zt(e,t,n,r,i,o){return Wt(i,o,e,t,n,r)}function Gt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return t===n?Yt(i,o,e,t):function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return Ot(e,t).reduce((function(e,t){var a=m(t,2),l=a[0],s=m(a[1],2),u=Ft(s[0],s[1],n,r,i,o);return u&&e.push(Dt(Mt({},u),{message:l})),e}),[]).filter((function(e){return e.didIntersect}))}(i,o,e,t,n,r)}function qt(e,t){return function(e,t){return Xt([t.minX,t.minY],[t.width,t.height],e)}(t,e)}function Qt(e,t){return $t([t.minX,t.minY],[t.width,t.height],e)}var Jt=Object.defineProperty,en=Object.defineProperties,tn=Object.getOwnPropertyDescriptors,nn=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,on=Object.prototype.propertyIsEnumerable,an=function(e,t,n){return t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ln=function(e,t){for(var n in t||(t={}))rn.call(t,n)&&an(e,n,t[n]);if(nn){var r,i=C(nn(t));try{for(i.s();!(r=i.n()).done;){n=r.value;on.call(t,n)&&an(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},sn=function(e,t){return en(e,tn(t))},un=function(e,t){var n={};for(var r in e)rn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nn){var i,o=C(nn(e));try{for(o.s();!(i=o.n()).done;){r=i.value;t.indexOf(r)<0&&on.call(e,r)&&(n[r]=e[r])}}catch(a){o.e(a)}finally{o.f()}}return n},cn=function(e,t,n){return an(e,"symbol"!=typeof t?t+"":t,n),n},dn=E.createContext({});function fn(){return E.useContext(dn)}var pn=function(e){return e.TransformSelected="transform_selected",e.TranslateSelected="translate_selected",e.TransformAll="transform_all",e.TranslateAll="translate_all",e}(pn||{}),hn=function(e){return e.Top="top_edge",e.Right="right_edge",e.Bottom="bottom_edge",e.Left="left_edge",e}(hn||{}),vn=function(e){return e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner",e}(vn||{}),gn=function(e){return e.minX="minX",e.midX="midX",e.maxX="maxX",e.minY="minY",e.midY="midY",e.maxY="maxY",e}(gn||{});String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var mn=2*Math.PI,yn=function(){function e(){w(this,e)}return b(e,null,[{key:"lerp",value:function(t,n,r){return t*(1-(r=e.clamp(r,0,1)))+n*r}},{key:"lerpColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;function r(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}for(var i=r(e)||[0,0,0],o=r(t)||[0,0,0],a=i.slice(),l=0;l<3;l++)a[l]=Math.round(a[l]+n*(o[l]-i[l]));return function(e){return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)}(a)}},{key:"modulate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=m(t,2),o=i[0],a=i[1],l=m(n,2),s=l[0],u=l[1],c=s+(e-o)/(a-o)*(u-s);return r?s<u?Math.max(Math.min(c,u),s):Math.max(Math.min(c,s),u):c}},{key:"clamp",value:function(e,t,n){return Math.max(t,"undefined"!=typeof n?Math.min(e,n):e)}},{key:"deepClone",value:function(t){if(null===t)return t;if(Array.isArray(t))return S(t);if("object"==typeof t){var n=ln({},t);return Object.keys(n).forEach((function(r){return n[r]="object"==typeof t[r]?e.deepClone(t[r]):t[r]})),n}return t}},{key:"rng",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,n=0,r=0,i=0;function o(){var e=t^t<<11;return t=n,n=r,r=i,(i^=(i>>>19^e^e>>>8)>>>0)/4294967296}for(var a=0;a<e.length+64;a++)t^=0|e.charCodeAt(a),o();return o}},{key:"pointsToLineSegments",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=1;r<e.length;r++)n.push([e[r-1],e[r]]);return t&&n.push([e[e.length-1],e[0]]),n}},{key:"getRectangleSides",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[e[0]+t[0]/2,e[1]+t[1]/2],i=M.rotWith(e,r,n),o=M.rotWith(M.add(e,[t[0],0]),r,n),a=M.rotWith(M.add(e,t),r,n),l=M.rotWith(M.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,l]],["left",[l,i]]]}},{key:"circleFromThreePoints",value:function(e,t,n){var r=m(e,2),i=r[0],o=r[1],a=m(t,2),l=a[0],s=a[1],u=m(n,2),c=u[0],d=u[1],f=i*(s-d)-o*(l-c)+l*d-c*s,p=-((i*i+o*o)*(d-s)+(l*l+s*s)*(o-d)+(c*c+d*d)*(s-o))/(2*f),h=-((i*i+o*o)*(l-c)+(l*l+s*s)*(c-i)+(c*c+d*d)*(i-l))/(2*f);return[p,h,Math.hypot(p-i,h-o)]}},{key:"perimeterOfEllipse",value:function(e,t){var n=Math.pow(e-t,2)/Math.pow(e+t,2);return Math.PI*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}},{key:"shortAngleDist",value:function(e,t){var n=2*Math.PI,r=(t-e)%n;return 2*r%n-r}},{key:"longAngleDist",value:function(t,n){return 2*Math.PI-e.shortAngleDist(t,n)}},{key:"lerpAngles",value:function(t,n,r){return t+e.shortAngleDist(t,n)*r}},{key:"angleDelta",value:function(t,n){return e.shortAngleDist(t,n)}},{key:"getSweep",value:function(t,n,r){return e.angleDelta(M.angle(t,n),M.angle(t,r))}},{key:"clampRadians",value:function(e){return(2*Math.PI+e)%(2*Math.PI)}},{key:"snapAngleToSegments",value:function(t,n){var r=2*Math.PI/n;return Math.floor((e.clampRadians(t)+r/2)/r)*r}},{key:"isAngleBetween",value:function(e,t,n){if(n===e||n===t)return!0;var r=(t-e+mn)%mn,i=(n-e+mn)%mn;return r<=Math.PI!=i>r}},{key:"degreesToRadians",value:function(e){return e*Math.PI/180}},{key:"radiansToDegrees",value:function(e){return 180*e/Math.PI}},{key:"getArcLength",value:function(t,n,r,i){var o=e.getSweep(t,r,i);return n*(2*Math.PI)*(o/(2*Math.PI))}},{key:"getSweepFlag",value:function(e,t,n){var r=M.angle(e,n);return(M.angle(e,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}},{key:"getLargeArcFlag",value:function(e,t,n){var r=M.angle(n,e),i=(M.angle(n,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(i)>Math.PI/2?0:1}},{key:"getArcDashOffset",value:function(t,n,r,i,o){var a=e.getSweepFlag(t,r,i),l=e.getArcLength(t,n,r,i);return-(a<0?l:2*Math.PI*t[2]-l)/2+o}},{key:"getEllipseDashOffset",value:function(e,t){return-2*Math.PI*e[2]/2-t}},{key:"pointInCircle",value:function(e,t,n){return M.dist(e,t)<=n}},{key:"pointInEllipse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;i=i||0;var o=Math.cos(i),a=Math.sin(i),l=M.sub(e,t),s=o*l[0]+a*l[1],u=a*l[0]-o*l[1];return s*s/(n*n)+u*u/(r*r)<=1}},{key:"pointInRect",value:function(e,t){return!(e[0]<t[0]||e[0]>e[0]+t[0]||e[1]<t[1]||e[1]>e[1]+t[1])}},{key:"pointInPolygon",value:function(e,t){var n=0;return t.forEach((function(r,i){var o=t[(i+1)%t.length];r[1]<=e[1]?o[1]>e[1]&&M.cross(r,o,e)>0&&(n+=1):o[1]<=e[1]&&M.cross(r,o,e)<0&&(n-=1)})),0!==n}},{key:"pointInBounds",value:function(e,t){return!(e[0]<t.minX||e[0]>t.maxX||e[1]<t.minY||e[1]>t.maxY)}},{key:"pointInPolyline",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=1;r<t.length;r++)if(M.distanceToLineSegment(t[r-1],t[r],e)<n)return!0;return!1}},{key:"getBoundsSides",value:function(e){return this.getRectangleSides([e.minX,e.minY],[e.width,e.height])}},{key:"expandBounds",value:function(e,t){return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,width:e.width+2*t,height:e.height+2*t}}},{key:"boundsCollide",value:function(e,t){return!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY)}},{key:"boundsContain",value:function(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX}},{key:"boundsContained",value:function(t,n){return e.boundsContain(n,t)}},{key:"boundsAreEqual",value:function(e,t){return!(t.maxX!==e.maxX||t.minX!==e.minX||t.maxY!==e.maxY||t.minY!==e.minY)}},{key:"getBoundsFromPoints",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=1/0,i=1/0,o=-1/0,a=-1/0;if(t.length<2)r=0,i=0,o=1,a=1;else{var l,s=C(t);try{for(s.s();!(l=s.n()).done;){var u=m(l.value,2),c=u[0],d=u[1];r=Math.min(c,r),i=Math.min(d,i),o=Math.max(c,o),a=Math.max(d,a)}}catch(f){s.e(f)}finally{s.f()}}return 0!==n?e.getBoundsFromPoints(t.map((function(e){return M.rotWith(e,[(r+o)/2,(i+a)/2],n)}))):{minX:r,minY:i,maxX:o,maxY:a,width:Math.max(1,o-r),height:Math.max(1,a-i)}}},{key:"centerBounds",value:function(e,t){var n=this.getBoundsCenter(e),r=t[0]-n[0],i=t[1]-n[1];return this.translateBounds(e,[r,i])}},{key:"snapBoundsToGrid",value:function(e,t){var n=Math.round(e.minX/t)*t,r=Math.round(e.minY/t)*t,i=Math.round(e.maxX/t)*t,o=Math.round(e.maxY/t)*t;return{minX:n,minY:r,maxX:i,maxY:o,width:Math.max(1,i-n),height:Math.max(1,o-r)}}},{key:"translateBounds",value:function(e,t){return{minX:e.minX+t[0],minY:e.minY+t[1],maxX:e.maxX+t[0],maxY:e.maxY+t[1],width:e.width,height:e.height}}},{key:"rotateBounds",value:function(e,t,n){var r=m(M.rotWith([e.minX,e.minY],t,n),2),i=r[0],o=r[1],a=m(M.rotWith([e.maxX,e.maxY],t,n),2);return{minX:i,minY:o,maxX:a[0],maxY:a[1],width:e.width,height:e.height}}},{key:"getRotatedEllipseBounds",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=Math.cos(i),a=Math.sin(i),l=Math.hypot(n*o,r*a),s=Math.hypot(n*a,r*o);return{minX:e+n-l,minY:t+r-s,maxX:e+n+l,maxY:t+r+s,width:2*l,height:2*s}}},{key:"getExpandedBounds",value:function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{minX:n,minY:r,maxX:i,maxY:o,width:Math.abs(i-n),height:Math.abs(o-r)}}},{key:"getCommonBounds",value:function(t){if(t.length<2)return t[0];for(var n=t[0],r=1;r<t.length;r++)n=e.getExpandedBounds(n,t[r]);return n}},{key:"getRotatedCorners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[e.minX+e.width/2,e.minY+e.height/2];return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]].map((function(e){return M.rotWith(e,n,t)}))}},{key:"getTransformedBoundingBox",value:function(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=[e.minX,e.minY],s=l[0],u=l[1],c=[e.maxX,e.maxY],d=c[0],f=c[1],p=[e.minX,e.minY],h=p[0],v=p[1],g=[e.maxX,e.maxY],y=g[0],b=g[1];if("center"===t)return{minX:h+n[0],minY:v+n[1],maxX:y+n[0],maxY:b+n[1],width:y-h,height:b-v,scaleX:1,scaleY:1};var w=m(M.rot(n,-o),2),k=w[0],S=w[1];switch(t){case"top_edge":case"top_left_corner":case"top_right_corner":v+=S;break;case"bottom_edge":case"bottom_left_corner":case"bottom_right_corner":b+=S}switch(t){case"left_edge":case"top_left_corner":case"bottom_left_corner":h+=k;break;case"right_edge":case"top_right_corner":case"bottom_right_corner":y+=k}var C=d-s,E=f-u,x=(y-h)/C,I=(b-v)/E,P=x<0,_=I<0,D=Math.abs(y-h),T=Math.abs(b-v);if(a){var O=C/E,R=O<D/T,L=D*(I<0?1:-1)*(1/O),B=T*(x<0?1:-1)*O;switch(t){case"top_left_corner":R?v=b+L:h=y+B;break;case"top_right_corner":R?v=b+L:y=h-B;break;case"bottom_right_corner":R?b=v-L:y=h-B;break;case"bottom_left_corner":R?b=v-L:h=y+B;break;case"bottom_edge":case"top_edge":var A=(h+y)/2,j=T*O;h=A-j/2,y=A+j/2;break;case"left_edge":case"right_edge":var z=(v+b)/2,H=D/O;v=z-H/2,b=z+H/2}}if(o%(2*Math.PI)!==0){var F,N,U=[0,0],K=M.med([s,u],[d,f]),V=M.med([h,v],[y,b]);switch(t){case"top_left_corner":U=M.sub(M.rotWith([y,b],V,o),M.rotWith([d,f],K,o));break;case"top_right_corner":U=M.sub(M.rotWith([h,b],V,o),M.rotWith([s,f],K,o));break;case"bottom_right_corner":U=M.sub(M.rotWith([h,v],V,o),M.rotWith([s,u],K,o));break;case"bottom_left_corner":U=M.sub(M.rotWith([y,v],V,o),M.rotWith([d,u],K,o));break;case"top_edge":U=M.sub(M.rotWith(M.med([h,b],[y,b]),V,o),M.rotWith(M.med([s,f],[d,f]),K,o));break;case"left_edge":U=M.sub(M.rotWith(M.med([y,v],[y,b]),V,o),M.rotWith(M.med([d,u],[d,f]),K,o));break;case"bottom_edge":U=M.sub(M.rotWith(M.med([h,v],[y,v]),V,o),M.rotWith(M.med([s,u],[d,u]),K,o));break;case"right_edge":U=M.sub(M.rotWith(M.med([h,v],[h,b]),V,o),M.rotWith(M.med([s,u],[s,f]),K,o))}h=(F=m(M.sub([h,v],U),2))[0],v=F[1],y=(N=m(M.sub([y,b],U),2))[0],b=N[1]}return y<h&&(y=(r=[h,y])[0],h=r[1]),b<v&&(b=(i=[v,b])[0],v=i[1]),{minX:h,minY:v,maxX:y,maxY:b,width:y-h,height:b-v,scaleX:(y-h)/(d-s||1)*(P?-1:1),scaleY:(b-v)/(f-u||1)*(_?-1:1)}}},{key:"getTransformAnchor",value:function(e,t,n){var r=e;switch(e){case"top_left_corner":r=t&&n?"bottom_right_corner":t?"top_right_corner":n?"bottom_left_corner":"bottom_right_corner";break;case"top_right_corner":r=t&&n?"bottom_left_corner":t?"top_left_corner":n?"bottom_right_corner":"bottom_left_corner";break;case"bottom_right_corner":r=t&&n?"top_left_corner":t?"bottom_left_corner":n?"top_right_corner":"top_left_corner";break;case"bottom_left_corner":r=t&&n?"top_right_corner":t?"bottom_right_corner":n?"top_left_corner":"top_right_corner"}return r}},{key:"getRelativeTransformedBoundingBox",value:function(e,t,n,r,i){var o=(r?t.maxX-n.maxX:n.minX-t.minX)/t.width,a=(i?t.maxY-n.maxY:n.minY-t.minY)/t.height,l=n.width/t.width,s=n.height/t.height,u=e.minX+e.width*o,c=e.minY+e.height*a,d=e.width*l,f=e.height*s;return{minX:u,minY:c,maxX:u+d,maxY:c+f,width:d,height:f}}},{key:"getRotatedSize",value:function(t,n){var r=M.div(t,2),i=[[0,0],[t[0],0],t,[0,t[1]]].map((function(e){return M.rotWith(e,r,n)})),o=e.getBoundsFromPoints(i);return[o.width,o.height]}},{key:"getBoundsCenter",value:function(e){return[e.minX+e.width/2,e.minY+e.height/2]}},{key:"getBoundsWithCenter",value:function(t){var n=e.getBoundsCenter(t);return sn(ln({},t),{midX:n[0],midY:n[1]})}},{key:"getCommonTopLeft",value:function(e){var t=[1/0,1/0];return e.forEach((function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1])})),t}},{key:"getFromCache",value:function(e,t,n){var r=e.get(t);if(void 0===r&&(e.set(t,n()),void 0===(r=e.get(t))))throw Error("Cache did not include item!");return r}},{key:"uniqueId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?((Number(t)^16*Math.random())>>Number(t)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,e.uniqueId)}},{key:"rotateArray",value:function(e,t){return e.map((function(n,r){return e[(r+t)%e.length]}))}},{key:"debounce",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(i)}),n)}}},{key:"getSvgPathFromStroke",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length;if(n<4)return"";for(var r=e[0],i=e[1],o=e[2],a="M".concat(r[0].toFixed(2),",").concat(r[1].toFixed(2)," Q").concat(i[0].toFixed(2),",").concat(i[1].toFixed(2)," ").concat(wn(i[0],o[0]).toFixed(2),",").concat(wn(i[1],o[1]).toFixed(2)," T"),l=2,s=n-1;l<s;l++)r=e[l],i=e[l+1],a+="".concat(wn(r[0],i[0]).toFixed(2),",").concat(wn(r[1],i[1]).toFixed(2)," ");return t&&(a+="Z"),a}},{key:"getSvgPathFromStrokePoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length;if(n<4)return"";for(var r=e[0].point,i=e[1].point,o=e[2].point,a="M".concat(r[0].toFixed(2),",").concat(r[1].toFixed(2)," Q").concat(i[0].toFixed(2),",").concat(i[1].toFixed(2)," ").concat(wn(i[0],o[0]).toFixed(2),",").concat(wn(i[1],o[1]).toFixed(2)," T"),l=2,s=n-1;l<s;l++)r=e[l].point,i=e[l+1].point,a+="".concat(wn(r[0],i[0]).toFixed(2),",").concat(wn(r[1],i[1]).toFixed(2)," ");return t&&(a+="Z"),a}},{key:"getPerfectDashProps",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;if("dashed"===n.toLowerCase())r=t*s,o=1,i=l?(r/2).toString():"0";else{if("dotted"!==n.toLowerCase())return{strokeDasharray:"none",strokeDashoffset:"none"};r=t/100,o=100,i="0"}var u=Math.floor(e/r/(2*o));return u-=u%a,u=Math.max(u,4),{strokeDasharray:[r,Math.max(r,(e-u*r)/(l?u:u-1))].join(" "),strokeDashoffset:i}}},{key:"isMobileSafari",value:function(){if("undefined"==typeof window)return!1;var e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);return t&&n&&!e.match(/CriOS/i)}},{key:"throttle",value:function(e,t){var n,r;return function(){return n||(n=!0,setTimeout((function(){return n=!1}),t),r=e.apply(void 0,arguments)),r}}},{key:"isDarwin",value:function(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}},{key:"metaKey",value:function(t){return e.isDarwin()?t.metaKey:t.ctrlKey}},{key:"lns",value:function(e){var t=e.split("");return t.push.apply(t,S(t.splice(0,Math.round(t.length/5)))),t.push.apply(t,S(t.splice(0,Math.round(t.length/4)))),t.push.apply(t,S(t.splice(0,Math.round(t.length/3)))),t.push.apply(t,S(t.splice(0,Math.round(t.length/2)))),t.reverse().map((function(e){return+e?+e<5?+e+5:+e>5?+e-5:e:e})).join("")}}]),e}(),bn=yn;function wn(e,t){return(e+t)/2}cn(bn,"getSnapPoints",(function(e,t,n){var r,o=ln({},e),a=[0,0],l=[],s=(i(r={},"minX",{id:"minX",isSnapped:!1}),i(r,"midX",{id:"midX",isSnapped:!1}),i(r,"maxX",{id:"maxX",isSnapped:!1}),i(r,"minY",{id:"minY",isSnapped:!1}),i(r,"midY",{id:"midY",isSnapped:!1}),i(r,"maxY",{id:"maxY",isSnapped:!1}),r),u=["midX","minX","maxX"],c=["midY","minY","maxY"],d=t.map((function(e){var t=u.flatMap((function(t,n){return u.map((function(r,i){var a=o[t]-e[r],l=Math.abs(a);return{f:t,t:r,gap:a,distance:l,isCareful:0===n||n+i===3}}))})),n=c.flatMap((function(t,n){return c.map((function(r,i){var a=o[t]-e[r],l=Math.abs(a);return{f:t,t:r,gap:a,distance:l,isCareful:0===n||n+i===3}}))}));return[e,t,n]})),f=1/0,p=1/0,h=1/0,v=1/0;return d.forEach((function(e){var t=m(e,3),r=(t[0],t[1]),i=t[2];r.forEach((function(e){e.distance<n&&e.distance<h&&(h=e.distance,f=e.gap)})),i.forEach((function(e){e.distance<n&&e.distance<v&&(v=e.distance,p=e.gap)}))})),d.forEach((function(e){var t=m(e,3),n=t[0],r=t[1],i=t[2];f!==1/0&&r.forEach((function(e){Math.abs(e.gap-f)<2&&(s[e.f]=sn(ln({},s[e.f]),{isSnapped:!0,to:n[e.t],B:n,distance:e.distance}))})),p!==1/0&&i.forEach((function(e){Math.abs(e.gap-p)<2&&(s[e.f]=sn(ln({},s[e.f]),{isSnapped:!0,to:n[e.t],B:n,distance:e.distance}))}))})),a[0]=f===1/0?0:f,a[1]=p===1/0?0:p,o.minX-=a[0],o.midX-=a[0],o.maxX-=a[0],o.minY-=a[1],o.midY-=a[1],o.maxY-=a[1],u.forEach((function(e){var t=s[e];if(t.isSnapped){var n=t.id,r=t.B,i=o[n];l.push("minX"===n?[[i,o.midY],[i,r.minY],[i,r.maxY]]:[[i,o.minY],[i,o.maxY],[i,r.minY],[i,r.maxY]])}})),c.forEach((function(e){var t=s[e];if(t.isSnapped){var n=t.id,r=t.B,i=o[n];l.push("midY"===n?[[o.midX,i],[r.minX,i],[r.maxX,i]]:[[o.minX,i],[o.maxX,i],[r.minX,i],[r.maxX,i]])}})),{offset:a,snapLines:l}})),cn(bn,"deepMerge",(function(e,t){for(var n=ln({},e),r=0,i=Object.entries(t);r<i.length;r++){var o=m(i[r],2),a=o[0],l=o[1];n[a]=l!==Object(l)||Array.isArray(l)?l:yn.deepMerge(n[a],l)}return n}));var kn=bn;function Sn(e,t){var n=E.useRef(void 0),r=E.useRef(void 0),i=E.useRef([0,0]),o=E.useRef(0),a=fn(),l=a.inputs,s=a.bounds,u=a.callbacks;E.useEffect((function(){var e=function(e){return e.preventDefault()};return document.addEventListener("gesturestart",e),document.addEventListener("gesturechange",e),function(){document.removeEventListener("gesturestart",e),document.removeEventListener("gesturechange",e)}}),[]);var c=E.useCallback((function(e){var t,n,r,i,a=e.event;if(a.preventDefault(),!(l.isPinching||a.timeStamp<=o.current)){o.current=a.timeStamp;var c=function(e){var t=e.deltaY,n=e.deltaX,r=0;if(e.ctrlKey||e.metaKey){var i=Math.sign(e.deltaY),o=t;Math.abs(e.deltaY)>Cn&&(o=Cn*i),r=o}return[n,t,r]}(a),d=m(c,3),f=d[0],p=d[1],h=d[2];if((a.altKey||a.ctrlKey||a.metaKey)&&0===a.buttons){var v=[].concat(S(null!=(n=null==(t=l.pointer)?void 0:t.point)?n:[s.width/2,s.height/2]),[.618*h]),g=l.pan(v,a);null==(r=u.onZoom)||r.call(u,sn(ln({},g),{delta:v}),a)}else{var y=M.mul(a.shiftKey&&!kn.isDarwin()?[p,0]:[f,p],.5);if(!M.isEqual(y,[0,0])){var b=l.pan(y,a);null==(i=u.onPan)||i.call(u,b,a)}}}}),[u,l,s]),d=E.useCallback((function(e){var o,a=e.origin,s=e.event;if(!(s instanceof WheelEvent)){var c=t.current;if(c&&(s.target===c||c.contains(s.target))){var d=l.pinch(a,a);l.isPinching=!0,null==(o=u.onPinchStart)||o.call(u,d,s),r.current=d.point,n.current=d.origin,i.current=[0,0]}}}),[u,l,s]),f=E.useCallback((function(e){var o,a=e.origin,s=e.offset,c=e.event;if(!(c instanceof WheelEvent)){var d=t.current;if((c.target===d||(null==d?void 0:d.contains(c.target)))&&n.current){var f=l.pinch(a,n.current),p=M.sub(f.delta,i.current);i.current=f.delta,null==(o=u.onPinch)||o.call(u,sn(ln({},f),{point:f.point,origin:n.current,delta:[].concat(S(p),[s[0]])}),c),r.current=a}}}),[u,l,s]),p=E.useCallback((function(e){var o,a=e.origin,s=e.event,c=t.current;if(s.target===c||(null==c?void 0:c.contains(s.target))){var d=l.pinch(a,a);l.isPinching=!1,null==(o=u.onPinchEnd)||o.call(u,d,s),r.current=void 0,n.current=void 0,i.current=[0,0]}}),[]);Qe({onWheel:c,onPinchStart:d,onPinch:f,onPinchEnd:p},{target:t,eventOptions:{passive:!1},pinch:{from:[e.current,0],scaleBounds:function(){return{from:e.current,max:5,min:.1}}}})}var Cn=10;function En(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0,u={shape:e,asset:e.assetId?i[e.assetId]:void 0,meta:l,isChildOfSelected:a,isGhost:e.isGhost||o,isEditing:r.editingId===e.id,isBinding:s===e.id,isSelected:r.selectedIds.includes(e.id),isHovered:r.hoveredId===e.id||void 0!==e.children&&(r.hoveredId&&e.children.includes(r.hoveredId)||e.children.some((function(e){return r.selectedIds.includes(e)})))};t.push(u),e.children&&(u.children=[],e.children.map((function(e){return n[e]})).filter((function(e){return n[e.id]})).sort((function(e,t){return e.childIndex-t.childIndex})).forEach((function(e){return En(e,u.children,n,r,i,u.isGhost,u.isSelected||u.isChildOfSelected,l)})))}function xn(e,t,n,r){var i=fn(),o=i.callbacks,a=i.shapeUtils,l=i.bounds,s=E.useRef(),u=E.useRef(-1),c=E.useRef(new Set),d=E.useRef(new Set),f=t.selectedIds,p=t.camera,h=m(M.sub(M.div([0,0],p.zoom),p.point),2),v=h[0],g=h[1],y=m(M.sub(M.div([l.width,l.height],p.zoom),p.point),2),b=y[0],w=y[1],k={minX:v,minY:g,maxX:b,maxY:w,height:b-v,width:w-g},S=d.current,C=c.current;S.clear(),C.clear(),Object.values(e.shapes).filter((function(e){return a[e.type].isStateful||f.includes(e.id)||function(e,t){return bn.boundsContain(t,e)||bn.boundsCollide(t,e)}(a[e.type].getBounds(e),k)})).forEach((function(t){if(t.parentId===e.id)return C.add(t.id),void S.add(t);var n=e.shapes[t.parentId];if(void 0===n)throw Error("A shape (".concat(t.id,") has a parent (").concat(t.parentId,") that does not exist!"));C.add(n.id),S.add(n)})),S.size!==u.current&&(s.current&&clearTimeout(s.current),s.current=requestAnimationFrame((function(){var e;null==(e=o.onRenderCountChange)||e.call(o,Array.from(C.values()))})),u.current=S.size);var x=t.bindingId?e.bindings[t.bindingId].toId:void 0,I=[];return S.forEach((function(i){if(void 0===i)throw Error("Rendered shapes included a missing shape");En(i,I,e.shapes,t,n,i.isGhost,!1,r,x)})),I.sort((function(e,t){return e.shape.childIndex-t.shape.childIndex})),I}var In=new Map;function Pn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":root";E.useLayoutEffect((function(){var r=document.createElement("style"),i=function(e,t){return Object.keys(t).reduce((function(n,r){var i=t[r];return i?n+"".concat("--".concat(e,"-").concat(r),": ",i,";\n"):n}),"")}(e,t);return r.setAttribute("id","".concat(e,"-theme")),r.setAttribute("data-selector",n),r.innerHTML="\n        ".concat(n," {\n          ").concat(i,"\n        }\n      "),document.head.appendChild(r),function(){r&&document.head.contains(r)&&document.head.removeChild(r)}}),[e,t,n])}var _n,Mn,Dn={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",brushDashStroke:"rgba(0,0,0,.6)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",binding:"rgba(65, 132, 244, 0.12)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},Tn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((function(e,t,r){return e+t+(r<n.length?n[r]:"")}),"")}(yt||(_n=["\n  .tl-container {\n    --tl-zoom: 1;\n    --tl-scale: calc(1 / var(--tl-zoom));\n    --tl-padding: calc(64px * max(1, var(--tl-scale)));\n    --tl-performance-all: auto;\n    --tl-performance-selected: auto;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n    padding: 0px;\n    margin: 0px;\n    z-index: 100;\n    overflow: hidden;\n    touch-action: none;\n    overscroll-behavior: none;\n    background-color: var(--tl-background);\n  }\n  .tl-container * {\n    box-sizing: border-box;\n  }\n  .tl-overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n  }\n  .tl-grid {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n  .tl-snap-line {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n  .tl-snap-point {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n  .tl-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: all;\n    overflow: clip;\n  }\n  .tl-layer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 0px;\n    width: 0px;\n    contain: layout style size;\n  }\n  .tl-absolute {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    contain: layout style size;\n  }\n  .tl-positioned {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    contain: layout style size;\n    will-change: var(--tl-performance-all);\n  }\n  .tl-positioned-svg {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    contain: layout style size;\n  }\n  .tl-positioned-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    padding: var(--tl-padding);\n    overflow: hidden;\n    contain: layout style size;\n  }\n  .tl-positioned-selected {\n    will-change: var(--tl-performance-selected);\n  }\n  .tl-inner-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n  .tl-stroke-hitarea {\n    fill: none;\n    stroke: transparent;\n    stroke-width: calc(24px * var(--tl-scale));\n    pointer-events: stroke;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n  .tl-fill-hitarea {\n    fill: transparent;\n    stroke: transparent;\n    stroke-width: calc(24px * var(--tl-scale));\n    pointer-events: all;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n  .tl-counter-scaled {\n    transform: scale(var(--tl-scale));\n  }\n  .tl-dashed {\n    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));\n  }\n  .tl-transparent {\n    fill: transparent;\n    stroke: transparent;\n  }\n  .tl-cursor-ns {\n    cursor: ns-resize;\n  }\n  .tl-cursor-ew {\n    cursor: ew-resize;\n  }\n  .tl-cursor-nesw {\n    cursor: nesw-resize;\n  }\n  .tl-cursor-nwse {\n    cursor: nwse-resize;\n  }\n  .tl-corner-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n  .tl-rotate-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n    cursor: grab;\n  }\n  .tl-binding {\n    fill: var(--tl-selectFill);\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n  .tl-user {\n    left: calc(-15px * var(--tl-scale));\n    top: calc(-15px * var(--tl-scale));\n    height: calc(35px * var(--tl-scale));\n    width: calc(35px * var(--tl-scale));\n    transform: scale(var(--tl-scale));\n    pointer-events: none;\n    will-change: transform;\n  }\n  .tl-animated {\n    transition: transform 200ms linear;\n  }\n  .tl-indicator {\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n  .tl-user-indicator-bounds {\n    border-style: solid;\n    border-width: calc(1px * var(--tl-scale));\n  }\n  .tl-hovered {\n    stroke: var(--tl-selectStroke);\n  }\n  .tl-selected {\n    stroke: var(--tl-selectStroke);\n  }\n  .tl-locked {\n    stroke-dasharray: calc(3px * var(--tl-scale)) calc(3px * var(--tl-scale));\n  }\n  .tl-editing {\n    stroke-width: calc(2.5px * min(5, var(--tl-scale)));\n  }\n  .tl-performance {\n    will-change: transform, contents;\n  }\n  .tl-clone-target {\n    pointer-events: all;\n  }\n  .tl-clone-target:hover .tl-clone-button {\n    opacity: 1;\n  }\n  .tl-clone-button-target {\n    cursor: pointer;\n    pointer-events: all;\n  }\n  .tl-clone-button-target:hover .tl-clone-button {\n    fill: var(--tl-selectStroke);\n  }\n  .tl-clone-button {\n    opacity: 0;\n    r: calc(8px * var(--tl-scale));\n    stroke-width: calc(1.5px * var(--tl-scale));\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n  }\n  .tl-bounds {\n    pointer-events: none;\n    contain: layout style size;\n  }\n  .tl-bounds-bg {\n    stroke: none;\n    fill: var(--tl-selectFill);\n    pointer-events: all;\n    contain: layout style size;\n  }\n  .tl-bounds-center {\n    fill: transparent;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n  .tl-brush {\n    fill: var(--tl-brushFill);\n    stroke: var(--tl-brushStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n    contain: layout style size;\n  }\n  .tl-dashed-brush-line {\n    fill: none;\n    stroke: var(--tl-brushDashStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n  .tl-brush.dashed {\n    stroke: none;\n  }\n  .tl-handle {\n    pointer-events: all;\n    cursor: grab;\n  }\n  .tl-handle:hover .tl-handle-bg {\n    fill: var(--tl-selectFill);\n  }\n  .tl-handle:hover .tl-handle-bg > * {\n    stroke: var(--tl-selectFill);\n  }\n  .tl-handle:active .tl-handle-bg {\n    cursor: grabbing;\n    fill: var(--tl-selectFill);\n  }\n  .tl-handle:active .tl-handle-bg > * {\n    stroke: var(--tl-selectFill);\n  }\n  .tl-handle {\n    fill: var(--tl-background);\n    stroke: var(--tl-selectStroke);\n    stroke-width: 1.5px;\n  }\n  .tl-handle-bg {\n    fill: transparent;\n    stroke: none;\n    pointer-events: all;\n    r: calc(16px / max(1, var(--tl-zoom)));\n  }\n  .tl-binding-indicator {\n    fill: transparent;\n    stroke: var(--tl-binding);\n  }\n  .tl-centered-g {\n    transform: translate(var(--tl-padding), var(--tl-padding));\n  }\n  .tl-current-parent > *[data-shy='true'] {\n    opacity: 1;\n  }\n  .tl-binding {\n    fill: none;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(2px * var(--tl-scale));\n  }\n  .tl-grid-dot {\n    fill: var(--tl-grid);\n  }\n  .tl-erase-line {\n    stroke-linejoin: round;\n    stroke-linecap: round;\n    pointer-events: none;\n    fill: var(--tl-grid);\n    opacity: 0.32;\n  }\n"],Mn||(Mn=_n.slice(0)),yt=Object.freeze(Object.defineProperties(_n,{raw:{value:Object.freeze(Mn)}}))));function On(e,t){Pn("tl",E.useMemo((function(){return ln(ln({},Dn),e)}),[e]),t),function(e,t){E.useLayoutEffect((function(){if(In.get(e))return function(){};var n=document.createElement("style");return n.innerHTML=t,n.setAttribute("id",e),document.head.appendChild(n),In.set(e,n),function(){n&&document.head.contains(n)&&(document.head.removeChild(n),In.delete(e))}}),[e,t])}("tl-canvas",Tn)}function Rn(e){var t=fn(),n=t.callbacks,r=t.inputs,i=E.useCallback((function(t){var i,o,a,l;if(!t.dead&&(t.dead=!0,r.pointerIsValid(t))){null==(i=t.currentTarget)||i.setPointerCapture(t.pointerId);var s=r.pointerDown(t,e);2!==t.button?(0===t.button&&(null==(a=n.onPointBoundsHandle)||a.call(n,s,t)),null==(l=n.onPointerDown)||l.call(n,s,t)):null==(o=n.onRightPointBoundsHandle)||o.call(n,s,t)}}),[r,n,e]),o=E.useCallback((function(t){var i,o,a;if(!t.dead&&(t.dead=!0,2!==t.button&&r.pointerIsValid(t))){var l=r.pointerUp(t,e),s=r.isDoubleClick();0===t.button&&(s&&!(l.altKey||l.metaKey)&&(null==(i=n.onDoubleClickBoundsHandle)||i.call(n,l,t)),null==(o=n.onReleaseBoundsHandle)||o.call(n,l,t)),null==(a=n.onPointerUp)||a.call(n,l,t)}}),[r,n,e]),a=E.useCallback((function(t){var i,o;if(!t.dead&&(t.dead=!0,r.pointerIsValid(t))&&2!==t.buttons){var a=r.pointerMove(t,e);1===t.buttons&&t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(i=n.onDragBoundsHandle)||i.call(n,a,t)),null==(o=n.onPointerMove)||o.call(n,a,t)}}),[r,n,e]),l=E.useCallback((function(t){var i;!r.pointerIsValid(t)||null==(i=n.onHoverBoundsHandle)||i.call(n,r.pointerEnter(t,e),t)}),[r,n,e]),s=E.useCallback((function(t){var i;!r.pointerIsValid(t)||null==(i=n.onUnhoverBoundsHandle)||i.call(n,r.pointerEnter(t,e),t)}),[r,n,e]);return{onPointerDown:i,onPointerUp:o,onPointerEnter:l,onPointerMove:a,onPointerLeave:s}}function Ln(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function Bn(e,t){return e[t.type]}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=E.useRef(null);return E.useLayoutEffect((function(){var r=n.current,i="\n    translate(\n      calc(".concat(e.minX,"px - var(--tl-padding)),\n      calc(").concat(e.minY,"px - var(--tl-padding))\n    )\n    rotate(").concat(t+(e.rotation||0),"rad)");r.style.setProperty("transform",i),r.style.setProperty("width","calc(".concat(Math.floor(e.width),"px + (var(--tl-padding) * 2))")),r.style.setProperty("height","calc(".concat(Math.floor(e.height),"px + (var(--tl-padding) * 2))"))}),[e,t]),n}var jn=E.memo((function(e){var t=e,n=t.id,r=t.bounds,i=t.rotation,o=void 0===i?0:i,a=t.isGhost,l=void 0!==a&&a,s=t.isSelected,u=void 0!==s&&s,c=t.children,d=un(t,["id","bounds","rotation","isGhost","isSelected","children"]),f=An(r,o);return E.createElement("div",ln({id:n,ref:f,className:"tl-positioned".concat(l?" tl-ghost":"").concat(u?" tl-positioned-selected":""),"aria-label":"container","data-testid":"container"},d),c)}));var zn=E.memo((function(e){var t=e.brush,n=e.zoom,r=e.dashed;return E.createElement(jn,{bounds:t,rotation:0},E.createElement(Wn,null,E.createElement("rect",{className:"tl-brush"+(r?" dashed":""),opacity:1,x:0,y:0,width:t.width,height:t.height,"aria-label":"brush"}),r&&E.createElement("g",{className:"tl-dashed-brush-line"},E.createElement(Hn,{x1:0,y1:0,x2:t.width,y2:0,zoom:n}),E.createElement(Hn,{x1:t.width,y1:0,x2:t.width,y2:t.height,zoom:n}),E.createElement(Hn,{x1:0,y1:t.height,x2:t.width,y2:t.height,zoom:n}),E.createElement(Hn,{x1:0,y1:0,x2:0,y2:t.height,zoom:n}))))}));function Hn(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.zoom,a=kn.getPerfectDashProps(Math.hypot(r-t,i-n),1/o,"dashed",1,!0,3);return E.createElement("line",{x1:t,y1:n,x2:r,y2:i,strokeWidth:1/o,strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeDashoffset})}var Fn=E.memo((function(e){var t=e.color;return E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",fill:"none",fillRule:"evenodd"},E.createElement("g",{fill:"rgba(0,0,0,.2)",transform:"translate(1,1)"},E.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),E.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),E.createElement("g",{fill:"white"},E.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),E.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),E.createElement("g",{fill:t},E.createElement("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),E.createElement("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})))}));var Nn=E.memo((function(e){var t=e.points,n=e.zoom;if(0===t.length)return null;var r=kn.getSvgPathFromStroke(kt(t,{size:16/n,start:{taper:!0}}));return E.createElement("path",{d:r,className:"tl-erase-line"})})),Un=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function Kn(e){var t=e.grid,n=e.camera;return E.createElement("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.createElement("defs",null,Un.map((function(e,r){var i=m(e,3),o=i[0],a=i[1],l=i[2]*t*n.zoom,s=n.point[0]*n.zoom,u=n.point[1]*n.zoom,c=s>0?s%l:l+s%l,d=u>0?u%l:l+u%l,f=n.zoom<a?kn.modulate(n.zoom,[o,a],[0,1]):1;return E.createElement("pattern",{key:"grid-pattern-".concat(r),id:"grid-".concat(r),width:l,height:l,patternUnits:"userSpaceOnUse"},E.createElement("circle",{className:"tl-grid-dot",cx:c,cy:d,r:1,opacity:f}))}))),Un.map((function(e,t){return E.createElement("rect",{key:"grid-rect-".concat(t),width:"100%",height:"100%",fill:"url(#grid-".concat(t,")")})})))}var Vn=E.memo((function(e){var t=e.camera,n=t.zoom,r=t.point,i=e.children,o=2.5/n;return E.createElement("svg",{className:"tl-overlay"},E.createElement("defs",null,E.createElement("g",{id:"tl-snap-point"},E.createElement("path",{className:"tl-snap-point",d:"M ".concat(-o,",").concat(-o," L ").concat(o,",").concat(o," M ").concat(-o,",").concat(o," L ").concat(o,",").concat(-o)}))),E.createElement("g",{transform:"scale(".concat(n,") translate(").concat(r,")")},i))})),Wn=E.memo(E.forwardRef((function(e,t){var n=e,r=n.id,i=n.className,o=void 0===i?"":i,a=n.children,l=un(n,["id","className","children"]);return E.createElement("svg",ln({ref:t,className:"tl-positioned-svg ".concat(o)},l),E.createElement("g",{id:r,className:"tl-centered-g"},a))})));var Yn=E.memo((function(e){var t=e.bounds,n=e.isLocked,r=e.isHidden;return E.createElement("rect",{className:["tl-bounds-center",n?"tl-dashed":""].join(" "),x:-1,y:-1,width:t.width+2,height:t.height+2,opacity:r?0:1,pointerEvents:"none","aria-label":"center handle"})})),Xn={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315};var $n=E.memo((function(e){var t=e.bounds,n=e.side,r=e.targetSize,i=e.size,o=2*r,a={left:-o,topLeft:-o,bottomLeft:-o,right:t.width,topRight:t.width,bottomRight:t.width,top:t.width/2-o/2,bottom:t.width/2-o/2}[n],l={left:t.height/2-o/2,right:t.height/2-o/2,top:2*-o,topLeft:-o,topRight:-o,bottom:t.height,bottomLeft:t.height,bottomRight:t.height}[n],s=fn(),u=s.callbacks,c=s.inputs,d=E.useCallback((function(e){var t;e.stopPropagation();var r=c.pointerDown(e,n);null==(t=u.onShapeClone)||t.call(u,r,e)}),[u.onShapeClone]);return E.createElement("g",{className:"tl-clone-target",transform:"translate(".concat(a,", ").concat(l,")"),"aria-label":"clone button"},E.createElement("rect",{className:"tl-transparent",width:2*r,height:2*r}),E.createElement("g",{className:"tl-clone-button-target",onPointerDown:d,transform:"translate(".concat(r,", ").concat(r,") rotate(").concat(Xn[n],")")},E.createElement("circle",{className:"tl-transparent ",r:r}),E.createElement("path",{className:"tl-clone-button",d:"M -".concat(i/2,",-").concat(i/2," L ").concat(i/2,",0 -").concat(i/2,",").concat(i/2," Z"),strokeLinejoin:"round"})))}));var Zn=E.memo((function(e){var t=e.targetSize,n=e.size,r=e.bounds;return E.createElement(E.Fragment,null,E.createElement($n,{targetSize:t,size:n,bounds:r,side:"top"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"right"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"bottom"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"left"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"topLeft"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"topRight"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"bottomLeft"}),E.createElement($n,{targetSize:t,size:n,bounds:r,side:"bottomRight"}))})),Gn=(i(bt={},"top_left_corner","tl-cursor-nwse"),i(bt,"top_right_corner","tl-cursor-nesw"),i(bt,"bottom_right_corner","tl-cursor-nwse"),i(bt,"bottom_left_corner","tl-cursor-nesw"),bt);var qn=E.memo((function(e){var t=e.size,n=e.targetSize,r=e.isHidden,i=e.corner,o=e.bounds,a=Rn(i),l="top_left_corner"===i||"top_right_corner"===i,s="top_left_corner"===i||"bottom_left_corner"===i;return E.createElement("g",{opacity:r?0:1},E.createElement("rect",ln({className:"tl-transparent "+(r?"":Gn[i]),"aria-label":"corner transparent",x:(s?-1:o.width+1)-n,y:(l?-1:o.height+1)-n,width:2*n,height:2*n,pointerEvents:r?"none":"all"},a)),E.createElement("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(s?-1:o.width+1)-t/2,y:(l?-1:o.height+1)-t/2,width:t,height:t,pointerEvents:"none"}))})),Qn=(i(wt={},"top_edge","tl-cursor-ns"),i(wt,"right_edge","tl-cursor-ew"),i(wt,"bottom_edge","tl-cursor-ns"),i(wt,"left_edge","tl-cursor-ew"),wt);var Jn=E.memo((function(e){var t=e.size,n=e.isHidden,r=e.bounds,i=e.edge,o=Rn(i),a="top_edge"===i||"bottom_edge"===i,l="right_edge"===i||"bottom_edge"===i,s=r.height,u=r.width;return E.createElement("rect",ln({pointerEvents:n?"none":"all",className:"tl-transparent tl-edge-handle "+(n?"":Qn[i]),"aria-label":"".concat(i," handle"),opacity:n?0:1,x:a?t/2:(l?u+1:-1)-t/2,y:a?(l?s+1:-1)-t/2:t/2,width:a?Math.max(0,u+1-t):t,height:a?t:Math.max(0,s+1-t)},o))}));var er=E.memo((function(e){var t=e.size,n=e.bounds,r=e.isHidden,i=Rn("left"),o=Rn("center"),a=Rn("right");return E.createElement("g",{cursor:"grab",transform:"translate(".concat(n.width/2-4*t,", ").concat(n.height+2*t,")"),"aria-label":"link handle"},E.createElement("g",{className:"tl-transparent",pointerEvents:r?"none":"all"},E.createElement("rect",ln({x:0,y:0,width:2*t,height:2*t},i)),E.createElement("rect",ln({x:3*t,y:0,width:2*t,height:2*t},o)),E.createElement("rect",ln({x:6*t,y:0,width:2*t,height:2*t},a))),E.createElement("g",{className:"tl-rotate-handle",transform:"translate(".concat(t/2,", ").concat(t/2,")"),"aria-label":"link rotate handle"},E.createElement("path",{d:"M 0,".concat(t/2," L ").concat(t,",").concat(t," ").concat(t,",0 Z"),pointerEvents:"none",opacity:r?0:1}),E.createElement("path",{transform:"translate(".concat(3*t,", 0)"),d:"M 0,0 L ".concat(t,",0 ").concat(t/2,",").concat(t," Z"),pointerEvents:"none",opacity:r?0:1}),E.createElement("path",{transform:"translate(".concat(6*t,", 0)"),d:"M ".concat(t,",").concat(t/2," L 0,0 0,").concat(t," Z"),pointerEvents:"none",opacity:r?0:1})))}));var tr=E.memo((function(e){var t=e.bounds,n=e.targetSize,r=e.size,i=e.isHidden,o=Rn("rotate");return E.createElement("g",{cursor:"grab",opacity:i?0:1},E.createElement("circle",ln({className:"tl-transparent","aria-label":"rotate handle transparent",cx:t.width/2,cy:-2*r,r:n,pointerEvents:i?"none":"all"},o)),E.createElement("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:t.width/2,cy:-2*r,r:r/2,pointerEvents:"none"}))})),nr=E.memo((function(e){var t=e.zoom,n=e.bounds,r=e.viewportWidth,i=e.rotation,o=e.isHidden,a=e.isLocked,l=e.hideCloneHandles,s=e.hideResizeHandles,u=e.hideRotateHandle,c=e.hideBindingHandles,d=(r<768?16:8)/t,f=8/t,p=Math.min(n.width,n.height)*t,h=!u&&!o&&!a&&p>32,v=!o&&!a&&p>24,g=!o&&!a&&p>20,m=!l&&p>24;return E.createElement(jn,{bounds:n,rotation:i},E.createElement(Wn,null,E.createElement(Yn,{bounds:n,isLocked:a,isHidden:o}),s||a?null:E.createElement(E.Fragment,null,E.createElement(Jn,{targetSize:d,size:f,bounds:n,edge:"top_edge",isHidden:!v}),E.createElement(Jn,{targetSize:d,size:f,bounds:n,edge:"right_edge",isHidden:!v}),E.createElement(Jn,{targetSize:d,size:f,bounds:n,edge:"bottom_edge",isHidden:!v}),E.createElement(Jn,{targetSize:d,size:f,bounds:n,edge:"left_edge",isHidden:!v}),E.createElement(qn,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"top_left_corner"}),E.createElement(qn,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"top_right_corner"}),E.createElement(qn,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"bottom_right_corner"}),E.createElement(qn,{targetSize:d,size:f,bounds:n,isHidden:o||!g,corner:"bottom_left_corner"})),h&&E.createElement(tr,{targetSize:d,size:f,bounds:n,isHidden:!v}),m&&E.createElement(Zn,{bounds:n,targetSize:d,size:f}),!c&&E.createElement(er,{targetSize:d,size:f,bounds:n,isHidden:!v})))}));var rr=E.memo((function(e){var t=e.bounds,n=e.rotation,r=e.isHidden,i=function(){var e=fn(),t=e.callbacks,n=e.inputs;return E.useMemo((function(){return{onPointerDown:function(e){var r,i,o,a;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e)))if(2!==e.button){var l=n.pointerDown(e,"bounds");null==(i=e.currentTarget)||i.setPointerCapture(e.pointerId),0===e.button&&(null==(o=t.onPointBounds)||o.call(t,l,e)),null==(a=t.onPointerDown)||a.call(t,l,e)}else null==(r=t.onRightPointBounds)||r.call(t,n.pointerDown(e,"bounds"),e)},onPointerUp:function(e){var r,i,o,a;if(!e.dead&&(e.dead=!0,2!==e.button)&&(n.activePointer=void 0,n.pointerIsValid(e))){var l=n.isDoubleClick(),s=n.pointerUp(e,"bounds");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=e.currentTarget)||r.releasePointerCapture(e.pointerId)),0===e.button&&(l&&!(s.altKey||s.metaKey)&&(null==(i=t.onDoubleClickBounds)||i.call(t,s,e)),null==(o=t.onReleaseBounds)||o.call(t,s,e)),null==(a=t.onPointerUp)||a.call(t,s,e)}},onPointerMove:function(e){var r,i;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e))){1===e.buttons&&e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=t.onDragBounds)||r.call(t,n.pointerMove(e,"bounds"),e));var o=n.pointerMove(e,"bounds");null==(i=t.onPointerMove)||i.call(t,o,e)}},onPointerEnter:function(e){var r;!n.pointerIsValid(e)||null==(r=t.onHoverBounds)||r.call(t,n.pointerEnter(e,"bounds"),e)},onPointerLeave:function(e){var r;!n.pointerIsValid(e)||null==(r=t.onUnhoverBounds)||r.call(t,n.pointerEnter(e,"bounds"),e)}}}),[n,t])}();return E.createElement(jn,{bounds:t,rotation:n},E.createElement(Wn,null,E.createElement("rect",ln({className:"tl-bounds-bg","aria-label":"bounds bg",width:t.width,height:t.height,opacity:r?0:1},i))))}));var ir=E.memo((function(e){var t=e.id,n=e.point,r=function(e){var t=fn(),n=t.inputs,r=t.callbacks;return E.useMemo((function(){return{onPointerDown:function(t){var i,o,a;if(!t.dead&&(t.dead=!0,n.pointerIsValid(t))&&2!==t.button){null==(i=t.currentTarget)||i.setPointerCapture(t.pointerId);var l=n.pointerDown(t,e);0===t.button&&(null==(o=r.onPointHandle)||o.call(r,l,t)),null==(a=r.onPointerDown)||a.call(r,l,t)}},onPointerUp:function(t){var i,o,a,l;if(!t.dead&&(t.dead=!0,n.pointerIsValid(t))&&2!==t.button){var s=n.isDoubleClick(),u=n.pointerUp(t,e);t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(i=t.currentTarget)||i.releasePointerCapture(t.pointerId),0===t.button&&(s&&!(u.altKey||u.metaKey)&&(null==(o=r.onDoubleClickHandle)||o.call(r,u,t)),null==(a=r.onReleaseHandle)||a.call(r,u,t))),null==(l=r.onPointerUp)||l.call(r,u,t)}},onPointerMove:function(t){var i,o;if(!t.dead&&(t.dead=!0,n.pointerIsValid(t))&&2!==t.buttons){var a=n.pointerMove(t,e);1===t.buttons&&t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(i=r.onDragHandle)||i.call(r,a,t)),null==(o=r.onPointerMove)||o.call(r,a,t)}},onPointerEnter:function(t){var i;if(n.pointerIsValid(t)){var o=n.pointerEnter(t,e);null==(i=r.onHoverHandle)||i.call(r,o,t)}},onPointerLeave:function(t){var i;if(n.pointerIsValid(t)){var o=n.pointerEnter(t,e);null==(i=r.onUnhoverHandle)||i.call(r,o,t)}}}}),[n,r,e])}(t);return E.createElement(jn,{bounds:kn.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},n)},E.createElement(Wn,null,E.createElement("g",ln({className:"tl-handle","aria-label":"handle"},r),E.createElement("circle",{className:"tl-handle-bg",pointerEvents:"all"}),E.createElement("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))}));var or=E.memo((function(e){var t=e.shape,n=e.zoom;if(void 0===t.handles)return null;var r=null,i=Object.values(t.handles).reduce((function(e,i){var o=M.add(i.point,t.point);return(!r||M.dist(o,r)*n>=32)&&(e.push(i),r=o),e}),[]);return 1===i.length?null:E.createElement(E.Fragment,null,i.map((function(e){return E.createElement(ir,{key:t.id+"_"+e.id,id:e.id,point:M.add(e.point,t.point)})})))}));var ar=E.memo((function(e){var t=e.utils.getRef(e.shape);return E.createElement(e.utils.Component,ln({ref:t},e))}),(function(e,t){return e.isHovered===t.isHovered&&e.isSelected===t.isSelected&&e.isEditing===t.isEditing&&e.isBinding===t.isBinding&&e.isGhost===t.isGhost&&e.meta===t.meta&&(t.shape===e.shape||!t.utils.shouldRender(t.shape,e.shape))}));var lr=E.memo((function(e){var t=e,n=t.shape,r=t.utils,i=t.meta,o=un(t,["shape","utils","meta"]),a=fn().callbacks,l=r.getBounds(n),s=function(e){var t=E.useContext(dn),n=t.rPageState,r=t.rSelectionBounds,i=t.callbacks,o=t.inputs;return E.useMemo((function(){return{onPointerDown:function(t){var a,l,s,u,c,d,f;if(!t.dead&&(t.dead=!0,o.pointerIsValid(t)))if(2!==t.button){var p=o.pointerDown(t,e);if(null==(l=t.currentTarget)||l.setPointerCapture(t.pointerId),r.current&&bn.pointInBounds(p.point,r.current)&&!n.current.selectedIds.includes(e))return 0===t.button&&(null==(s=i.onPointBounds)||s.call(i,o.pointerDown(t,"bounds"),t),null==(u=i.onPointShape)||u.call(i,p,t)),void(null==(c=i.onPointerDown)||c.call(i,p,t));0===t.button&&(null==(d=i.onPointShape)||d.call(i,p,t)),null==(f=i.onPointerDown)||f.call(i,p,t)}else null==(a=i.onRightPointShape)||a.call(i,o.pointerDown(t,e),t)},onPointerUp:function(t){var n,r,a,l;if(!t.dead&&(t.dead=!0,o.pointerIsValid(t))&&2!==t.button){o.activePointer=void 0;var s=o.isDoubleClick(),u=o.pointerUp(t,e);t.pointerId&&t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(n=t.currentTarget)||n.releasePointerCapture(t.pointerId)),0===t.button&&(s&&!(u.altKey||u.metaKey)&&(null==(r=i.onDoubleClickShape)||r.call(i,u,t)),null==(a=i.onReleaseShape)||a.call(i,u,t)),null==(l=i.onPointerUp)||l.call(i,u,t)}},onPointerMove:function(t){var n,r;if(!(t.dead||(t.dead=!0,2===t.buttons||!o.pointerIsValid(t)||o.pointer&&t.pointerId!==o.pointer.pointerId))){var a=o.pointerMove(t,e);1===t.buttons&&t.currentTarget.hasPointerCapture(t.pointerId)&&(null==(n=i.onDragShape)||n.call(i,a,t)),null==(r=i.onPointerMove)||r.call(i,a,t)}},onPointerEnter:function(t){var n;if(o.pointerIsValid(t)){var r=o.pointerEnter(t,e);null==(n=i.onHoverShape)||n.call(i,r,t)}},onPointerLeave:function(t){var n;if(o.pointerIsValid(t)){var r=o.pointerEnter(t,e);null==(n=i.onUnhoverShape)||n.call(i,r,t)}}}}),[o,i,e])}(n.id);return E.createElement(jn,{id:n.id,bounds:l,rotation:n.rotation,"data-shape":n.type,isGhost:o.isGhost,isSelected:o.isSelected},E.createElement(ar,ln({shape:n,utils:r,meta:i,events:s,bounds:l,onShapeChange:a.onShapeChange,onShapeBlur:a.onShapeBlur},o)))}));var sr=E.memo((function(e){var t=e,n=t.shape,r=t.utils,i=t.meta,o=t.children,a=un(t,["shape","utils","meta","children"]);return E.createElement(E.Fragment,null,E.createElement(lr,ln({shape:n,utils:r[n.type],meta:i},a)),o&&o.map((function(e){return E.createElement(sr,ln({key:e.shape.id,utils:r},e))})))}));var ur=E.memo((function(e){var t=e.isHovered,n=void 0!==t&&t,r=e.isSelected,i=void 0!==r&&r,o=e.isEditing,a=void 0!==o&&o,l=e.shape,s=e.user,u=e.meta,c=fn().shapeUtils[l.type],d=c.getBounds(l),f=An(d,l.rotation);return E.createElement("div",{ref:f,draggable:!1,className:["tl-indicator","tl-absolute",i&&!s?"tl-selected":"tl-hovered",a?"tl-editing":"",l.isLocked?"tl-locked":""].join(" ")},E.createElement("svg",{width:"100%",height:"100%"},E.createElement("g",{className:"tl-centered-g",stroke:null==s?void 0:s.color},E.createElement(c.Indicator,{shape:l,meta:u,user:s,bounds:d,isSelected:i,isHovered:n}))))}));var cr=E.memo((function(e){var t,n=e.page,r=e.pageState,i=e.assets,o=e.hideBounds,a=e.hideHandles,l=e.hideIndicators,s=e.hideBindingHandles,u=e.hideCloneHandles,c=e.hideRotateHandle,d=e.hideResizeHandles,f=e.meta,p=fn(),h=p.bounds,v=p.shapeUtils,g=xn(n,r,i,f),y=function(e,t,n){var r,i=fn().rSelectionBounds,o=t.selectedIds,a=E.useRef(),l=0,s=!1,u=!1;if(1===o.length){var c=o[0],d=e.shapes[c];if(!d)throw Error("selectedIds is set to the id of a shape that doesn't exist: ".concat(c));l=d.rotation||0,s=d.isLocked||!1;var f=Bn(n,d);r=f.hideBounds?void 0:f.getBounds(d)}else if(o.length>1){var p=o.map((function(t){return e.shapes[t]}));l=0,s=p.every((function(e){return e.isLocked})),r=p.reduce((function(e,t,r){return 0===r?Bn(n,t).getRotatedBounds(t):kn.getExpandedBounds(e,Bn(n,t).getRotatedBounds(t))}),{})}if(r){var h=m(Ln([r.minX,r.minY],t.camera),2),v=h[0],g=h[1],y=m(Ln([r.maxX,r.maxY],t.camera),2),b=y[0],w=y[1];u=!!Object.values(e.bindings).find((function(e){return o.includes(e.toId)||o.includes(e.fromId)})),i.current={minX:v,minY:g,maxX:b,maxY:w,width:b-v,height:w-g}}else i.current=null;var k=a.current;return k&&r?r&&k.minX===r.minX&&k.minY===r.minY&&k.maxX===r.maxX&&k.maxY===r.maxY&&(r=a.current):a.current=r,{bounds:r,rotation:l,isLocked:s,isLinked:u}}(n,r,v),b=y.bounds,w=y.isLinked,k=y.isLocked,S=y.rotation,C=r.selectedIds,x=r.hoveredId,I=r.editingId,P=r.camera.zoom,_=l,M=!0,D=!1,T=C.map((function(e){return n.shapes[e]}));if(1===T.length){var O=T[0];(D=I===O.id)&&(_=!0);var R=v[O.type];M=u||!R.showCloneHandles,void 0!==O.handles&&!D&&(t=O)}return E.createElement(E.Fragment,null,b&&E.createElement(rr,{bounds:b,rotation:S,isHidden:o}),g.map((function(e){return E.createElement(sr,ln({key:e.shape.id,utils:v},e))})),!_&&T.map((function(e){return E.createElement(ur,{key:"selected_"+e.id,shape:e,meta:f,isSelected:!0,isEditing:D})})),!_&&x&&x!==I&&E.createElement(ur,{key:"hovered_"+x,shape:n.shapes[x],meta:f,isHovered:!0}),b&&E.createElement(nr,{zoom:P,bounds:b,viewportWidth:h.width,isLocked:k,rotation:S,isHidden:o,hideRotateHandle:c,hideResizeHandles:d,hideBindingHandles:s||!w,hideCloneHandles:M}),!a&&t&&E.createElement(or,{shape:t,zoom:P}))}));var dr=E.memo((function(e){var t=e.snapLine,n=kn.getBoundsFromPoints(t);return E.createElement(E.Fragment,null,E.createElement("line",{className:"tl-snap-line",x1:n.minX,y1:n.minY,x2:n.maxX,y2:n.maxY}),t.map((function(e,t){var n=m(e,2),r=n[0],i=n[1];return E.createElement("use",{key:t,href:"#tl-snap-point",x:r,y:i})})))})),fr=E.memo((function(e){var t=e.snapLines;return E.createElement(E.Fragment,null,t.map((function(e,t){return E.createElement(dr,{key:t,snapLine:e})})))}));function pr(e){var t=e.user,n=e.Cursor,r=E.useRef(null);return E.useLayoutEffect((function(){r.current&&(r.current.style.transform="translate(".concat(t.point[0],"px, ").concat(t.point[1],"px)"))}),[t.point]),E.createElement("div",{ref:r,className:"tl-absolute tl-user tl-counter-scaled ".concat(t.session?"":"tl-animated")},E.createElement(n,{id:t.id,color:t.color,metadata:t.metadata}))}function hr(e){var t=e.userId,n=e.users,r=e.Cursor;return E.createElement(E.Fragment,null,Object.values(n).filter((function(e){return e&&e.id!==t})).map((function(e){return E.createElement(pr,{key:e.id,user:e,Cursor:r})})))}function vr(e){var t=e.userId,n=e.users,r=e.meta,i=e.page,o=fn().shapeUtils;return E.createElement(E.Fragment,null,Object.values(n).filter(Boolean).filter((function(e){return e.id!==t&&e.selectedIds.length>0})).map((function(e){var t=e.selectedIds.map((function(e){return i.shapes[e]})).filter(Boolean);if(0===t.length)return null;var n=kn.getCommonBounds(t.map((function(e){return o[e.type].getBounds(e)})));return E.createElement(E.Fragment,{key:e.id+"_shapes"},E.createElement("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:e.color+"0d",borderColor:e.color+"78",transform:"translate(".concat(n.minX,"px, ").concat(n.minY,"px)"),width:n.width,height:n.height,pointerEvents:"none"}}),t.map((function(t){return E.createElement(ur,{key:"".concat(e.id,"_").concat(t.id,"_indicator"),shape:t,user:e,meta:r,isHovered:!0})})))})))}var gr=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document};var mr=E.memo((function(e){var t,n=e.id,r=e.page,i=e.pageState,o=e.assets,a=e.snapLines,l=e.eraseLine,s=e.grid,u=e.users,c=e.userId,d=e.components,f=void 0===d?{}:d,p=e.meta,h=e.performanceMode,v=e.showDashedBrush,g=e.hideHandles,m=e.hideBounds,y=e.hideIndicators,b=e.hideBindingHandles,w=e.hideCloneHandles,k=e.hideResizeHandles,S=e.hideRotateHandle,C=e.hideGrid,x=e.onBoundsChange,I=e.hideCursors,P=E.useRef(null),_=E.useRef(i.camera.zoom);_.current=i.camera.zoom,Sn(_,P),function(e,t){var n=fn(),r=n.inputs,i=n.callbacks,o=E.useRef(!1),a=E.useCallback((function(){var n,a;if(o.current){var l=null==(n=e.current)?void 0:n.getBoundingClientRect();if(l){var s={minX:l.left,maxX:l.left+l.width,minY:l.top,maxY:l.top+l.height,width:l.width,height:l.height};r.bounds=s,t(s),null==(a=i.onBoundsChange)||a.call(i,s)}}else o.current=!0}),[e,r,i.onBoundsChange]);E.useEffect((function(){var t=e.current?gr(e.current):document,n=bn.debounce(a,100);return t.addEventListener("scroll",n),window.addEventListener("resize",n),function(){t.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}),[]),E.useEffect((function(){var t=new ResizeObserver((function(e){r.isPinching||e[0].contentRect&&a()}));return e.current&&t.observe(e.current),function(){t.disconnect()}}),[e,r]),E.useEffect((function(){a()}),[e])}(P,x),function(){var e=fn().callbacks;(0,E.useEffect)((function(){function t(){var t;null==(t=e.onShapeBlur)||t.call(e)}return kn.isMobileSafari()?(document.addEventListener("focusout",t),function(){return document.removeEventListener("focusout",t)}):function(){return null}}),[e])}(),function(e){var t=fn().bounds;E.useEffect((function(){var n=function(e){e.preventDefault()},r=function(e){var n=e.touches[0].pageX,r=e.touches[0].radiusX||0;(n-r<10||n+r>t.width-10)&&e.preventDefault()},i=e.current;return i?(i.addEventListener("gestureend",n),i.addEventListener("gesturechange",n),i.addEventListener("gesturestart",n),i.addEventListener("touchstart",r),function(){i&&(i.removeEventListener("gestureend",n),i.removeEventListener("gesturechange",n),i.removeEventListener("gesturestart",n),i.removeEventListener("touchstart",r))}):function(){}}),[e,t.width])}(P);var M=E.useRef(null),D=E.useRef(null);(function(e,t,n){var r=E.useRef(),i=E.useRef();E.useLayoutEffect((function(){var o=n.camera,a=o.zoom,l=o.point,s=a!==r.current,u=l!==i.current;if(r.current=a,i.current=l,s||u){var c=e.current;if(t&&"current"in t){var d=t.current;s&&d&&d.style.setProperty("--tl-zoom",a.toString()),c&&c.style.setProperty("transform","scale(".concat(a,") translateX(").concat(l[0],"px) translateY(").concat(l[1],"px)"))}}}),[n.camera.zoom,n.camera.point])})(D,M,i),function(e,t){E.useLayoutEffect((function(){if(t&&"current"in t){var n=null==t?void 0:t.current;if(!n)return;switch(e){case"transform_selected":n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform, contents");break;case"transform_all":n.style.setProperty("--tl-performance-all","transform, contents"),n.style.setProperty("--tl-performance-selected","transform, contents");break;case"translate_selected":n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform");break;case"translate_all":n.style.setProperty("--tl-performance-all","transform"),n.style.setProperty("--tl-performance-selected","transform");break;default:n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","auto")}}}),[e])}(h,M),function(){var e=fn(),t=e.inputs,n=e.callbacks;E.useEffect((function(){var e=function(e){var r;null==(r=n.onKeyDown)||r.call(n,e.key,t.keydown(e),e)},r=function(e){var r;t.keyup(e),null==(r=n.onKeyUp)||r.call(n,e.key,t.keyup(e),e)};return window.addEventListener("keydown",e),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[t,n])}();var T=function(){var e=fn(),t=e.callbacks,n=e.inputs;return E.useMemo((function(){return{onPointerDown:function(e){var r,i,o;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e)))if(e.currentTarget.setPointerCapture(e.pointerId),2!==e.button){var a=n.pointerDown(e,"canvas");0===e.button&&(null==(i=t.onPointCanvas)||i.call(t,a,e)),null==(o=t.onPointerDown)||o.call(t,a,e)}else null==(r=t.onRightPointCanvas)||r.call(t,n.pointerDown(e,"canvas"),e)},onPointerMove:function(e){var r,i;if(!e.dead&&(e.dead=!0,n.pointerIsValid(e))){var o=n.pointerMove(e,"canvas");1===e.buttons&&e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(r=t.onDragCanvas)||r.call(t,o,e)),null==(i=t.onPointerMove)||i.call(t,o,e)}},onPointerUp:function(e){var r,i,o,a,l;if(!e.dead&&(e.dead=!0,n.activePointer=void 0,n.pointerIsValid(e))){var s=n.isDoubleClick(),u=n.pointerUp(e,"canvas");2!==e.button?(e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(i=e.currentTarget)||i.releasePointerCapture(e.pointerId)),0===e.button&&(s&&!(u.altKey||u.metaKey)&&(null==(o=t.onDoubleClickCanvas)||o.call(t,u,e)),null==(a=t.onReleaseCanvas)||a.call(t,u,e)),null==(l=t.onPointerUp)||l.call(t,u,e)):null==(r=t.onPointerUp)||r.call(t,u,e)}},onDrop:t.onDrop,onDragOver:t.onDragOver}}),[t,n])}();return E.createElement("div",{id:n,className:"tl-container",ref:M},E.createElement("div",ln({id:"canvas",className:"tl-absolute tl-canvas",ref:P},T),!C&&s&&E.createElement(Kn,{grid:s,camera:i.camera}),E.createElement("div",{ref:D,className:"tl-absolute tl-layer","data-testid":"layer"},E.createElement(cr,{page:r,pageState:i,assets:o,hideBounds:m,hideIndicators:y,hideHandles:g,hideBindingHandles:b,hideCloneHandles:w,hideResizeHandles:k,hideRotateHandle:S,meta:p}),u&&c&&E.createElement(vr,{userId:c,users:u,page:r,meta:p}),i.brush&&E.createElement(zn,{brush:i.brush,dashed:v,zoom:i.camera.zoom}),u&&!I&&E.createElement(hr,{userId:c,users:u,Cursor:null!=(t=null==f?void 0:f.Cursor)?t:Fn})),E.createElement(Vn,{camera:i.camera},l&&E.createElement(Nn,{points:l,zoom:i.camera.zoom}),a&&E.createElement(fr,{snapLines:a}))))})),yr=function(){function e(){var t=this;w(this,e),cn(this,"pointer"),cn(this,"keyboard"),cn(this,"keys",{}),cn(this,"isPinching",!1),cn(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),cn(this,"pointerUpTime",0),cn(this,"activePointer"),cn(this,"panStart",(function(n){var r,i,o=n.shiftKey,a=n.ctrlKey,l=n.metaKey,s=n.altKey,u={target:"wheel",pointerId:(null==(r=t.pointer)?void 0:r.pointerId)||0,origin:(null==(i=t.pointer)?void 0:i.origin)||[0,0],delta:[0,0],pressure:.5,point:e.getPoint(n,t.bounds),shiftKey:o,ctrlKey:a,metaKey:l,altKey:s,spaceKey:t.keys[" "]};return t.pointer=u,u})),cn(this,"pan",(function(n,r){if(!t.pointer||"wheel"!==t.pointer.target)return t.panStart(r);var i=r.shiftKey,o=r.ctrlKey,a=r.metaKey,l=r.altKey,s=t.pointer,u=e.getPoint(r,t.bounds),c=sn(ln({},s),{target:"wheel",delta:n,point:u,shiftKey:i,ctrlKey:o,metaKey:a,altKey:l,spaceKey:t.keys[" "]});return t.pointer=c,c})),cn(this,"keydown",(function(e){var n,r,i=e.shiftKey,o=e.ctrlKey,a=e.metaKey,l=e.altKey;return t.keys[e.key]=!0,{point:(null==(n=t.pointer)?void 0:n.point)||[0,0],origin:(null==(r=t.pointer)?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(t.keys),shiftKey:i,ctrlKey:o,metaKey:bn.isDarwin()?a:o,altKey:l}})),cn(this,"keyup",(function(e){var n,r,i=e.shiftKey,o=e.ctrlKey,a=e.metaKey,l=e.altKey;return delete t.keys[e.key],{point:(null==(n=t.pointer)?void 0:n.point)||[0,0],origin:(null==(r=t.pointer)?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(t.keys),shiftKey:i,ctrlKey:o,metaKey:bn.isDarwin()?a:o,altKey:l}}))}return b(e,[{key:"pointerIsValid",value:function(e){if("pointerId"in e&&this.activePointer&&this.activePointer!==e.pointerId)return!1;if("touches"in e){var t=e.changedTouches[0];if(this.activePointer&&this.activePointer!==t.identifier)return!1}return!0}},{key:"touchStart",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=t.changedTouches[0];this.activePointer=l.identifier;var s={target:n,pointerId:l.identifier,origin:e.getPoint(l,this.bounds),delta:[0,0],point:e.getPoint(l,this.bounds),pressure:e.getPressure(l),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,s}},{key:"touchEnd",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=t.changedTouches[0],s={target:n,pointerId:l.identifier,origin:e.getPoint(l,this.bounds),delta:[0,0],point:e.getPoint(l,this.bounds),pressure:e.getPressure(l),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,this.activePointer=void 0,s}},{key:"touchMove",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=t.changedTouches[0],s=this.pointer,u=e.getPoint(l,this.bounds),c=(null==s?void 0:s.point)?M.sub(u,s.point):[0,0],d=sn(ln({origin:u},s),{target:n,pointerId:l.identifier,point:u,delta:c,pressure:e.getPressure(l),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=d,d}},{key:"pointerDown",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=e.getPoint(t,this.bounds);this.activePointer=t.pointerId;var s={target:n,pointerId:t.pointerId,origin:l,point:l,delta:[0,0],pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,s}},{key:"pointerEnter",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=e.getPoint(t,this.bounds),s={target:n,pointerId:t.pointerId,origin:l,delta:[0,0],point:l,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,s}},{key:"pointerMove",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=this.pointer,s=e.getPoint(t,this.bounds),u=(null==l?void 0:l.point)?M.sub(s,l.point):[0,0],c=sn(ln({origin:s},l),{target:n,pointerId:t.pointerId,point:s,delta:u,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=c,c}},{key:"pointerUp",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,l=this.pointer,s=e.getPoint(t,this.bounds),u=(null==l?void 0:l.point)?M.sub(s,l.point):[0,0];this.activePointer=void 0;var c=sn(ln({origin:s},l),{target:n,pointerId:t.pointerId,point:s,delta:u,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=c,this.pointerUpTime=performance.now(),c}},{key:"isDoubleClick",value:function(){if(!this.pointer)return!1;var e=this.pointer,t=e.origin,n=e.point,r=performance.now()-this.pointerUpTime<250&&M.dist(t,n)<4;return r&&(this.activePointer=void 0),r}},{key:"clear",value:function(){this.pointer=void 0}},{key:"resetDoubleClick",value:function(){this.pointerUpTime=0}},{key:"pinch",value:function(e,t){var n=this.keys,r=n.shiftKey,i=n.ctrlKey,o=n.metaKey,a=n.altKey,l={pointerId:0,target:"pinch",origin:t,delta:M.sub(t,e),point:M.sub(M.toFixed(e),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:r,ctrlKey:i,metaKey:bn.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=l,l}},{key:"reset",value:function(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}}],[{key:"getPoint",value:function(e,t){return[+e.clientX.toFixed(2)-t.minX,+e.clientY.toFixed(2)-t.minY]}},{key:"getPressure",value:function(e){return"pressure"in e&&+e.pressure.toFixed(2)||.5}},{key:"commandKey",value:function(){return bn.isDarwin()?"\u2318":"Ctrl"}}]),e}(),br=(new yr,Object.freeze({}));var wr=E.memo((function(e){var t=e,n=t.id,r=void 0===n?"tl":n,i=t.shapeUtils,o=t.page,a=t.pageState,l=t.assets,s=void 0===l?br:l,u=t.users,c=t.userId,d=t.theme,f=t.meta,p=t.snapLines,h=t.eraseLine,v=t.grid,g=t.containerRef,y=t.performanceMode,b=t.components,w=t.hideHandles,k=void 0!==w&&w,S=t.hideIndicators,C=void 0!==S&&S,x=t.hideCloneHandles,I=void 0!==x&&x,P=t.hideBindingHandles,_=void 0!==P&&P,M=t.hideResizeHandles,D=void 0!==M&&M,T=t.hideRotateHandles,O=void 0!==T&&T,R=t.hideBounds,L=void 0!==R&&R,B=t.hideGrid,A=void 0===B||B,j=t.showDashedBrush,z=void 0!==j&&j,H=t.hideCursors,F=un(t,["id","shapeUtils","page","pageState","assets","users","userId","theme","meta","snapLines","eraseLine","grid","containerRef","performanceMode","components","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid","showDashedBrush","hideCursors"]);On(d,"#"+r);var N=E.useRef(null),U=E.useRef(a);E.useEffect((function(){U.current=a}),[a]);var K=m(E.useState((function(){return{callbacks:F,shapeUtils:i,rSelectionBounds:N,rPageState:U,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new yr}})),2),V=K[0],W=K[1],Y=E.useCallback((function(e){W((function(t){return sn(ln({},t),{bounds:e})}))}),[]);return E.createElement(dn.Provider,{value:V},E.createElement(mr,{id:r,page:o,pageState:a,assets:s,snapLines:p,eraseLine:h,grid:v,users:u,userId:c,externalContainerRef:g,hideBounds:L,hideIndicators:C,hideHandles:k,hideCloneHandles:I,hideBindingHandles:_,hideRotateHandle:O,hideResizeHandles:D,hideGrid:A,showDashedBrush:z,onBoundsChange:Y,performanceMode:y,components:b,meta:f,hideCursors:H}))})),kr=E.memo(E.forwardRef((function(e,t){var n=e,r=n.children,i=n.className,o=void 0===i?"":i,a=un(n,["children","className"]);return E.createElement("div",ln({ref:t,className:"tl-positioned-div ".concat(o),draggable:!1},a),E.createElement("div",{className:"tl-inner-div"},r))}))),Sr=b((function e(){var t=this;w(this,e),cn(this,"refMap",new Map),cn(this,"boundsCache",new WeakMap),cn(this,"showCloneHandles",!1),cn(this,"hideBounds",!1),cn(this,"isStateful",!1),cn(this,"shouldRender",(function(e,t){return!0})),cn(this,"getRef",(function(e){return t.refMap.has(e.id)||t.refMap.set(e.id,E.createRef()),t.refMap.get(e.id)})),cn(this,"hitTestBounds",(function(e,n){var r=t.getBounds(e),i=kn.getRotatedCorners(r,e.rotation);return i.every((function(e){return kn.pointInBounds(e,n)}))||Qt(i,n).length>0})),cn(this,"getRotatedBounds",(function(e){return kn.getBoundsFromPoints(kn.getRotatedCorners(t.getBounds(e),e.rotation))}))}));cn(Sr,"Component",(function(e){return E.forwardRef(e)})),cn(Sr,"Indicator",(function(e){return e}));var Cr,Er,xr=["variants","compoundVariants","defaultVariants"],Ir=["css"],Pr=["css"],_r="colors",Mr="sizes",Dr="space",Tr={gap:Dr,gridGap:Dr,columnGap:Dr,gridColumnGap:Dr,rowGap:Dr,gridRowGap:Dr,inset:Dr,insetBlock:Dr,insetBlockEnd:Dr,insetBlockStart:Dr,insetInline:Dr,insetInlineEnd:Dr,insetInlineStart:Dr,margin:Dr,marginTop:Dr,marginRight:Dr,marginBottom:Dr,marginLeft:Dr,marginBlock:Dr,marginBlockEnd:Dr,marginBlockStart:Dr,marginInline:Dr,marginInlineEnd:Dr,marginInlineStart:Dr,padding:Dr,paddingTop:Dr,paddingRight:Dr,paddingBottom:Dr,paddingLeft:Dr,paddingBlock:Dr,paddingBlockEnd:Dr,paddingBlockStart:Dr,paddingInline:Dr,paddingInlineEnd:Dr,paddingInlineStart:Dr,top:Dr,right:Dr,bottom:Dr,left:Dr,scrollMargin:Dr,scrollMarginTop:Dr,scrollMarginRight:Dr,scrollMarginBottom:Dr,scrollMarginLeft:Dr,scrollMarginX:Dr,scrollMarginY:Dr,scrollMarginBlock:Dr,scrollMarginBlockEnd:Dr,scrollMarginBlockStart:Dr,scrollMarginInline:Dr,scrollMarginInlineEnd:Dr,scrollMarginInlineStart:Dr,scrollPadding:Dr,scrollPaddingTop:Dr,scrollPaddingRight:Dr,scrollPaddingBottom:Dr,scrollPaddingLeft:Dr,scrollPaddingX:Dr,scrollPaddingY:Dr,scrollPaddingBlock:Dr,scrollPaddingBlockEnd:Dr,scrollPaddingBlockStart:Dr,scrollPaddingInline:Dr,scrollPaddingInlineEnd:Dr,scrollPaddingInlineStart:Dr,fontSize:"fontSizes",background:_r,backgroundColor:_r,backgroundImage:_r,borderImage:_r,border:_r,borderBlock:_r,borderBlockEnd:_r,borderBlockStart:_r,borderBottom:_r,borderBottomColor:_r,borderColor:_r,borderInline:_r,borderInlineEnd:_r,borderInlineStart:_r,borderLeft:_r,borderLeftColor:_r,borderRight:_r,borderRightColor:_r,borderTop:_r,borderTopColor:_r,caretColor:_r,color:_r,columnRuleColor:_r,fill:_r,outline:_r,outlineColor:_r,stroke:_r,textDecorationColor:_r,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Mr,minBlockSize:Mr,maxBlockSize:Mr,inlineSize:Mr,minInlineSize:Mr,maxInlineSize:Mr,width:Mr,minWidth:Mr,maxWidth:Mr,height:Mr,minHeight:Mr,maxHeight:Mr,flexBasis:Mr,gridTemplateColumns:Mr,gridTemplateRows:Mr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Or=function(e,t){return"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t},Rr=function(){var e=Object.create(null);return function(t,n){for(var r=function(e){return JSON.stringify(e,Or)}(t),i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return r in e?e[r]:e[r]=n.apply(void 0,[t].concat(o))}},Lr=Symbol.for("sxs.internal"),Br=function(e,t){return Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))},Ar=function(e){for(var t in e)return!0;return!1},jr=Object.prototype.hasOwnProperty,zr=function(e){return e.includes("-")?e:e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},Hr=/\s+(?![^()]*\))/,Fr=function(e){return function(t){return e.apply(void 0,S("string"==typeof t?String(t).split(Hr):[t]))}},Nr={appearance:function(e){return{WebkitAppearance:e,appearance:e}},backfaceVisibility:function(e){return{WebkitBackfaceVisibility:e,backfaceVisibility:e}},backdropFilter:function(e){return{WebkitBackdropFilter:e,backdropFilter:e}},backgroundClip:function(e){return{WebkitBackgroundClip:e,backgroundClip:e}},boxDecorationBreak:function(e){return{WebkitBoxDecorationBreak:e,boxDecorationBreak:e}},clipPath:function(e){return{WebkitClipPath:e,clipPath:e}},content:function(e){return{content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}},hyphens:function(e){return{WebkitHyphens:e,hyphens:e}},maskImage:function(e){return{WebkitMaskImage:e,maskImage:e}},maskSize:function(e){return{WebkitMaskSize:e,maskSize:e}},tabSize:function(e){return{MozTabSize:e,tabSize:e}},textSizeAdjust:function(e){return{WebkitTextSizeAdjust:e,textSizeAdjust:e}},userSelect:function(e){return{WebkitUserSelect:e,userSelect:e}},marginBlock:Fr((function(e,t){return{marginBlockStart:e,marginBlockEnd:t||e}})),marginInline:Fr((function(e,t){return{marginInlineStart:e,marginInlineEnd:t||e}})),maxSize:Fr((function(e,t){return{maxBlockSize:e,maxInlineSize:t||e}})),minSize:Fr((function(e,t){return{minBlockSize:e,minInlineSize:t||e}})),paddingBlock:Fr((function(e,t){return{paddingBlockStart:e,paddingBlockEnd:t||e}})),paddingInline:Fr((function(e,t){return{paddingInlineStart:e,paddingInlineEnd:t||e}}))},Ur=/([\d.]+)([^]*)/,Kr=function(e,t){return e.length?e.reduce((function(e,n){return e.push.apply(e,S(t.map((function(e){return e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e})))),e}),[]):t},Vr=function(e,t){return e in Wr&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(function(t,n,r,i){return n+("stretch"===r?"-moz-available".concat(i,";").concat(zr(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(zr(e),":").concat(n,"fit-content"))+i})):String(t)},Wr={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Yr=function(e){return e?e+"-":""},Xr=function(e,t,n){return e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(function(e,r,i,o,a){return"$"==o==!!i?e:(r||"--"==o?"calc(":"")+"var(--"+("$"===o?Yr(t)+(a.includes("$")?"":Yr(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==o?"*"+(r||"")+(i||"1")+")":"")}))},$r=/\s*,\s*(?![^()]*\))/,Zr=Object.prototype.toString,Gr=function(e,t,n,r,i){var o,a,l;!function e(t,n,s){var u,c;(function t(d){for(u in d){var f,p=64===u.charCodeAt(0),h=C(p&&Array.isArray(d[u])?d[u]:[d[u]]);try{for(h.s();!(f=h.n()).done;){c=f.value;var v=/[A-Z]/.test(x=u)?x:x.replace(/-[^]/g,(function(e){return e[1].toUpperCase()})),g="object"==typeof c&&c&&c.toString===Zr&&(!r.utils[v]||!n.length);if(v in r.utils&&!g){var y=r.utils[v];if(y!==a){a=y,t(y(c)),a=null;continue}}else if(v in Nr){var b=Nr[v];if(b!==l){l=b,t(b(c)),l=null;continue}}if(p&&(E=u.slice(1)in r.media?"@media "+r.media[u.slice(1)]:u,u=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(function(e,t,n,r,i,o){var a=Ur.test(t),l=.0625*(a?-1:1),s=m(a?[r,t]:[t,r],2),u=s[0],c=s[1];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+u+":"+("="!==n[0]&&1===n.length?c.replace(Ur,(function(e,t,r){return Number(t)+l*(">"===n?1:-1)+r})):c)+(i?") and ("+(">"===i[0]?"min-":"max-")+u+":"+(1===i.length?o.replace(Ur,(function(e,t,n){return Number(t)+l*(">"===i?-1:1)+n})):o):"")+")"}))),g){var w=p?s.concat(u):S(s),k=p?S(n):Kr(n,u.split($r));void 0!==o&&i(qr.apply(void 0,S(o))),o=void 0,e(c,k,w)}else void 0===o&&(o=[[],n,s]),u=p||36!==u.charCodeAt(0)?u:"--".concat(Yr(r.prefix)).concat(u.slice(1).replace(/\$/g,"-")),c=g?c:"number"==typeof c?c&&v in Qr?String(c)+"px":String(c):Xr(Vr(v,null==c?"":c),r.prefix,r.themeMap[v]),o[0].push("".concat(p?"".concat(u," "):"".concat(zr(u),":")).concat(c))}}catch(I){h.e(I)}finally{h.f()}}var E,x})(t),void 0!==o&&i(qr.apply(void 0,S(o))),o=void 0}(e,t,n)},qr=function(e,t,n){return"".concat(n.map((function(e){return"".concat(e,"{")})).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}"))},Qr={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Jr=function(e){return String.fromCharCode(e+(e>25?39:97))},ei=function(e){return function(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Jr(t%52)+n;return Jr(t%52)+n}(function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e}(5381,JSON.stringify(e))>>>0)},ti=["themed","global","styled","onevar","resonevar","allvar","inline"],ni=function(e){if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},ri=function(e){var t=e.group,n=t.cssRules.length;e.apply=function(e){try{t.insertRule(e,n),++n}catch(e){}}},ii=Symbol(),oi=Rr(),ai=function(e,t){return oi(e,(function(){return function(){for(var n={type:null,composers:new Set},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var a=0,l=i;a<l.length;a++){var s=l[a];if(null!=s)if(s[Lr]){null==n.type&&(n.type=s[Lr].type);var u,c=C(s[Lr].composers);try{for(c.s();!(u=c.n()).done;){var d=u.value;n.composers.add(d)}}catch(f){c.e(f)}finally{c.f()}}else s.constructor!==Object||s.$$typeof?null==n.type&&(n.type=s):n.composers.add(li(s,e))}return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),si(e,n,t)}}))},li=function(e,t){var n,r,o=e.variants,a=e.compoundVariants,s=e.defaultVariants,u=l(e,xr),c="".concat(Yr(t.prefix),"c-").concat(ei(u)),d=[],f=[],p=Object.create(null),h=[];for(var v in s)p[v]=String(s[v]);if("object"==typeof o&&o)for(var g in o){n=p,r=g,jr.call(n,r)||(p[g]="undefined");var m=o[g];for(var y in m){var b=i({},g,String(y));"undefined"===String(y)&&h.push(g);var w=m[y],k=[b,w,!Ar(w)];d.push(k)}}if("object"==typeof a&&a){var S,E=C(a);try{for(E.s();!(S=E.n()).done;){var x=S.value,I=x.css,P=l(x,Ir);for(var _ in I="object"==typeof I&&I||{},P)P[_]=String(P[_]);var M=[P,I,!Ar(I)];f.push(M)}}catch(D){E.e(D)}finally{E.f()}}return[c,u,d,f,p,h]},si=function(e,t,n){var r,o=m(ui(t.composers),4),s=o[0],u=o[1],c=o[2],d=o[3],f="function"==typeof t.type||t.type.$$typeof?function(e){function t(){for(var n=0;n<t[ii].length;n++){var r=m(t[ii][n],2),i=r[0],o=r[1];e.rules[i].apply(o)}return t[ii]=[],null}return t[ii]=[],t.rules={},ti.forEach((function(e){return t.rules[e]={apply:function(n){return t[ii].push([e,n])}}})),t}(n):null,p=(f||n).rules,h=".".concat(s).concat(u.length>1?":where(.".concat(u.slice(1).join("."),")"):""),v=function(r){var i=r="object"==typeof r&&r||di,o=i.css,v=l(i,Pr),g={};for(var y in c)if(delete v[y],y in r){var b=r[y];"object"==typeof b&&b?g[y]=a({"@initial":c[y]},b):(b=String(b),g[y]="undefined"!==b||d.has(y)?b:c[y])}else g[y]=c[y];var w,k=new Set(S(u)),E=C(t.composers);try{for(E.s();!(w=E.n()).done;){var x=m(w.value,4),I=x[0],P=x[1],_=x[2],M=x[3];n.rules.styled.cache.has(I)||(n.rules.styled.cache.add(I),Gr(P,[".".concat(I)],[],e,(function(e){p.styled.apply(e)})));var D,T=ci(_,g,e.media),O=ci(M,g,e.media,!0),R=C(T);try{for(R.s();!(D=R.n()).done;){var L=D.value;if(void 0!==L){var B,A=C(L);try{var j=function(){var t=m(B.value,3),r=t[0],i=t[1],o=t[2],a="".concat(I,"-").concat(ei(i),"-").concat(r);k.add(a);var l=(o?n.rules.resonevar:n.rules.onevar).cache,s=o?p.resonevar:p.onevar;l.has(a)||(l.add(a),Gr(i,[".".concat(a)],[],e,(function(e){s.apply(e)})))};for(A.s();!(B=A.n()).done;)j()}catch(Q){A.e(Q)}finally{A.f()}}}}catch(Q){R.e(Q)}finally{R.f()}var z,H=C(O);try{for(H.s();!(z=H.n()).done;){var F=z.value;if(void 0!==F){var N,U=C(F);try{for(U.s();!(N=U.n()).done;){var K=m(N.value,2),V=K[0],W=K[1],Y="".concat(I,"-").concat(ei(W),"-").concat(V);k.add(Y),n.rules.allvar.cache.has(Y)||(n.rules.allvar.cache.add(Y),Gr(W,[".".concat(Y)],[],e,(function(e){p.allvar.apply(e)})))}}catch(Q){U.e(Q)}finally{U.f()}}}}catch(Q){H.e(Q)}finally{H.f()}}}catch(Q){E.e(Q)}finally{E.f()}if("object"==typeof o&&o){var X="".concat(s,"-i").concat(ei(o),"-css");k.add(X),n.rules.inline.cache.has(X)||(n.rules.inline.cache.add(X),Gr(o,[".".concat(X)],[],e,(function(e){p.inline.apply(e)})))}var $,Z=C(String(r.className||"").trim().split(/\s+/));try{for(Z.s();!($=Z.n()).done;){var G=$.value;G&&k.add(G)}}catch(Q){Z.e(Q)}finally{Z.f()}var q=v.className=S(k).join(" ");return{type:t.type,className:q,selector:h,props:v,toString:function(){return q},deferredInjector:f}};return Br(v,(i(r={className:s,selector:h},Lr,t),i(r,"toString",(function(){return n.rules.styled.cache.has(s)||v(),s})),r))},ui=function(e){var t,n="",r=[],i={},o=[],a=C(e);try{for(a.s();!(t=a.n()).done;){var l=m(t.value,6),s=l[0],u=l[4],c=l[5];for(var d in""===n&&(n=s),r.push(s),o.push.apply(o,S(c)),u){var f=u[d];(void 0===i[d]||"undefined"!==f||c.includes(f))&&(i[d]=f)}}}catch(p){a.e(p)}finally{a.f()}return[n,r,i,new Set(o)]},ci=function(e,t,n,r){var o,a=[],l=C(e);try{e:for(l.s();!(o=l.n()).done;){var s=m(o.value,3),u=s[0],c=s[1];if(!s[2]){var d=void 0,f=0,p=!1;for(d in u){var h=u[d],v=t[d];if(v!==h){if("object"!=typeof v||!v)continue e;var g=void 0,y=void 0,b=0;for(var w in v){if(h===String(v[w])){if("@initial"!==w){var k=w.slice(1);(y=y||[]).push(k in n?n[k]:w.replace(/^@media ?/,"")),p=!0}f+=b,g=!0}++b}if(y&&y.length&&(c=i({},"@media "+y.join(", "),c)),!g)continue e}}(a[f]=a[f]||[]).push([r?"cv":"".concat(d,"-").concat(u[d]),c,p])}}}catch(S){l.e(S)}finally{l.f()}return a},di={},fi=Rr(),pi=function(e,t){return fi(e,(function(){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(){for(var n=0,i=r;n<i.length;n++){var o=i[n],a=ei(o="object"==typeof o&&o||{});if(!t.rules.global.cache.has(a)){if(t.rules.global.cache.add(a),"@import"in o){var l,s=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1,u=C([].concat(o["@import"]));try{for(u.s();!(l=u.n()).done;){var c=l.value;c=c.includes('"')||c.includes("'")?c:'"'.concat(c,'"'),t.sheet.insertRule("@import ".concat(c,";"),s++)}}catch(d){u.e(d)}finally{u.f()}delete o["@import"]}Gr(o,[],[],e,(function(e){t.rules.global.apply(e)}))}}return""};return Br(o,{toString:o})}}))},hi=Rr(),vi=function(e,t){return hi(e,(function(){return function(n){var r="".concat(Yr(e.prefix),"k-").concat(ei(n)),i=function(){if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);var i=[];Gr(n,[],[],e,(function(e){return i.push(e)}));var o="@keyframes ".concat(r,"{").concat(i.join(""),"}");t.rules.global.apply(o)}return r};return Br(i,{get name(){return i()},toString:i})}}))},gi=function(){function e(t,n,r,i){w(this,e),this.token=null==t?"":String(t),this.value=null==n?"":String(n),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}return b(e,[{key:"computedValue",get:function(){return"var("+this.variable+")"}},{key:"variable",get:function(){return"--"+Yr(this.prefix)+Yr(this.scale)+this.token}},{key:"toString",value:function(){return this.computedValue}}]),e}(),mi=Rr(),yi=function(e,t){return mi(e,(function(){return function(n,r){r="object"==typeof n&&n||Object(r);var i=".".concat(n=(n="string"==typeof n?n:"")||"".concat(Yr(e.prefix),"t-").concat(ei(r))),o={},l=[];for(var s in r)for(var u in o[s]={},r[s]){var c="--".concat(Yr(e.prefix)).concat(s,"-").concat(u),d=Xr(String(r[s][u]),e.prefix,s);o[s][u]=new gi(u,d,s,e.prefix),l.push("".concat(c,":").concat(d))}var f=function(){if(l.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);var i="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(l.join(";"),"}");t.rules.themed.apply(i)}return n};return a(a({},o),{},{get className(){return f()},selector:i,toString:f})}}))},bi=Rr(),wi=Rr(),ki=function(e){var t=function(e){var t=!1,n=bi(e,(function(e){t=!0;var n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},l={prefix:n,media:r,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||a({},Tr),utils:"object"==typeof e.utils&&e.utils||{}},s=function(e){var t,n=function(){var e=t.sheet.cssRules;return[].map.call(e,(function(n,r){var i=n.cssText,o="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(o=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(var a in t.rules)if(t.rules[a].group===n)return"--sxs{--sxs:".concat(S(t.rules[a].cache).join(" "),"}").concat(i);return n.cssRules.length?"".concat(o).concat(i):""}return i})).join("")};return function r(){if(t){var i=t,o=i.rules,a=i.sheet;if(!a.deleteRule){for(;3===Object(Object(a.cssRules)[0]).type;)a.cssRules.splice(0,1);a.cssRules=[]}for(var l in o)delete o[l]}var s,u=C(Object(e).styleSheets||[]);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(ni(c)){for(var d=0,f=c.cssRules;f[d];++d){var p=Object(f[d]);if(1===p.type){var h=Object(f[d+1]);if(4===h.type){++d;var v=p.cssText;if(v.startsWith("--sxs")){var g=v.slice(14,-3).trim().split(/\s+/),m=ti[g[0]];m&&(t||(t={sheet:c,reset:r,rules:{},toString:n}),t.rules[m]={group:h,index:d,cache:new Set(g)})}}}}if(t)break}}}catch(I){u.e(I)}finally{u.f()}t||(t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:function e(t,n){return{type:n,cssRules:[],insertRule:function(t,n){this.cssRules.splice(n,0,e(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?"@media{".concat([].map.call(this.cssRules,(function(e){return e.cssText})).join(""),"}"):t}}}("","text/css"),rules:{},reset:r,toString:n});for(var y=t,b=y.sheet,w=y.rules,k=ti.length-1;k>=0;--k){var S=ti[k];if(!w[S]){var E=ti[k+1],x=w[E]?w[E].index:b.cssRules.length;b.insertRule("@media{}",x),b.insertRule("--sxs{--sxs:".concat(k,"}"),x),w[S]={group:b.cssRules[x+1],index:x,cache:new Set([k])}}ri(w[S])}}(),t}(i),u={css:ai(l,s),globalCss:pi(l,s),keyframes:vi(l,s),createTheme:yi(l,s),reset:function(){s.reset(),u.theme.toString()},theme:{},sheet:s,config:l,prefix:n,getCssText:s.toString,toString:s.toString};return String(u.theme=u.createTheme(o)),u}));return t||n.reset(),n}(e);return t.styled=function(e){var t=e.config,n=e.sheet;return wi(t,(function(){var e=ai(t,n);return function(){var t=e.apply(void 0,arguments),n=t[Lr].type,r=E.forwardRef((function(e,r){var i=e&&e.as||n,o=t(e),a=o.props,l=o.deferredInjector;return delete a.as,a.ref=r,l?E.createElement(E.Fragment,null,E.createElement(i,a),E.createElement(l,null)):E.createElement(i,a)}));return r.className=t.className,r.displayName="Styled.".concat(n.displayName||n.name||n),r.selector=t.selector,r.toString=function(){return t.selector},r[Lr]=t[Lr],r}}))}(t),t},Si=function(){return Cr||(Cr=ki())},Ci=function(){var e;return(e=Si()).styled.apply(e,arguments)};function Ei(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function xi(){return Er||(Er=function(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=Ei(n);return function(e,n){return r.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}("keyval-store","keyval")),Er}function Ii(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:xi())("readonly",(function(t){return Ei(t.get(e))}))}function Pi(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:xi())("readwrite",(function(n){return n.put(t,e),Ei(n.transaction)}))}function _i(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function l(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(l),function(){return n.delete(l)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}function Mi(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function l(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(l),function(){return n.delete(l)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}var Di="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?E.useEffect:E.useLayoutEffect;var Ti="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Oi(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function Ri(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function Li(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var Bi={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":Ti?173:189,"=":Ti?61:187,";":Ti?59:186,"'":222,"[":219,"]":221,"\\":220},Ai={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},ji={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},zi={16:!1,18:!1,17:!1,91:!1},Hi={},Fi=1;Fi<20;Fi++)Bi["f".concat(Fi)]=111+Fi;var Ni=[],Ui=!1,Ki="all",Vi=[],Wi=function(e){return Bi[e.toLowerCase()]||Ai[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function Yi(e){Ki=e||"all"}function Xi(){return Ki||"all"}var $i=function(e){var t=e.key,n=e.scope,r=e.method,i=e.splitKey,o=void 0===i?"+":i;Li(t).forEach((function(e){var t=e.split(o),i=t.length,a=t[i-1],l="*"===a?"*":Wi(a);if(Hi[l]){n||(n=Xi());var s=i>1?Ri(Ai,t):[];Hi[l]=Hi[l].filter((function(e){return!((!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)-1===r.indexOf(n[o])&&(i=!1);return i}(e.mods,s))}))}}))};function Zi(e,t,n,r){var i;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(var o in i=t.mods.length>0,zi)Object.prototype.hasOwnProperty.call(zi,o)&&(!zi[o]&&t.mods.indexOf(+o)>-1||zi[o]&&-1===t.mods.indexOf(+o))&&(i=!1);(0!==t.mods.length||zi[16]||zi[18]||zi[17]||zi[91])&&!i&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Gi(e,t){var n=Hi["*"],r=e.keyCode||e.which||e.charCode;if(qi.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===Ni.indexOf(r)&&229!==r&&Ni.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=ji[t];e[t]&&-1===Ni.indexOf(n)?Ni.push(n):!e[t]&&Ni.indexOf(n)>-1?Ni.splice(Ni.indexOf(n),1):"metaKey"===t&&e[t]&&3===Ni.length&&(e.ctrlKey||e.shiftKey||e.altKey||(Ni=Ni.slice(Ni.indexOf(n))))})),r in zi){for(var i in zi[r]=!0,Ai)Ai[i]===r&&(qi[i]=!0);if(!n)return}for(var o in zi)Object.prototype.hasOwnProperty.call(zi,o)&&(zi[o]=e[ji[o]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===Ni.indexOf(17)&&Ni.push(17),-1===Ni.indexOf(18)&&Ni.push(18),zi[17]=!0,zi[18]=!0);var a=Xi();if(n)for(var l=0;l<n.length;l++)n[l].scope===a&&("keydown"===e.type&&n[l].keydown||"keyup"===e.type&&n[l].keyup)&&Zi(e,n[l],a,t);if(r in Hi)for(var s=0;s<Hi[r].length;s++)if(("keydown"===e.type&&Hi[r][s].keydown||"keyup"===e.type&&Hi[r][s].keyup)&&Hi[r][s].key){for(var u=Hi[r][s],c=u.splitKey,d=u.key.split(c),f=[],p=0;p<d.length;p++)f.push(Wi(d[p]));f.sort().join("")===Ni.sort().join("")&&Zi(e,u,a,t)}}}function qi(e,t,n){Ni=[];var r=Li(e),i=[],o="all",a=document,l=0,s=!1,u=!0,c="+",d=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(u=t.keydown),void 0!==t.capture&&(d=t.capture),"string"===typeof t.splitKey&&(c=t.splitKey)),"string"===typeof t&&(o=t);l<r.length;l++)i=[],(e=r[l].split(c)).length>1&&(i=Ri(Ai,e)),(e="*"===(e=e[e.length-1])?"*":Wi(e))in Hi||(Hi[e]=[]),Hi[e].push({keyup:s,keydown:u,scope:o,mods:i,shortcut:r[l],method:n,key:r[l],splitKey:c,element:a});"undefined"!==typeof a&&!function(e){return Vi.indexOf(e)>-1}(a)&&window&&(Vi.push(a),Oi(a,"keydown",(function(e){Gi(e,a)}),d),Ui||(Ui=!0,Oi(window,"focus",(function(){Ni=[]}),d)),Oi(a,"keyup",(function(e){Gi(e,a),function(e){var t=e.keyCode||e.which||e.charCode,n=Ni.indexOf(t);if(n>=0&&Ni.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&Ni.splice(0,Ni.length),93!==t&&224!==t||(t=91),t in zi)for(var r in zi[t]=!1,Ai)Ai[r]===t&&(qi[r]=!1)}(e)}),d))}var Qi={setScope:Yi,getScope:Xi,deleteScope:function(e,t){var n,r;for(var i in e||(e=Xi()),Hi)if(Object.prototype.hasOwnProperty.call(Hi,i))for(n=Hi[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Xi()===e&&Yi(t||"all")},getPressedKeyCodes:function(){return Ni.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=Wi(e)),-1!==Ni.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(r=!1),r},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(Hi).forEach((function(n){var r=Hi[n].find((function(n){return n.scope===t&&n.shortcut===e}));r&&r.method&&r.method()}))},unbind:function(e){if("undefined"===typeof e)Object.keys(Hi).forEach((function(e){return delete Hi[e]}));else if(Array.isArray(e))e.forEach((function(e){e.key&&$i(e)}));else if("object"===typeof e)e.key&&$i(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];"function"===typeof i&&(o=i,i=""),$i({key:e,scope:i,method:o,splitKey:"+"})}},keyMap:Bi,modifier:Ai,modifierMap:ji};for(var Ji in Qi)Object.prototype.hasOwnProperty.call(Qi,Ji)&&(qi[Ji]=Qi[Ji]);if("undefined"!==typeof window){var eo=window.hotkeys;qi.noConflict=function(e){return e&&window.hotkeys===qi&&(window.hotkeys=eo),qi},window.hotkeys=qi}qi.filter=function(){return!0};var to=function(e,t){var n=e.target,r=n&&n.tagName;return Boolean(r&&t&&t.includes(r))},no=function(e){return to(e,["INPUT","TEXTAREA","SELECT"])};function ro(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},o=i.enableOnTags,a=i.filter,l=i.keyup,s=i.keydown,u=i.filterPreventDefault,c=void 0===u||u,d=i.enabled,f=void 0===d||d,p=i.enableOnContentEditable,h=void 0!==p&&p,v=(0,E.useRef)(null),g=(0,E.useCallback)((function(e,n){var r,i;return a&&!a(e)?!c:!!(no(e)&&!to(e,o)||null!=(r=e.target)&&r.isContentEditable&&!h)||!!(null===v.current||document.activeElement===v.current||null!=(i=v.current)&&i.contains(document.activeElement))&&(t(e,n),!0)}),r?[v,o,a].concat(r):[v,o,a]);return(0,E.useEffect)((function(){if(f)return l&&!0!==s&&(n.keydown=!1),qi(e,n||{},g),function(){return qi.unbind(e,g)};qi.unbind(e,g)}),[g,e,f]),v}qi.isPressed;var io=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?E.useLayoutEffect:function(){},oo=x["useId".toString()]||function(){},ao=0;function lo(e){var t=m(E.useState(oo()),2),n=t[0],r=t[1];return io((function(){e||r((function(e){return null!=e?e:String(ao++)}))}),[e]),e||(n?"radix-".concat(n):"")}var so=0;function uo(){E.useEffect((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:co()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:co()),so++,function(){1===so&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),so--}}),[])}function co(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}function fo(e){var t=E.useRef(e);return E.useEffect((function(){t.current=e})),E.useMemo((function(){return function(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(i))}}),[])}function po(e){var t=e.prop,n=e.defaultProp,r=e.onChange,i=void 0===r?function(){}:r,o=function(e){var t=e.defaultProp,n=e.onChange,r=E.useState(t),i=m(r,1)[0],o=E.useRef(i),a=fo(n);return E.useEffect((function(){o.current!==i&&(a(i),o.current=i)}),[i,o,a]),r}({defaultProp:n,onChange:i}),a=m(o,2),l=a[0],s=a[1],u=void 0!==t,c=u?t:l,d=fo(i);return[c,E.useCallback((function(e){if(u){var n="function"==typeof e?e(t):e;n!==t&&d(n)}else s(e)}),[u,t,s,d])]}function ho(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)}))}}function vo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useCallback(ho.apply(void 0,t),t)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(this,arguments)}var mo=["children"],yo=["children"],bo=E.forwardRef((function(e,t){var n=e.children,r=l(e,mo);return E.Children.toArray(n).some(So)?E.createElement(E.Fragment,null,E.Children.map(n,(function(e){return So(e)?E.createElement(wo,go({},r,{ref:t}),e.props.children):e}))):E.createElement(wo,go({},r,{ref:t}),n)}));bo.displayName="Slot";var wo=E.forwardRef((function(e,t){var n=e.children,r=l(e,yo);return E.isValidElement(n)?E.cloneElement(n,a(a({},function(e,t){var n=a({},t),r=function(){var r=e[i],o=t[i];/^on[A-Z]/.test(i)?n[i]=function(){null==o||o.apply(void 0,arguments),null==r||r.apply(void 0,arguments)}:"style"===i?n[i]=a(a({},r),o):"className"===i&&(n[i]=[r,o].filter(Boolean).join(" "))};for(var i in t)r();return a(a({},e),n)}(r,n.props)),{},{ref:ho(t,n.ref)})):E.Children.count(n)>1?E.Children.only(null):null}));wo.displayName="SlotClone";var ko=function(e){var t=e.children;return E.createElement(E.Fragment,null,t)};function So(e){return E.isValidElement(e)&&e.type===ko}var Co=["asChild"],Eo=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){return a(a({},e),{},i({},t,E.forwardRef((function(e,n){var r=e.asChild,i=l(e,Co),o=r?bo:t;return E.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),E.createElement(o,go({},i,{ref:n}))}))))}),{}),xo=["children"],Io=["scope","children"];function Po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=function(){var t=n.map((function(e){return E.createContext(e)}));return function(n){var r=(null==n?void 0:n[e])||t;return E.useMemo((function(){return i({},"__scope".concat(e),a(a({},n),{},i({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var i=E.createContext(r),o=n.length;function a(t){var n=t.scope,r=t.children,a=l(t,Io),s=(null==n?void 0:n[e][o])||i,u=E.useMemo((function(){return a}),Object.values(a));return E.createElement(s.Provider,{value:u},r)}return n=[].concat(S(n),[r]),a.displayName=t+"Provider",[a,function(n,a){var l=(null==a?void 0:a[e][o])||i,s=E.useContext(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},_o.apply(void 0,[r].concat(S(t)))]}function _o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var o=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,i=n.scopeName;return a(a({},e),r(t)["__scope".concat(i)])}),{});return E.useMemo((function(){return i({},"__scope".concat(r.scopeName),n)}),[n])}};return o.scopeName=r.scopeName,o}var Mo=["scope","children"];function Do(e){var t=e+"CollectionProvider",n=m(Po(t),2),r=n[0],o=n[1],s=m(r(t,{collectionRef:{current:null},itemMap:new Map}),2),u=s[0],c=s[1],d=e+"CollectionSlot",f=E.forwardRef((function(e,t){var n=e.scope,r=e.children,i=vo(t,c(d,n).collectionRef);return E.createElement(bo,{ref:i},r)})),p=e+"CollectionItemSlot",h="data-radix-collection-item",v=E.forwardRef((function(e,t){var n,r=e.scope,o=e.children,s=l(e,Mo),u=E.useRef(null),d=vo(t,u),f=c(p,r);return E.useEffect((function(){return f.itemMap.set(u,a({ref:u},s)),function(){f.itemMap.delete(u)}})),E.createElement(bo,(i(n={},h,""),i(n,"ref",d),n),o)}));return[{Provider:function(e){var t=e.scope,n=e.children,r=E.useRef(null),i=E.useRef(new Map).current;return E.createElement(u,{scope:t,itemMap:i,collectionRef:r},n)},Slot:f,ItemSlot:v},function(t){var n=c(e+"CollectionConsumer",t);return E.useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},o]}function To(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}var Oo=["__scopeRovingFocusGroup","orientation","dir","loop","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],Ro=["__scopeRovingFocusGroup","focusable","active"],Lo={bubbles:!1,cancelable:!0},Bo=m(Do("RovingFocusGroup"),3),Ao=Bo[0],jo=Bo[1],zo=m(Po("RovingFocusGroup",[Bo[2]]),2),Ho=zo[0],Fo=zo[1],No=m(Ho("RovingFocusGroup"),2),Uo=No[0],Ko=No[1],Vo=E.forwardRef((function(e,t){return E.createElement(Ao.Provider,{scope:e.__scopeRovingFocusGroup},E.createElement(Ao.Slot,{scope:e.__scopeRovingFocusGroup},E.createElement(Wo,go({},e,{ref:t}))))})),Wo=E.forwardRef((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.orientation,i=e.dir,o=void 0===i?"ltr":i,s=e.loop,u=void 0!==s&&s,c=e.currentTabStopId,d=e.defaultCurrentTabStopId,f=e.onCurrentTabStopIdChange,p=e.onEntryFocus,h=l(e,Oo),v=E.useRef(null),g=vo(t,v),y=m(po({prop:c,defaultProp:d,onChange:f}),2),b=y[0],w=void 0===b?null:b,k=y[1],C=m(E.useState(!1),2),x=C[0],I=C[1],P=fo(p),_=jo(n),M=E.useRef(!1);return E.useEffect((function(){var e=v.current;if(e)return e.addEventListener("rovingFocusGroup.onEntryFocus",P),function(){return e.removeEventListener("rovingFocusGroup.onEntryFocus",P)}}),[P]),E.createElement(Uo,{scope:n,orientation:r,dir:o,loop:u,currentTabStopId:w,onItemFocus:E.useCallback((function(e){return k(e)}),[k]),onItemShiftTab:E.useCallback((function(){return I(!0)}),[])},E.createElement(Eo.div,go({tabIndex:x?-1:0,"data-orientation":r},h,{ref:g,style:a({outline:"none"},e.style),onMouseDown:To(e.onMouseDown,(function(){M.current=!0})),onFocus:To(e.onFocus,(function(e){var t=!M.current;if(e.target===e.currentTarget&&t&&!x){var n=new Event("rovingFocusGroup.onEntryFocus",Lo);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=_().filter((function(e){return e.focusable}));$o([r.find((function(e){return e.active})),r.find((function(e){return e.id===w}))].concat(S(r)).filter(Boolean).map((function(e){return e.ref.current})))}}M.current=!1})),onBlur:To(e.onBlur,(function(){return I(!1)}))})))})),Yo=E.forwardRef((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.focusable,i=void 0===r||r,o=e.active,a=void 0!==o&&o,s=l(e,Ro),u=lo(),c=Ko("RovingFocusGroupItem",n),d=c.currentTabStopId===u,f=jo(n);return E.createElement(Ao.ItemSlot,{scope:n,id:u,focusable:i,active:a},E.createElement(Eo.span,go({tabIndex:d?0:-1,"data-orientation":c.orientation},s,{ref:t,onMouseDown:To(e.onMouseDown,(function(e){i?c.onItemFocus(u):e.preventDefault()})),onFocus:To(e.onFocus,(function(){return c.onItemFocus(u)})),onKeyDown:To(e.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)c.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Xo[r]}(e,c.orientation,c.dir);if(void 0!==r){e.preventDefault();var i=f().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)i.reverse();else if("prev"===r||"next"===r){"prev"===r&&i.reverse();var o=i.indexOf(e.currentTarget);i=c.loop?(n=o+1,(t=i).map((function(e,r){return t[(n+r)%t.length]}))):i.slice(o+1)}setTimeout((function(){return $o(i)}))}}}))})))})),Xo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $o(e){var t,n=document.activeElement,r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(o){r.e(o)}finally{r.f()}}var Zo,Go=Vo,qo=Yo,Qo=["containerRef","style"],Jo=["container"],ea=E.forwardRef((function(t,n){var r,i,o=t.containerRef,s=t.style,u=l(t,Qo),c=null!==(r=null==o?void 0:o.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,d=m(E.useState({}),2)[1];return io((function(){d({})}),[]),c?e.createPortal(E.createElement(Eo.div,go({"data-radix-portal":""},u,{ref:n,style:c===document.body?a({position:"absolute",top:0,left:0,zIndex:2147483647},s):void 0})),c):null})),ta=E.forwardRef((function(t,n){var r,i=t.container,o=void 0===i?null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body:i,a=l(t,Jo);return o?e.createPortal(E.createElement(Eo.div,go({},a,{ref:n})),o):null})),na=["children","width","height"],ra=E.forwardRef((function(e,t){var n=e.children,r=e.width,i=void 0===r?10:r,o=e.height,a=void 0===o?5:o,s=l(e,na);return E.createElement(Eo.svg,go({},s,{ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:E.createElement("polygon",{points:"0,0 30,0 15,10"}))})),ia=ra;function oa(e){var t=m(E.useState(void 0),2),n=t[0],r=t[1];return E.useEffect((function(){if(e){var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,i,o=t[0];if("borderBoxSize"in o){var a=o.borderBoxSize,l=Array.isArray(a)?a[0]:a;n=l.inlineSize,i=l.blockSize}else{var s=e.getBoundingClientRect();n=s.width,i=s.height}r({width:n,height:i})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}r(void 0)}),[e]),n}var aa=new Map;function la(){var e=[];aa.forEach((function(t,n){var r,i,o=n.getBoundingClientRect();i=o,((r=t.rect).width!==i.width||r.height!==i.height||r.top!==i.top||r.right!==i.right||r.bottom!==i.bottom||r.left!==i.left)&&(t.rect=o,e.push(t))})),e.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),Zo=requestAnimationFrame(la)}function sa(e){var t=m(E.useState(),2),n=t[0],r=t[1];return E.useEffect((function(){if(e){var t=function(e,t){var n=aa.get(e);return void 0===n?(aa.set(e,{rect:{},callbacks:[t]}),1===aa.size&&(Zo=requestAnimationFrame(la))):(n.callbacks.push(t),t(e.getBoundingClientRect())),function(){var n=aa.get(e);if(void 0!==n){var r=n.callbacks.indexOf(t);r>-1&&n.callbacks.splice(r,1),0===n.callbacks.length&&(aa.delete(e),0===aa.size&&cancelAnimationFrame(Zo))}}}(e,r);return function(){r(void 0),t()}}}),[e]),n}function ua(e,t,n){var r=e["x"===n?"left":"top"],i="x"===n?"width":"height",o=e[i],a=t[i];return{before:r-a,start:r,center:r+(o-a)/2,end:r+o-a,after:r+o}}function ca(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:"translate3d(".concat(Math.round(e.x+window.scrollX),"px, ").concat(Math.round(e.y+window.scrollY),"px, 0)")}}function da(e,t,n,r,i){var o="top"===t||"bottom"===t,a=i?i.width:0,l=i?i.height:0,s=a/2+r,u="",c="";return o?(u={start:"".concat(s,"px"),center:"center",end:e.width-s+"px"}[n],c="top"===t?"".concat(e.height+l,"px"):-l+"px"):(u="left"===t?"".concat(e.width+l,"px"):-l+"px",c={start:"".concat(s,"px"),center:"center",end:e.height-s+"px"}[n]),"".concat(u," ").concat(c)}var fa={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},pa={position:"absolute",opacity:0};function ha(e){var t,n=e.popperSize,r=e.arrowSize,o=e.arrowOffset,a=e.side,l=e.align,s=(n.width-r.width)/2,u=(n.height-r.width)/2,c={top:0,right:90,bottom:180,left:-90}[a],d=Math.max(r.width,r.height),f=(i(t={width:"".concat(d,"px"),height:"".concat(d,"px"),transform:"rotate(".concat(c,"deg)"),willChange:"transform",position:"absolute"},a,"100%"),i(t,"direction",function(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}(a,l)),t);return"top"!==a&&"bottom"!==a||("start"===l&&(f.left="".concat(o,"px")),"center"===l&&(f.left="".concat(s,"px")),"end"===l&&(f.right="".concat(o,"px"))),"left"!==a&&"right"!==a||("start"===l&&(f.top="".concat(o,"px")),"center"===l&&(f.top="".concat(u,"px")),"end"===l&&(f.bottom="".concat(o,"px"))),f}function va(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function ga(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}var ma=["__scopePopper","virtualRef"],ya=["__scopePopper","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"],ba=["__scopePopper","offset"],wa=m(Po("Popper"),2),ka=wa[0],Sa=wa[1],Ca=m(ka("Popper"),2),Ea=Ca[0],xa=Ca[1],Ia=E.forwardRef((function(e,t){var n=e.__scopePopper,r=e.virtualRef,i=l(e,ma),o=xa("PopperAnchor",n),a=E.useRef(null),s=vo(t,a);return E.useEffect((function(){o.onAnchorChange((null==r?void 0:r.current)||a.current)})),r?null:E.createElement(Eo.div,go({},i,{ref:s}))})),Pa=m(ka("PopperContent"),2),_a=Pa[0],Ma=Pa[1],Da=E.forwardRef((function(e,t){var n=e.__scopePopper,r=e.side,i=void 0===r?"bottom":r,o=e.sideOffset,s=e.align,u=void 0===s?"center":s,c=e.alignOffset,d=e.collisionTolerance,f=e.avoidCollisions,p=void 0===f||f,h=l(e,ya),v=xa("PopperContent",n),g=m(E.useState(),2),y=g[0],b=g[1],w=sa(v.anchor),k=m(E.useState(null),2),S=k[0],C=k[1],x=oa(S),I=m(E.useState(null),2),P=I[0],_=I[1],M=oa(P),D=vo(t,(function(e){return C(e)})),T=function(){var e=m(E.useState(void 0),2),t=e[0],n=e[1];return E.useEffect((function(){var e;function t(){n({width:window.innerWidth,height:window.innerHeight})}function r(){window.clearTimeout(e),e=window.setTimeout(t,100)}return t(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]),t}(),O=function(e){var t=e.anchorRect,n=e.popperSize,r=e.arrowSize,i=e.arrowOffset,o=void 0===i?0:i,l=e.side,s=e.sideOffset,u=void 0===s?0:s,c=e.align,d=e.alignOffset,f=void 0===d?0:d,p=e.shouldAvoidCollisions,h=void 0===p||p,v=e.collisionBoundariesRect,g=e.collisionTolerance,m=void 0===g?0:g;if(!t||!n||!v)return{popperStyles:fa,arrowStyles:pa};var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=i?i.height:0,a=ua(t,e,"x"),l=ua(t,e,"y"),s=l.before-n-o,u=l.after+n+o,c=a.before-n-o,d=a.after+n+o;return{top:{start:{x:a.start+r,y:s},center:{x:a.center,y:s},end:{x:a.end-r,y:s}},right:{start:{x:d,y:l.start+r},center:{x:d,y:l.center},end:{x:d,y:l.end-r}},bottom:{start:{x:a.start+r,y:u},center:{x:a.center,y:u},end:{x:a.end-r,y:u}},left:{start:{x:c,y:l.start+r},center:{x:c,y:l.center},end:{x:c,y:l.end-r}}}}(n,t,u,f,r),b=y[l][c];if(!1===h){var w=ca(b),k=pa;return r&&(k=ha({popperSize:n,arrowSize:r,arrowOffset:o,side:l,align:c})),{popperStyles:a(a({},w),{},{"--radix-popper-transform-origin":da(n,l,c,o,r)}),arrowStyles:k,placedSide:l,placedAlign:c}}var S,C,E=DOMRect.fromRect(a(a({},n),b)),x=(S=v,C=m,DOMRect.fromRect({width:S.width-2*C,height:S.height-2*C,x:S.left+C,y:S.top+C})),I=ga(E,x),P=y[va(l)][c],_=function(e,t,n){var r=va(e);return t[e]&&!n[r]?r:e}(l,I,ga(DOMRect.fromRect(a(a({},n),P)),x)),M=function(e,t,n,r,i){var o="top"===n||"bottom"===n,a=o?"left":"top",l=o?"right":"bottom",s=o?"width":"height",u=t[s]>e[s];return"start"!==r&&"center"!==r||!(i[a]&&u||i[l]&&!u)?"end"!==r&&"center"!==r||!(i[l]&&u||i[a]&&!u)?r:"start":"end"}(n,t,l,c,I),D=ca(y[_][M]),T=pa;return r&&(T=ha({popperSize:n,arrowSize:r,arrowOffset:o,side:_,align:M})),{popperStyles:a(a({},D),{},{"--radix-popper-transform-origin":da(n,_,M,o,r)}),arrowStyles:T,placedSide:_,placedAlign:M}}({anchorRect:w,popperSize:x,arrowSize:M,arrowOffset:y,side:i,sideOffset:o,align:u,alignOffset:c,shouldAvoidCollisions:p,collisionBoundariesRect:T?DOMRect.fromRect(a(a({},T),{},{x:0,y:0})):void 0,collisionTolerance:d}),R=O.popperStyles,L=O.arrowStyles,B=O.placedSide,A=O.placedAlign,j=void 0!==B;return E.createElement("div",{style:R,"data-radix-popper-content-wrapper":""},E.createElement(_a,{scope:n,arrowStyles:L,onArrowChange:_,onArrowOffsetChange:b},E.createElement(Eo.div,go({"data-side":B,"data-align":A},h,{style:a(a({},h.style),{},{animation:j?void 0:"none"}),ref:D}))))})),Ta=E.forwardRef((function(e,t){var n=e.__scopePopper,r=e.offset,i=l(e,ba),o=Ma("PopperArrow",n),s=o.onArrowOffsetChange;return E.useEffect((function(){return s(r)}),[s,r]),E.createElement("span",{style:a(a({},o.arrowStyles),{},{pointerEvents:"none"})},E.createElement("span",{ref:o.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},E.createElement(ia,go({},i,{ref:t,style:a(a({},i.style),{},{display:"block"})}))))})),Oa=function(e){var t=e.__scopePopper,n=e.children,r=m(E.useState(null),2),i=r[0],o=r[1];return E.createElement(Ea,{scope:t,anchor:i,onAnchorChange:o},n)},Ra=Ia,La=Da,Ba=Ta,Aa=function(e){var t=e.present,n=e.children,r=function(e){var t=m(E.useState(),2),n=t[0],r=t[1],i=E.useRef({}),o=E.useRef(e),a=E.useRef("none"),l=function(e,t){return E.useReducer((function(e,n){var r=t[e][n];return null!=r?r:e}),e)}(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),s=m(l,2),u=s[0],c=s[1];return E.useEffect((function(){var e=ja(i.current);a.current="mounted"===u?e:"none"}),[u]),io((function(){var t=i.current,n=o.current;if(n!==e){var r=a.current,l=ja(t);if(e)c("MOUNT");else if("none"===l||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==l?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,c]),io((function(){if(n){var e=function(e){var t=ja(i.current).includes(e.animationName);e.target===n&&t&&c("ANIMATION_END")},t=function(e){e.target===n&&(a.current=ja(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),function(){n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback((function(e){e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof n?n({present:r.isPresent}):E.Children.only(n),o=vo(r.ref,i.ref);return"function"==typeof n||r.isPresent?E.cloneElement(i,{ref:o}):null};function ja(e){return(null==e?void 0:e.animationName)||"none"}Aa.displayName="Presence";var za=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Ha={bubbles:!1,cancelable:!0},Fa=E.forwardRef((function(e,t){var n=e.loop,r=void 0!==n&&n,i=e.trapped,o=void 0!==i&&i,a=e.onMountAutoFocus,s=e.onUnmountAutoFocus,u=l(e,za),c=m(E.useState(null),2),d=c[0],f=c[1],p=fo(a),h=fo(s),v=E.useRef(null),g=vo(t,(function(e){return f(e)})),y=E.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;E.useEffect((function(){if(o){var e=function(e){if(!y.paused&&d){var t=e.target;d.contains(t)?v.current=t:Va(v.current,{select:!0})}},t=function(e){!y.paused&&d&&(d.contains(e.relatedTarget)||Va(v.current,{select:!0}))};return document.addEventListener("focusin",e),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[o,d,y.paused]),E.useEffect((function(){if(d){Wa.add(y);var e=document.activeElement;if(!d.contains(e)){var t=new Event("focusScope.autoFocusOnMount",Ha);d.addEventListener("focusScope.autoFocusOnMount",p),d.dispatchEvent(t),t.defaultPrevented||(function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,r=void 0!==n&&n,i=document.activeElement,o=C(e);try{for(o.s();!(t=o.n()).done;){if(Va(t.value,{select:r}),document.activeElement!==i)return}}catch(a){o.e(a)}finally{o.f()}}(Na(d).filter((function(e){return"A"!==e.tagName})),{select:!0}),document.activeElement===e&&Va(d))}return function(){d.removeEventListener("focusScope.autoFocusOnMount",p),setTimeout((function(){var t=new Event("focusScope.autoFocusOnUnmount",Ha);d.addEventListener("focusScope.autoFocusOnUnmount",h),d.dispatchEvent(t),t.defaultPrevented||Va(null!=e?e:document.body,{select:!0}),d.removeEventListener("focusScope.autoFocusOnUnmount",h),Wa.remove(y)}),0)}}}),[d,p,h,y]);var b=E.useCallback((function(e){if((r||o)&&!y.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var i=e.currentTarget,a=function(e){var t=Na(e);return[Ua(t,e),Ua(t.reverse(),e)]}(i),l=m(a,2),s=l[0],u=l[1];s&&u?e.shiftKey||n!==u?e.shiftKey&&n===s&&(e.preventDefault(),r&&Va(u,{select:!0})):(e.preventDefault(),r&&Va(s,{select:!0})):n===i&&e.preventDefault()}}}),[r,o,y.paused]);return E.createElement(Eo.div,go({tabIndex:-1},u,{ref:g,onKeyDown:b}))}));function Na(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function Ua(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!Ka(i,{upTo:t}))return i}}catch(o){r.e(o)}finally{r.f()}}function Ka(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Va(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,n=void 0!==t&&t;if(e&&e.focus){var r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&n&&e.select()}}var Wa=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null==n||n.pause()),(e=Ya(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=Ya(e,t))[0])||void 0===n||n.resume()}}}();function Ya(e,t){var n=S(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}function Xa(e){var t=fo(e);E.useEffect((function(){var e=function(e){"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t])}var $a,Za=0;var Ga=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],qa=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qa=E.forwardRef((function(e,t){var n=e.disableOutsidePointerEvents,r=void 0!==n&&n,i=e.onEscapeKeyDown,o=e.onPointerDownOutside,s=e.onFocusOutside,u=e.onInteractOutside,c=e.onDismiss,d=l(e,Ga),f=E.useContext(qa),p=m(E.useState(null),2),h=p[0],v=p[1],g=m(E.useState({}),2)[1],y=vo(t,(function(e){return v(e)})),b=Array.from(f.layers),w=m(S(f.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],k=b.indexOf(w),C=h?b.indexOf(h):-1,x=f.layersWithOutsidePointerEventsDisabled.size>0,I=C>=k,P=function(e){var t=fo((function(e){var t=e.target,n=S(f.branches).some((function(e){return e.contains(t)}));I&&!n&&(null==o||o(e),null==u||u(e),e.defaultPrevented||null==c||c())})),n=E.useRef(!1);return E.useEffect((function(){var e=function(e){e.target&&!n.current&&el("dismissableLayer.pointerDownOutside",t,{originalEvent:e}),n.current=!1},r=window.setTimeout((function(){document.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(r),document.removeEventListener("pointerdown",e)}}),[t]),{onPointerDownCapture:function(){return n.current=!0}}}(),_=function(e){var t=fo((function(e){var t=e.target;S(f.branches).some((function(e){return e.contains(t)}))||(null==s||s(e),null==u||u(e),e.defaultPrevented||null==c||c())})),n=E.useRef(!1);return E.useEffect((function(){var e=function(e){e.target&&!n.current&&el("dismissableLayer.focusOutside",t,{originalEvent:e})};return document.addEventListener("focusin",e),function(){return document.removeEventListener("focusin",e)}}),[t]),{onFocusCapture:function(){return n.current=!0},onBlurCapture:function(){return n.current=!1}}}();return Xa((function(e){C===f.layers.size-1&&(null==i||i(e),e.defaultPrevented||null==c||c())})),function(e){var t=e.disabled,n=E.useRef(!1);io((function(){if(t){var e=function(){0===--Za&&(document.body.style.pointerEvents=$a)},r=function(e){n.current="mouse"!==e.pointerType};return 0===Za&&($a=document.body.style.pointerEvents),document.body.style.pointerEvents="none",Za++,document.addEventListener("pointerup",r),function(){n.current?document.addEventListener("click",e,{once:!0}):e(),document.removeEventListener("pointerup",r)}}}),[t])}({disabled:r}),E.useEffect((function(){h&&(r&&f.layersWithOutsidePointerEventsDisabled.add(h),f.layers.add(h),Ja())}),[h,r,f]),E.useEffect((function(){return function(){h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),Ja())}}),[h,f]),E.useEffect((function(){var e=function(){return g({})};return document.addEventListener("dismissableLayer.update",e),function(){return document.removeEventListener("dismissableLayer.update",e)}}),[]),E.createElement(Eo.div,go({},d,{ref:y,style:a({pointerEvents:x?I?"auto":"none":void 0},e.style),onFocusCapture:To(e.onFocusCapture,_.onFocusCapture),onBlurCapture:To(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:To(e.onPointerDownCapture,P.onPointerDownCapture)}))}));function Ja(){var e=new Event("dismissableLayer.update");document.dispatchEvent(e)}function el(e,t,n){var r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});return t&&r.addEventListener(e,t,{once:!0}),!r.dispatchEvent(i)}var tl=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},nl=new WeakMap,rl=new WeakMap,il={},ol=0,al=function e(t){return t&&(t.host||e(t.parentNode))},ll=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=al(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);il[n]||(il[n]=new WeakMap);var o=il[n],a=[],l=new Set,s=new Set(i);i.forEach((function e(t){t&&!l.has(t)&&(l.add(t),e(t.parentNode))}));return function e(t){t&&!s.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(l.has(t))e(t);else{var i=t.getAttribute(r),s=null!==i&&"false"!==i,u=(nl.get(t)||0)+1,c=(o.get(t)||0)+1;nl.set(t,u),o.set(t,c),a.push(t),1===u&&s&&rl.set(t,!0),1===c&&t.setAttribute(n,"true"),s||t.setAttribute(r,"true")}}))}(t),l.clear(),ol++,function(){a.forEach((function(e){var t=nl.get(e)-1,i=o.get(e)-1;nl.set(e,t),o.set(e,i),t||(rl.has(e)||e.removeAttribute(r),rl.delete(e)),i||e.removeAttribute(n)})),--ol||(nl=new WeakMap,nl=new WeakMap,rl=new WeakMap,il={})}},sl=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||tl(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ll(r,i,n,"aria-hidden")):function(){return null}};var ul=function(){return ul=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ul.apply(this,arguments)};function cl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function dl(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var fl="right-scroll-bar-position",pl="width-before-scroll-bar";function hl(e,t){return function(e,t){var n=(0,E.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}function vl(e){return e}function gl(e,t){void 0===t&&(t=vl);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}var ml=function(e){void 0===e&&(e={});var t=gl(null);return t.options=ul({async:!0,ssr:!1},e),t}(),yl=function(){},bl=E.forwardRef((function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:yl,onWheelCapture:yl,onTouchMoveCapture:yl}),i=r[0],o=r[1],a=e.forwardProps,l=e.children,s=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,v=e.allowPinchZoom,g=e.as,m=void 0===g?"div":g,y=e.gapMode,b=cl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,k=hl([n,t]),S=ul(ul({},b),i);return E.createElement(E.Fragment,null,c&&E.createElement(w,{sideCar:ml,removeScrollBar:u,shards:d,noIsolation:p,inert:h,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:y}),a?E.cloneElement(E.Children.only(l),ul(ul({},S),{ref:k})):E.createElement(m,ul({},S,{className:s,ref:k}),l))}));bl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},bl.classNames={fullWidth:pl,zeroRight:fl};var wl,kl=function(e){var t=e.sideCar,n=cl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ul({},n))};kl.isSideCarExport=!0;function Sl(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wl||n.nc;return t&&e.setAttribute("nonce",t),e}var Cl=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Sl())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},El=function(){var e=function(){var e=Cl();return function(t,n){E.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},xl={left:0,top:0,right:0,gap:0},Il=function(e){return parseInt(e||"",10)||0},Pl=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return xl;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Il(n),Il(r),Il(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_l=El(),Ml=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(fl," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(pl," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(fl," .").concat(fl," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(pl," .").concat(pl," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},Dl=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r,o=E.useMemo((function(){return Pl(i)}),[i]);return E.createElement(_l,{styles:Ml(o,!t,i,n?"":"!important")})},Tl=!1;if("undefined"!==typeof window)try{var Ol=Object.defineProperty({},"passive",{get:function(){return Tl=!0,!0}});window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch(JI){Tl=!1}var Rl=!!Tl&&{passive:!1},Ll=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Bl=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Al(e,r)){var i=jl(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Al=function(e,t){return"v"===e?function(e){return Ll(e,"overflowY")}(t):function(e){return Ll(e,"overflowX")}(t)},jl=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},zl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hl=function(e){return[e.deltaX,e.deltaY]},Fl=function(e){return e&&"current"in e?e.current:e},Nl=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Ul=0,Kl=[];var Vl,Wl=(Vl=function(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(Ul++)[0],o=E.useState(El)[0],a=E.useRef(e);E.useEffect((function(){a.current=e}),[e]),E.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=dl([e.lockRef.current],(e.shards||[]).map(Fl),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=E.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!a.current.allowPinchZoom;var i,o=zl(e),l=n.current,s="deltaX"in e?e.deltaX:l[0]-o[0],u="deltaY"in e?e.deltaY:l[1]-o[1],c=e.target,d=Math.abs(s)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=Bl(d,c);if(!f)return!0;if(f?i=d:(i="v"===d?"h":"v",f=Bl(d,c)),!f)return!1;if(!r.current&&"changedTouches"in e&&(s||u)&&(r.current=i),!i)return!0;var p=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,s=t.contains(l),u=!1,c=a>0,d=0,f=0;do{var p=jl(e,l),h=p[0],v=p[1]-p[2]-o*h;(h||v)&&Al(e,l)&&(d+=v,f+=h),l=l.parentNode}while(!s&&l!==document.body||s&&(t.contains(l)||t===l));return(c&&(i&&0===d||!i&&a>d)||!c&&(i&&0===f||!i&&-a>f))&&(u=!0),u}(p,t,e,"h"===p?s:u,!0)}),[]),s=E.useCallback((function(e){var n=e;if(Kl.length&&Kl[Kl.length-1]===o){var r="deltaY"in n?Hl(n):zl(n),i=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var s=(a.current.shards||[]).map(Fl).filter(Boolean).filter((function(e){return e.contains(n.target)}));(s.length>0?l(n,s[0]):!a.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=E.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),c=E.useCallback((function(e){n.current=zl(e),r.current=void 0}),[]),d=E.useCallback((function(t){u(t.type,Hl(t),t.target,l(t,e.lockRef.current))}),[]),f=E.useCallback((function(t){u(t.type,zl(t),t.target,l(t,e.lockRef.current))}),[]);E.useEffect((function(){return Kl.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",s,Rl),document.addEventListener("touchmove",s,Rl),document.addEventListener("touchstart",c,Rl),function(){Kl=Kl.filter((function(e){return e!==o})),document.removeEventListener("wheel",s,Rl),document.removeEventListener("touchmove",s,Rl),document.removeEventListener("touchstart",c,Rl)}}),[]);var p=e.removeScrollBar,h=e.inert;return E.createElement(E.Fragment,null,h?E.createElement(o,{styles:Nl(i)}):null,p?E.createElement(Dl,{gapMode:e.gapMode}):null)},ml.useMedium(Vl),kl),Yl=E.forwardRef((function(e,t){return E.createElement(bl,ul({},e,{ref:t,sideCar:Wl}))}));Yl.classNames=bl.classNames;var Xl=Yl,$l=["__scopeMenu"],Zl=["forceMount"],Gl=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","allowPinchZoom","portalled"],ql=["__scopeMenu"],Ql=["disabled","onSelect"],Jl=["__scopeMenu","disabled","textValue"],es=["checked","onCheckedChange"],ts=["value","onValueChange"],ns=["value"],rs=["__scopeMenu","forceMount"],is=["__scopeMenu"],os=["__scopeMenu"],as=["Enter"," "],ls=["ArrowUp","PageDown","End"],ss=["ArrowDown","PageUp","Home"].concat(ls),us={ltr:[].concat(as,["ArrowRight"]),rtl:[].concat(as,["ArrowLeft"])},cs={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ds=m(Do("Menu"),3),fs=ds[0],ps=ds[1],hs=m(Po("Menu",[ds[2],Sa,Fo]),2),vs=hs[0],gs=hs[1],ms=Sa(),ys=Fo(),bs=m(vs("Menu"),2),ws=bs[0],ks=bs[1],Ss=E.forwardRef((function(e,t){var n=e.__scopeMenu,r=l(e,$l),i=ms(n);return E.createElement(Ra,go({},i,r,{ref:t}))})),Cs=m(vs("MenuContent"),2),Es=Cs[0],xs=Cs[1],Is=E.forwardRef((function(e,t){var n=e.forceMount,r=l(e,Zl),i=ks("MenuContent",e.__scopeMenu);return E.createElement(fs.Provider,{scope:e.__scopeMenu},E.createElement(Aa,{present:n||i.open},E.createElement(fs.Slot,{scope:e.__scopeMenu},i.isSubmenu?E.createElement(Ds,go({},r,{ref:t})):E.createElement(Ps,go({},r,{ref:t})))))})),Ps=E.forwardRef((function(e,t){return ks("MenuContent",e.__scopeMenu).modal?E.createElement(_s,go({},e,{ref:t})):E.createElement(Ms,go({},e,{ref:t}))})),_s=E.forwardRef((function(e,t){var n=ks("MenuContent",e.__scopeMenu),r=E.useRef(null),i=vo(t,r);return E.useEffect((function(){var e=r.current;if(e)return sl(e)}),[]),E.createElement(Ts,go({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:To(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1}),onDismiss:function(){return n.onOpenChange(!1)}}))})),Ms=E.forwardRef((function(e,t){var n=ks("MenuContent",e.__scopeMenu);return E.createElement(Ts,go({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:function(){return n.onOpenChange(!1)}}))})),Ds=E.forwardRef((function(e,t){var n=ks("MenuContent",e.__scopeMenu),r=E.useRef(null),i=vo(t,r);return n.isSubmenu?E.createElement(Ts,go({id:n.contentId,"aria-labelledby":n.triggerId},e,{ref:i,align:"start",side:"rtl"===n.dir?"left":"right",portalled:!0,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:function(e){var t;n.isUsingKeyboardRef.current&&(null===(t=r.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:function(e){return e.preventDefault()},onFocusOutside:To(e.onFocusOutside,(function(e){e.target!==n.trigger&&n.onOpenChange(!1)})),onEscapeKeyDown:To(e.onEscapeKeyDown,n.onRootClose),onKeyDown:To(e.onKeyDown,(function(e){var t,r=e.currentTarget.contains(e.target),i=cs[n.dir].includes(e.key);r&&i&&(n.onOpenChange(!1),null===(t=n.trigger)||void 0===t||t.focus(),e.preventDefault())}))})):null})),Ts=E.forwardRef((function(e,t){var n=e.__scopeMenu,r=e.loop,i=void 0!==r&&r,o=e.trapFocus,s=e.onOpenAutoFocus,u=e.onCloseAutoFocus,c=e.disableOutsidePointerEvents,d=e.onEscapeKeyDown,f=e.onPointerDownOutside,p=e.onFocusOutside,h=e.onInteractOutside,v=e.onDismiss,g=e.disableOutsideScroll,y=e.allowPinchZoom,b=e.portalled,w=l(e,Gl),k=ks("MenuContent",n),S=ms(n),x=ys(n),I=ps(n),P=m(E.useState(null),2),_=P[0],M=P[1],D=E.useRef(null),T=vo(t,D,k.onContentChange),O=E.useRef(0),R=E.useRef(""),L=E.useRef(0),B=E.useRef(null),A=E.useRef("right"),j=E.useRef(0),z=b?ea:E.Fragment,H=g?Xl:E.Fragment,F=g?{allowPinchZoom:y}:void 0;E.useEffect((function(){return function(){return window.clearTimeout(O.current)}}),[]),uo();var N=E.useCallback((function(e){var t,n;return A.current===(null===(t=B.current)||void 0===t?void 0:t.side)&&function(e,t){return!!t&&function(e,t){for(var n=e.x,r=e.y,i=!1,o=0,a=t.length-1;o<t.length;a=o++){var l=t[o].x,s=t[o].y,u=t[a].x,c=t[a].y;s>r!=c>r&&n<(u-l)*(r-s)/(c-s)+l&&(i=!i)}return i}({x:e.clientX,y:e.clientY},t)}(e,null===(n=B.current)||void 0===n?void 0:n.area)}),[]);return E.createElement(z,null,E.createElement(H,F,E.createElement(Es,{scope:n,searchRef:R,onItemEnter:E.useCallback((function(e){N(e)&&e.preventDefault()}),[N]),onItemLeave:E.useCallback((function(e){var t;N(e)||(null===(t=D.current)||void 0===t||t.focus(),M(null))}),[N]),onTriggerLeave:E.useCallback((function(e){N(e)&&e.preventDefault()}),[N]),pointerGraceTimerRef:L,onPointerGraceIntentChange:E.useCallback((function(e){B.current=e}),[])},E.createElement(Fa,{asChild:!0,trapped:o,onMountAutoFocus:To(s,(function(e){var t;e.preventDefault(),null===(t=D.current)||void 0===t||t.focus()})),onUnmountAutoFocus:u},E.createElement(Qa,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:h,onDismiss:v},E.createElement(Go,go({asChild:!0},x,{dir:k.dir,orientation:"vertical",loop:i,currentTabStopId:_,onCurrentTabStopIdChange:M,onEntryFocus:function(e){k.isUsingKeyboardRef.current||e.preventDefault()}}),E.createElement(La,go({role:"menu","aria-orientation":"vertical","data-state":Ws(k.open),dir:k.dir},S,w,{ref:T,style:a({outline:"none"},w.style),onKeyDown:To(w.onKeyDown,(function(e){var t=e.target,n=e.currentTarget.contains(t),r=e.ctrlKey||e.altKey||e.metaKey,i=1===e.key.length;n&&("Tab"===e.key&&e.preventDefault(),!r&&i&&function(e){var t,n,r=R.current+e,i=I().filter((function(e){return!e.disabled})),o=document.activeElement,a=null===(t=i.find((function(e){return e.ref.current===o})))||void 0===t?void 0:t.textValue,l=function(e,t,n){var r,i,o=t.length>1&&Array.from(t).every((function(e){return e===t[0]}))?t[0]:t,a=n?e.indexOf(n):-1,l=(r=e,i=Math.max(a,0),r.map((function(e,t){return r[(i+t)%r.length]})));1===o.length&&(l=l.filter((function(e){return e!==n})));var s=l.find((function(e){return e.toLowerCase().startsWith(o.toLowerCase())}));return s!==n?s:void 0}(i.map((function(e){return e.textValue})),r,a),s=null===(n=i.find((function(e){return e.textValue===l})))||void 0===n?void 0:n.ref.current;!function e(t){R.current=t,window.clearTimeout(O.current),""!==t&&(O.current=window.setTimeout((function(){return e("")}),1e3))}(r),s&&setTimeout((function(){return s.focus()}))}(e.key));var o=D.current;if(e.target===o&&ss.includes(e.key)){e.preventDefault();var a=I().filter((function(e){return!e.disabled})).map((function(e){return e.ref.current}));ls.includes(e.key)&&a.reverse(),function(e){var t,n=document.activeElement,r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(JI){r.e(JI)}finally{r.f()}}(a)}})),onBlur:To(e.onBlur,(function(e){e.currentTarget.contains(e.target)||(window.clearTimeout(O.current),R.current="")})),onPointerMove:To(e.onPointerMove,Xs((function(e){var t=e.target,n=j.current!==e.clientX;if(e.currentTarget.contains(t)&&n){var r=e.clientX>j.current?"right":"left";A.current=r,j.current=e.clientX}})))}))))))))})),Os=E.forwardRef((function(e,t){e.__scopeMenu;var n=l(e,ql);return E.createElement(Eo.div,go({role:"group"},n,{ref:t}))})),Rs=E.forwardRef((function(e,t){var n=e.disabled,r=void 0!==n&&n,i=e.onSelect,o=l(e,Ql),a=E.useRef(null),s=ks("MenuItem",e.__scopeMenu),u=xs("MenuItem",e.__scopeMenu),c=vo(t,a),d=E.useRef(!1);return E.createElement(Bs,go({},o,{ref:c,disabled:r,onClick:To(e.onClick,(function(){var e=a.current;if(!r&&e){var t=new Event("menu.itemSelect",{bubbles:!0,cancelable:!0});e.addEventListener("menu.itemSelect",(function(e){return null==i?void 0:i(e)}),{once:!0}),e.dispatchEvent(t),t.defaultPrevented?d.current=!1:s.onRootClose()}})),onPointerDown:function(t){var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),d.current=!0},onPointerUp:To(e.onPointerUp,(function(e){var t;d.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:To(e.onKeyDown,(function(e){var t=""!==u.searchRef.current;r||t&&" "===e.key||as.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),Ls=E.forwardRef((function(e,t){var n=ks("MenuSubTrigger",e.__scopeMenu),r=xs("MenuSubTrigger",e.__scopeMenu),i=E.useRef(null),o=r.pointerGraceTimerRef,a=r.onPointerGraceIntentChange,l={__scopeMenu:e.__scopeMenu},s=E.useCallback((function(){i.current&&window.clearTimeout(i.current),i.current=null}),[]);return E.useEffect((function(){return s}),[s]),E.useEffect((function(){var e=o.current;return function(){window.clearTimeout(e),a(null)}}),[o,a]),n.isSubmenu?E.createElement(Ss,go({asChild:!0},l),E.createElement(Bs,go({id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Ws(n.open)},e,{ref:ho(t,n.onTriggerChange),onClick:function(t){var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:To(e.onPointerMove,Xs((function(t){r.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||i.current||(r.onPointerGraceIntentChange(null),i.current=window.setTimeout((function(){n.onOpenChange(!0),s()}),100))}))),onPointerLeave:To(e.onPointerLeave,Xs((function(e){var t;s();var i=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(i){var a,l=null===(a=n.content)||void 0===a?void 0:a.dataset.side,u="right"===l,c=u?-5:5,d=i[u?"left":"right"],f=i[u?"right":"left"];r.onPointerGraceIntentChange({area:[{x:e.clientX+c,y:e.clientY},{x:d,y:i.top},{x:f,y:i.top},{x:f,y:i.bottom},{x:d,y:i.bottom}],side:l}),window.clearTimeout(o.current),o.current=window.setTimeout((function(){return r.onPointerGraceIntentChange(null)}),300)}else{if(r.onTriggerLeave(e),e.defaultPrevented)return;r.onPointerGraceIntentChange(null)}}))),onKeyDown:To(e.onKeyDown,(function(t){var i,o=""!==r.searchRef.current;e.disabled||o&&" "===t.key||us[n.dir].includes(t.key)&&(n.onOpenChange(!0),null===(i=n.content)||void 0===i||i.focus(),t.preventDefault())}))}))):null})),Bs=E.forwardRef((function(e,t){var n=e.__scopeMenu,r=e.disabled,i=void 0!==r&&r,o=e.textValue,a=l(e,Jl),s=xs("MenuItem",n),u=ys(n),c=E.useRef(null),d=vo(t,c),f=m(E.useState(""),2),p=f[0],h=f[1];return E.useEffect((function(){var e,t=c.current;t&&h((null!==(e=t.textContent)&&void 0!==e?e:"").trim())}),[a.children]),E.createElement(fs.ItemSlot,{scope:n,disabled:i,textValue:null!=o?o:p},E.createElement(qo,go({asChild:!0},u,{focusable:!i}),E.createElement(Eo.div,go({role:"menuitem","aria-disabled":i||void 0,"data-disabled":i?"":void 0},a,{ref:d,onPointerMove:To(e.onPointerMove,Xs((function(e){i?s.onItemLeave(e):(s.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())}))),onPointerLeave:To(e.onPointerLeave,Xs((function(e){return s.onItemLeave(e)})))}))))})),As=E.forwardRef((function(e,t){var n=e.checked,r=void 0!==n&&n,i=e.onCheckedChange,o=l(e,es);return E.createElement(Ks,{scope:e.__scopeMenu,checked:r},E.createElement(Rs,go({role:"menuitemcheckbox","aria-checked":r},o,{ref:t,"data-state":Ys(r),onSelect:To(o.onSelect,(function(){return null==i?void 0:i(!r)}),{checkForDefaultPrevented:!1})})))})),js=m(vs("MenuRadioGroup",{value:void 0,onValueChange:function(){}}),2),zs=js[0],Hs=js[1],Fs=E.forwardRef((function(e,t){var n=e.value,r=e.onValueChange,i=l(e,ts),o=fo(r);return E.createElement(zs,{scope:e.__scopeMenu,value:n,onValueChange:o},E.createElement(Os,go({},i,{ref:t})))})),Ns=E.forwardRef((function(e,t){var n=e.value,r=l(e,ns),i=Hs("MenuRadioItem",e.__scopeMenu),o=n===i.value;return E.createElement(Ks,{scope:e.__scopeMenu,checked:o},E.createElement(Rs,go({role:"menuitemradio","aria-checked":o},r,{ref:t,"data-state":Ys(o),onSelect:To(r.onSelect,(function(){var e;return null===(e=i.onValueChange)||void 0===e?void 0:e.call(i,n)}),{checkForDefaultPrevented:!1})})))})),Us=m(vs("MenuItemIndicator",{checked:!1}),2),Ks=Us[0],Vs=Us[1];function Ws(e){return e?"open":"closed"}function Ys(e){return e?"checked":"unchecked"}function Xs(e){return function(t){return"mouse"===t.pointerType?e(t):void 0}}var $s=function(e){var t=e.__scopeMenu,n=e.open,r=void 0!==n&&n,i=e.children,o=e.onOpenChange,a=e.modal,l=void 0===a||a,s=ms(t),u=m(E.useState(null),2),c=u[0],d=u[1],f=E.useRef(!1),p=fo(o),h=function(e,t){var n=m(E.useState("ltr"),2),r=n[0],i=n[1],o=m(E.useState(),2),a=o[0],l=o[1],s=E.useRef(0);return E.useEffect((function(){if(void 0===t&&null!=e&&e.parentElement){var n=getComputedStyle(e.parentElement);l(n)}}),[e,t]),E.useEffect((function(){return void 0===t&&function e(){s.current=requestAnimationFrame((function(){var t=null==a?void 0:a.direction;t&&i(t),e()}))}(),function(){return cancelAnimationFrame(s.current)}}),[a,t,i]),t||r}(c,e.dir);return E.useEffect((function(){var e=function(){f.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=function(){return f.current=!1};return document.addEventListener("keydown",e,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),E.createElement(Oa,s,E.createElement(ws,{scope:t,isSubmenu:!1,isUsingKeyboardRef:f,dir:h,open:r,onOpenChange:p,content:c,onContentChange:d,onRootClose:E.useCallback((function(){return p(!1)}),[p]),modal:l},i))},Zs=function(e){var t=e.__scopeMenu,n=e.children,r=e.open,i=void 0!==r&&r,o=e.onOpenChange,a=ks("MenuSub",t),l=ms(t),s=m(E.useState(null),2),u=s[0],c=s[1],d=m(E.useState(null),2),f=d[0],p=d[1],h=fo(o);return E.useEffect((function(){return!1===a.open&&h(!1),function(){return h(!1)}}),[a.open,h]),E.createElement(Oa,l,E.createElement(ws,{scope:t,isSubmenu:!0,isUsingKeyboardRef:a.isUsingKeyboardRef,dir:a.dir,open:i,onOpenChange:h,content:f,onContentChange:p,onRootClose:a.onRootClose,contentId:lo(),trigger:u,onTriggerChange:c,triggerId:lo(),modal:!1},n))},Gs=Ss,qs=Ls,Qs=Is,Js=Rs,eu=As,tu=Fs,nu=Ns,ru=E.forwardRef((function(e,t){var n=e.__scopeMenu,r=e.forceMount,i=l(e,rs),o=Vs("MenuItemIndicator",n);return E.createElement(Aa,{present:r||o.checked},E.createElement(Eo.span,go({},i,{ref:t,"data-state":Ys(o.checked)})))})),iu=E.forwardRef((function(e,t){e.__scopeMenu;var n=l(e,is);return E.createElement(Eo.div,go({role:"separator","aria-orientation":"horizontal"},n,{ref:t}))})),ou=E.forwardRef((function(e,t){var n=e.__scopeMenu,r=l(e,os),i=ms(n);return E.createElement(Ba,go({},i,r,{ref:t}))})),au=["__scopeDropdownMenu","disabled"],lu=["__scopeDropdownMenu"],su=["__scopeDropdownMenu","portalled"],uu=["__scopeDropdownMenu"],cu=["__scopeDropdownMenu"],du=["__scopeDropdownMenu"],fu=["__scopeDropdownMenu"],pu=["__scopeDropdownMenu"],hu=["__scopeDropdownMenu"],vu=["__scopeDropdownMenu"],gu=["__scopeDropdownMenu"],mu=m(Po("DropdownMenu",[gs]),2),yu=mu[0],bu=(mu[1],gs()),wu=m(yu("DropdownMenu"),2),ku=wu[0],Su=wu[1],Cu=function(e){var t=e.__scopeDropdownMenu,n=e.children,r=e.dir,i=e.open,o=e.onOpenChange,a=e.onOpenToggle,l=e.modal,s=void 0===l||l,u=bu(t),c=E.useRef(null);return E.createElement(ku,{scope:t,isRootMenu:!0,triggerId:lo(),triggerRef:c,contentId:lo(),open:i,onOpenChange:o,onOpenToggle:a,modal:s},E.createElement($s,go({},u,{open:i,onOpenChange:o,dir:r,modal:s}),n))},Eu=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=e.disabled,i=void 0!==r&&r,o=l(e,au),a=Su("DropdownMenuTrigger",n),s=bu(n);return a.isRootMenu?E.createElement(Gs,go({asChild:!0},s),E.createElement(Eo.button,go({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":!!a.open||void 0,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i},o,{ref:ho(t,a.triggerRef),onPointerDown:To(e.onPointerDown,(function(e){i||0!==e.button||!1!==e.ctrlKey||(a.open||e.preventDefault(),a.onOpenToggle())})),onKeyDown:To(e.onKeyDown,(function(e){i||(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),[" ","ArrowDown"].includes(e.key)&&e.preventDefault())}))}))):null})),xu=m(yu("DropdownMenuContent",{isInsideContent:!1}),2),Iu=xu[0],Pu=xu[1],_u=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,lu),i=Su("DropdownMenuContent",n),o=bu(n),s=a(a({},r),{},{style:a(a({},e.style),{},{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return E.createElement(Iu,{scope:n,isInsideContent:!0},i.isRootMenu?E.createElement(Mu,go({__scopeDropdownMenu:n},s,{ref:t})):E.createElement(Qs,go({},o,s,{ref:t})))})),Mu=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=e.portalled,i=void 0===r||r,o=l(e,su),a=Su("DropdownMenuContent",n),s=bu(n),u=E.useRef(!1);return a.isRootMenu?E.createElement(Qs,go({id:a.contentId,"aria-labelledby":a.triggerId},s,o,{ref:t,portalled:i,onCloseAutoFocus:To(e.onCloseAutoFocus,(function(e){var t;u.current||null===(t=a.triggerRef.current)||void 0===t||t.focus(),u.current=!1,e.preventDefault()})),onInteractOutside:To(e.onInteractOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.modal&&!r||(u.current=!0)}))})):null})),Du=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,uu),i=bu(n);return E.createElement(Js,go({},i,r,{ref:t}))})),Tu=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,cu),i=bu(n);return E.createElement(qs,go({},i,r,{ref:t}))})),Ou=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,du),i=bu(n);return E.createElement(eu,go({},i,r,{ref:t}))})),Ru=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,fu),i=bu(n);return E.createElement(tu,go({},i,r,{ref:t}))})),Lu=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,pu),i=bu(n);return E.createElement(nu,go({},i,r,{ref:t}))})),Bu=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,hu),i=bu(n);return E.createElement(ru,go({},i,r,{ref:t}))})),Au=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,vu),i=bu(n);return E.createElement(iu,go({},i,r,{ref:t}))})),ju=E.forwardRef((function(e,t){var n=e.__scopeDropdownMenu,r=l(e,gu),i=bu(n);return E.createElement(ou,go({},i,r,{ref:t}))})),zu=function(e){var t=e.__scopeDropdownMenu,n=e.children,r=e.open,i=e.defaultOpen,o=e.onOpenChange,a=Pu("DropdownMenu",t),l=bu(t),s=m(po({prop:r,defaultProp:i,onChange:o}),2),u=s[0],c=void 0!==u&&u,d=s[1],f=E.useCallback((function(){return d((function(e){return!e}))}),[d]);return a.isInsideContent?E.createElement(ku,{scope:t,isRootMenu:!1,open:c,onOpenChange:d,onOpenToggle:f},E.createElement(Zs,go({},l,{open:c,onOpenChange:d}),n)):E.createElement(Cu,go({},e,{open:c,onOpenChange:d,onOpenToggle:f}),n)},Hu=Eu,Fu=_u,Nu=Du,Uu=Tu,Ku=Ou,Vu=Ru,Wu=Lu,Yu=Bu,Xu=Au,$u=ju;function Zu(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Gu=["color"],qu=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Gu);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M9 3C9 2.44772 8.55229 2 8 2H7C6.44772 2 6 2.44772 6 3L6 14H1.5C1.22386 14 1 14.2239 1 14.5C1 14.7761 1.22386 15 1.5 15L6 15H9H13.5C13.7761 15 14 14.7761 14 14.5C14 14.2239 13.7761 14 13.5 14H9V3Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Qu=["color"],Ju=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Qu);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1.99988 6C1.44759 6 0.999877 6.44772 0.999877 7L0.999877 8C0.999877 8.55228 1.44759 9 1.99988 9L6.99988 9L6.99988 13.5C6.99988 13.7761 7.22374 14 7.49988 14C7.77602 14 7.99988 13.7761 7.99988 13.5L7.99988 9L12.9999 9C13.5522 9 13.9999 8.55228 13.9999 8L13.9999 7C13.9999 6.44772 13.5522 6 12.9999 6L7.99988 6L7.99988 1.5C7.99988 1.22386 7.77602 1 7.49988 1C7.22373 1 6.99988 1.22386 6.99988 1.5L6.99988 6L1.99988 6Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ec=["color"],tc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,ec);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M6.99988 1C6.44759 1 5.99988 1.44772 5.99988 2V7H1.49988C1.22374 7 0.999878 7.22386 0.999878 7.5C0.999878 7.77614 1.22374 8 1.49988 8H5.99988V13C5.99988 13.5523 6.44759 14 6.99988 14H7.99988C8.55216 14 8.99988 13.5523 8.99988 13V8H13.4999C13.776 8 13.9999 7.77614 13.9999 7.5C13.9999 7.22386 13.776 7 13.4999 7H8.99988V2C8.99988 1.44772 8.55216 1 7.99988 1L6.99988 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),nc=["color"],rc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,nc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M0.499995 0.999995C0.223855 0.999995 -5.58458e-07 1.22385 -5.46388e-07 1.49999L-2.18554e-08 13.4999C-9.78492e-09 13.776 0.223855 13.9999 0.499995 13.9999C0.776136 13.9999 0.999991 13.776 0.999991 13.4999L0.999991 8.99993L12 8.99993C12.5523 8.99993 13 8.55222 13 7.99993L13 6.99994C13 6.44766 12.5523 5.99995 12 5.99995L0.999991 5.99995L0.999991 1.49999C0.999991 1.22385 0.776135 0.999995 0.499995 0.999995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ic=["color"],oc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,ic);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M14.4999 1C14.2237 1 13.9999 1.22386 13.9999 1.5L13.9999 6L2.99988 6C2.44759 6 1.99988 6.44772 1.99988 7L1.99988 8C1.99988 8.55228 2.44759 9 2.99988 9L13.9999 9L13.9999 13.5C13.9999 13.7761 14.2237 14 14.4999 14C14.776 14 14.9999 13.7761 14.9999 13.5L14.9999 9L14.9999 6L14.9999 1.5C14.9999 1.22386 14.776 1 14.4999 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ac=["color"],lc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,ac);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1.5 0C1.22386 0 1 0.223858 1 0.5C1 0.776142 1.22386 1 1.5 1H6V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V1H13.5C13.7761 1 14 0.776142 14 0.5C14 0.223858 13.7761 0 13.5 0H9H6H1.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),sc=["color"],uc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,sc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),cc=["color"],dc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,cc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),fc=["color"],pc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,fc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),hc=["color"],vc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,hc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),gc=["color"],mc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,gc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),yc=["color"],bc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,yc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),wc=["color"],kc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,wc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Sc=["color"],Cc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Sc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Ec=["color"],xc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Ec);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Ic=["color"],Pc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Ic);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),_c=["color"],Mc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,_c);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Dc=["color"],Tc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Dc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M3.29227 0.048984C3.47033 -0.032338 3.67946 -0.00228214 3.8274 0.125891L12.8587 7.95026C13.0134 8.08432 13.0708 8.29916 13.0035 8.49251C12.9362 8.68586 12.7578 8.81866 12.5533 8.82768L9.21887 8.97474L11.1504 13.2187C11.2648 13.47 11.1538 13.7664 10.9026 13.8808L8.75024 14.8613C8.499 14.9758 8.20255 14.8649 8.08802 14.6137L6.15339 10.3703L3.86279 12.7855C3.72196 12.934 3.50487 12.9817 3.31479 12.9059C3.1247 12.8301 3 12.6461 3 12.4414V0.503792C3 0.308048 3.11422 0.130306 3.29227 0.048984ZM4 1.59852V11.1877L5.93799 9.14425C6.05238 9.02363 6.21924 8.96776 6.38319 8.99516C6.54715 9.02256 6.68677 9.12965 6.75573 9.2809L8.79056 13.7441L10.0332 13.178L8.00195 8.71497C7.93313 8.56376 7.94391 8.38824 8.03072 8.24659C8.11753 8.10494 8.26903 8.01566 8.435 8.00834L11.2549 7.88397L4 1.59852Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Oc=["color"],Rc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Oc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))})),Lc=["color"],Bc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Lc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Ac=["color"],jc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Ac);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),zc=["color"],Hc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,zc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Fc=["color"],Nc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Fc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Uc=["color"],Kc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Uc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Vc=["color"],Wc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Vc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Yc=["color"],Xc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Yc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.4986 0C6.3257 0 5.36107 0.38943 4.73753 1.19361C4.23745 1.83856 4 2.68242 4 3.63325H5C5 2.84313 5.19691 2.23312 5.5278 1.80636C5.91615 1.30552 6.55152 1 7.4986 1C8.35683 1 8.96336 1.26502 9.35846 1.68623C9.75793 2.11211 10 2.76044 10 3.63601V6H3C2.44772 6 2 6.44772 2 7V13C2 13.5523 2.44772 14 3 14H12C12.5523 14 13 13.5523 13 13V7C13 6.44771 12.5523 6 12 6H11V3.63601C11 2.58135 10.7065 1.66167 10.0878 1.0021C9.46477 0.337871 8.57061 0 7.4986 0ZM3 7H12V13H3V7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),$c=["color"],Zc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,$c);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M5 1.5C5 1.22386 4.77614 1 4.5 1C4.22386 1 4 1.22386 4 1.5L4 7C4 7.01671 4.00082 7.03323 4.00242 7.04952C2.86009 7.28022 2 8.28967 2 9.5C2 10.7103 2.86009 11.7198 4.00242 11.9505C4.00082 11.9668 4 11.9833 4 12V13.5C4 13.7761 4.22386 14 4.5 14C4.77614 14 5 13.7761 5 13.5V12C5 11.9833 4.99918 11.9668 4.99758 11.9505C6.1399 11.7198 7 10.7103 7 9.5C7 8.28967 6.1399 7.28022 4.99758 7.04952C4.99918 7.03323 5 7.01671 5 7L5 1.5ZM11 1.5C11 1.22386 10.7761 1 10.5 1C10.2239 1 10 1.22386 10 1.5V3C10 3.01671 10.0008 3.03323 10.0024 3.04952C8.8601 3.28022 8 4.28967 8 5.5C8 6.71033 8.8601 7.71978 10.0024 7.95048C10.0008 7.96677 10 7.98329 10 8V13.5C10 13.7761 10.2239 14 10.5 14C10.7761 14 11 13.7761 11 13.5V8C11 7.98329 10.9992 7.96677 10.9976 7.95048C12.1399 7.71978 13 6.71033 13 5.5C13 4.28967 12.1399 3.28022 10.9976 3.04952C10.9992 3.03323 11 3.01671 11 3V1.5ZM4.5 8C3.67157 8 3 8.67157 3 9.5C3 10.3284 3.67157 11 4.5 11C5.32843 11 6 10.3284 6 9.5C6 8.67157 5.32843 8 4.5 8ZM9 5.5C9 4.67157 9.67157 4 10.5 4C11.3284 4 12 4.67157 12 5.5C12 6.32843 11.3284 7 10.5 7C9.67157 7 9 6.32843 9 5.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Gc=["color"],qc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Gc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Qc=["color"],Jc=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Qc);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ed=["color"],td=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,ed);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),nd=["color"],rd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,nd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),id=["color"],od=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,id);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),ad=["color"],ld=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,ad);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.59664 2.93628C7.76085 3.06401 8.00012 2.94698 8.00012 2.73895V1.99998C9.98143 2 11.1848 2.3637 11.9105 3.08945C12.6363 3.81522 13 5.0186 13 6.99998C13 7.27613 13.2239 7.49998 13.5 7.49998C13.7761 7.49998 14 7.27613 14 6.99998C14 4.9438 13.6325 3.39719 12.6176 2.38234C11.6028 1.36752 10.0562 0.999999 8.00012 0.999984V0.261266C8.00012 0.0532293 7.76085 -0.0637944 7.59664 0.063928L6.00384 1.30277C5.87516 1.40286 5.87516 1.59735 6.00384 1.69744L7.59664 2.93628ZM9.5 5H2.5C2.22386 5 2 5.22386 2 5.5V12.5C2 12.7761 2.22386 13 2.5 13H9.5C9.77614 13 10 12.7761 10 12.5V5.5C10 5.22386 9.77614 5 9.5 5ZM2.5 4C1.67157 4 1 4.67157 1 5.5V12.5C1 13.3284 1.67157 14 2.5 14H9.5C10.3284 14 11 13.3284 11 12.5V5.5C11 4.67157 10.3284 4 9.5 4H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),sd=["color"],ud=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,sd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992ZM0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992ZM1.99998 6.99994C1.99998 6.44766 2.44769 5.99995 2.99998 5.99995L5.99995 5.99995C6.55223 5.99995 6.99994 6.44766 6.99994 6.99994L6.99994 7.99993C6.99994 8.55221 6.55223 8.99992 5.99995 8.99992L2.99998 8.99992C2.4477 8.99992 1.99998 8.55221 1.99998 7.99993L1.99998 6.99994ZM8.99993 5.99995C8.44765 5.99995 7.99993 6.44766 7.99993 6.99994L7.99993 7.99993C7.99993 8.55221 8.44765 8.99992 8.99993 8.99992L11.9999 8.99992C12.5522 8.99992 12.9999 8.55221 12.9999 7.99993L12.9999 6.99994C12.9999 6.44766 12.5522 5.99995 11.9999 5.99995L8.99993 5.99995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),cd=["color"],dd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,cd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM7 2C6.44772 2 6 2.44772 6 3V6C6 6.55228 6.44772 7 7 7H8C8.55228 7 9 6.55228 9 6V3C9 2.44772 8.55228 2 8 2H7ZM7 8C6.44772 8 6 8.44771 6 9V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V9C9 8.44772 8.55228 8 8 8H7ZM1.49988 14C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H1.49988Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),fd=["color"],pd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,fd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M1 1H1.5H13.5H14V1.5V13.5V14H13.5H1.5H1V13.5V1.5V1ZM2 2V13H13V2H2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),hd=["color"],vd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,hd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 5.99995L0.999992 5.99995L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 8.99992L13.9999 8.99992L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),gd=["color"],md=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,gd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H6H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM9 14V1L6 1V14H1.49988C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H9Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),yd=["color"],bd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,yd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),wd=["color"],kd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,wd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Sd=["color"],Cd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Sd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Ed=["color"],xd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Ed);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Id=["color"],Pd=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Id);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),_d=["color"],Md=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,_d);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Dd=["color"],Td=(0,E.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=Zu(e,Dd);return(0,E.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),(0,E.createElement)("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))})),Od=E.forwardRef((function(e,t){return E.createElement(Eo.span,go({},e,{ref:t,style:a({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)}))}));function Rd(e){var t=E.useRef({value:e,previous:e});return E.useMemo((function(){return t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous}),[e])}var Ld=["__scopeTooltip"],Bd=["forceMount"],Ad=["__scopeTooltip","children","aria-label","portalled"],jd=["__scopeTooltip"],zd=m(Po("Tooltip",[Sa]),2),Hd=zd[0],Fd=(zd[1],Sa()),Nd=m(Hd("TooltipProvider",{isOpenDelayed:!0,delayDuration:700,onOpen:function(){},onClose:function(){}}),2),Ud=(Nd[0],Nd[1]),Kd=m(Hd("Tooltip"),2),Vd=Kd[0],Wd=Kd[1],Yd=E.forwardRef((function(e,t){var n=e.__scopeTooltip,r=l(e,Ld),i=Wd("TooltipTrigger",n),o=Fd(n),a=vo(t,i.onTriggerChange),s=E.useRef(!1),u=E.useCallback((function(){return s.current=!1}),[]);return E.useEffect((function(){return function(){return document.removeEventListener("mouseup",u)}}),[u]),E.createElement(Ra,go({asChild:!0},o),E.createElement(Eo.button,go({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:a,onMouseEnter:To(e.onMouseEnter,i.onTriggerEnter),onMouseLeave:To(e.onMouseLeave,i.onClose),onMouseDown:To(e.onMouseDown,(function(){i.onClose(),s.current=!0,document.addEventListener("mouseup",u,{once:!0})})),onFocus:To(e.onFocus,(function(){s.current||i.onOpen()})),onBlur:To(e.onBlur,i.onClose),onClick:To(e.onClick,(function(e){0===e.detail&&i.onClose()}))})))})),Xd=E.forwardRef((function(e,t){var n=e.forceMount,r=l(e,Bd),i=Wd("TooltipContent",e.__scopeTooltip);return E.createElement(Aa,{present:n||i.open},E.createElement($d,go({ref:t},r)))})),$d=E.forwardRef((function(e,t){var n=e.__scopeTooltip,r=e.children,i=e["aria-label"],o=e.portalled,s=void 0===o||o,u=l(e,Ad),c=Wd("TooltipContent",n),d=Fd(n),f=s?ea:E.Fragment,p=c.onClose;return Xa((function(){return p()})),E.useEffect((function(){return document.addEventListener("tooltip.open",p),function(){return document.removeEventListener("tooltip.open",p)}}),[p]),E.createElement(f,null,E.createElement(Zd,{__scopeTooltip:n}),E.createElement(La,go({"data-state":c.stateAttribute},d,u,{ref:t,style:a(a({},u.style),{},{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"})}),E.createElement(ko,null,r),E.createElement(Od,{id:c.contentId,role:"tooltip"},i||r)))}));function Zd(e){var t=e.__scopeTooltip,n=Wd("CheckTriggerMoved",t),r=sa(n.trigger),i=null==r?void 0:r.left,o=Rd(i),a=null==r?void 0:r.top,l=Rd(a),s=n.onClose;return E.useEffect((function(){(void 0!==o&&o!==i||void 0!==l&&l!==a)&&s()}),[s,o,l,i,a]),null}var Gd=function(e){var t=e.__scopeTooltip,n=e.children,r=e.open,i=e.defaultOpen,o=void 0!==i&&i,a=e.onOpenChange,l=e.delayDuration,s=Ud("Tooltip",t),u=Fd(t),c=m(E.useState(null),2),d=c[0],f=c[1],p=lo(),h=E.useRef(0),v=null!=l?l:s.delayDuration,g=E.useRef(!1),y=s.onOpen,b=s.onClose,w=m(po({prop:r,defaultProp:o,onChange:function(e){e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),null==a||a(e)}}),2),k=w[0],S=void 0!==k&&k,C=w[1],x=E.useMemo((function(){return S?g.current?"delayed-open":"instant-open":"closed"}),[S]),I=E.useCallback((function(){window.clearTimeout(h.current),g.current=!1,C(!0)}),[C]),P=E.useCallback((function(){window.clearTimeout(h.current),h.current=window.setTimeout((function(){g.current=!0,C(!0)}),v)}),[v,C]);return E.useEffect((function(){return function(){return window.clearTimeout(h.current)}}),[]),E.createElement(Oa,u,E.createElement(Vd,{scope:t,contentId:p,open:S,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:E.useCallback((function(){s.isOpenDelayed?P():I()}),[s.isOpenDelayed,P,I]),onOpen:E.useCallback(I,[I]),onClose:E.useCallback((function(){window.clearTimeout(h.current),C(!1),b()}),[C,b])},n))},qd=Yd,Qd=Xd,Jd=E.forwardRef((function(e,t){var n=e.__scopeTooltip,r=l(e,jd),i=Fd(n);return E.createElement(Ba,go({},i,r,{ref:t}))})),ef=["__scopeDialog"],tf=["forceMount"],nf=["__scopeDialog"],rf=["forceMount"],of=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],af=["__scopeDialog"],lf=m(Po("Dialog"),2),sf=lf[0],uf=lf[1],cf=m(sf("Dialog"),2),df=cf[0],ff=cf[1],pf=E.forwardRef((function(e,t){var n=e.__scopeDialog,r=l(e,ef),i=ff("DialogTrigger",n),o=vo(t,i.triggerRef);return E.createElement(Eo.button,go({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kf(i.open)},r,{ref:o,onClick:To(e.onClick,i.onOpenToggle)}))})),hf=E.forwardRef((function(e,t){var n=e.forceMount,r=l(e,tf),i=ff("DialogOverlay",e.__scopeDialog);return i.modal?E.createElement(Aa,{present:n||i.open},E.createElement(vf,go({},r,{ref:t}))):null})),vf=E.forwardRef((function(e,t){var n=e.__scopeDialog,r=l(e,nf),i=ff("DialogOverlay",n);return E.createElement(Xl,{as:bo,allowPinchZoom:i.allowPinchZoom,shards:[i.contentRef]},E.createElement(Eo.div,go({"data-state":kf(i.open)},r,{ref:t,style:a({pointerEvents:"auto"},r.style)})))})),gf=E.forwardRef((function(e,t){var n=e.forceMount,r=l(e,rf),i=ff("DialogContent",e.__scopeDialog);return E.createElement(Aa,{present:n||i.open},i.modal?E.createElement(mf,go({},r,{ref:t})):E.createElement(yf,go({},r,{ref:t})))})),mf=E.forwardRef((function(e,t){var n=ff("DialogContent",e.__scopeDialog),r=E.useRef(null),i=vo(t,n.contentRef,r);return E.useEffect((function(){var e=r.current;if(e)return sl(e)}),[]),E.createElement(bf,go({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:To(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:To(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:To(e.onFocusOutside,(function(e){return e.preventDefault()}))}))})),yf=E.forwardRef((function(e,t){var n=ff("DialogContent",e.__scopeDialog),r=E.useRef(!1);return E.createElement(bf,go({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var i,o;null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),r.current=!1},onInteractOutside:function(t){var i,o;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current=!0);var a=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(a))&&t.preventDefault()}}))})),bf=E.forwardRef((function(e,t){var n=e.__scopeDialog,r=e.trapFocus,i=e.onOpenAutoFocus,o=e.onCloseAutoFocus,a=l(e,of),s=ff("DialogContent",n),u=vo(t,E.useRef(null));return uo(),E.createElement(E.Fragment,null,E.createElement(Fa,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},E.createElement(Qa,go({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":kf(s.open)},a,{ref:u,onDismiss:function(){return s.onOpenChange(!1)}}))),!1)})),wf=E.forwardRef((function(e,t){var n=e.__scopeDialog,r=l(e,af),i=ff("DialogClose",n);return E.createElement(Eo.button,go({type:"button"},r,{ref:t,onClick:To(e.onClick,(function(){return i.onOpenChange(!1)}))}))}));function kf(e){return e?"open":"closed"}var Sf=m(function(e,t){var n=E.createContext(t);function r(e){var t=e.children,r=l(e,xo),i=E.useMemo((function(){return r}),Object.values(r));return E.createElement(n.Provider,{value:i},t)}return r.displayName=e+"Provider",[r,function(r){var i=E.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}("DialogTitleWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"}),2),Cf=Sf[0],Ef=(Sf[1],function(e){var t=e.__scopeDialog,n=e.children,r=e.open,i=e.defaultOpen,o=e.onOpenChange,a=e.modal,l=void 0===a||a,s=e.allowPinchZoom,u=E.useRef(null),c=E.useRef(null),d=m(po({prop:r,defaultProp:i,onChange:o}),2),f=d[0],p=void 0!==f&&f,h=d[1];return E.createElement(df,{scope:t,triggerRef:u,contentRef:c,contentId:lo(),titleId:lo(),descriptionId:lo(),open:p,onOpenChange:h,onOpenToggle:E.useCallback((function(){return h((function(e){return!e}))}),[h]),modal:l,allowPinchZoom:s},n)}),xf=pf,If=function(e){var t=e.__scopeDialog,n=e.forceMount,r=e.children,i=e.container,o=ff("DialogPortal",t);return E.createElement(E.Fragment,null,E.Children.map(r,(function(e){return E.createElement(Aa,{present:n||o.open},E.createElement(ta,{asChild:!0,container:i},e))})))},Pf=hf,_f=gf,Mf=wf,Df=["__scopeAlertDialog"],Tf=["__scopeAlertDialog"],Of=["__scopeAlertDialog"],Rf=["__scopeAlertDialog"],Lf=["__scopeAlertDialog","children"],Bf=["__scopeAlertDialog"],Af=["__scopeAlertDialog"],jf=m(Po("AlertDialog",[uf]),2),zf=jf[0],Hf=(jf[1],uf()),Ff=E.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=l(e,Tf),i=Hf(n);return E.createElement(xf,go({},i,r,{ref:t}))})),Nf=E.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=l(e,Rf),i=Hf(n);return E.createElement(Pf,go({},i,r,{ref:t}))})),Uf=m(zf("AlertDialogContent"),2),Kf=Uf[0],Vf=Uf[1],Wf=E.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=e.children,i=l(e,Lf),o=Hf(n),a=vo(t,E.useRef(null)),s=E.useRef(null);return E.createElement(Cf,{contentName:"AlertDialogContent",titleName:Yf,docsSlug:"alert-dialog"},E.createElement(Kf,{scope:n,cancelRef:s},E.createElement(_f,go({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:To(i.onOpenAutoFocus,(function(e){var t;e.preventDefault(),null===(t=s.current)||void 0===t||t.focus({preventScroll:!0})})),onPointerDownOutside:function(e){return e.preventDefault()},onInteractOutside:function(e){return e.preventDefault()}}),E.createElement(ko,null,r),!1)))})),Yf="AlertDialogTitle",Xf=E.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=l(e,Bf),i=Hf(n);return E.createElement(Mf,go({},i,r,{ref:t}))})),$f=E.forwardRef((function(e,t){var n=e.__scopeAlertDialog,r=l(e,Af),i=Vf("AlertDialogCancel",n).cancelRef,o=Hf(n),a=vo(t,i);return E.createElement(Mf,go({},o,r,{ref:a}))})),Zf=function(e){var t=e.__scopeAlertDialog,n=l(e,Df),r=Hf(t);return E.createElement(Ef,go({},r,n,{modal:!0}))},Gf=Ff,qf=function(e){var t=e.__scopeAlertDialog,n=l(e,Of),r=Hf(t);return E.createElement(If,go({},r,n))},Qf=Nf,Jf=Wf,ep=Xf,tp=$f,np=["__scopeContextMenu"],rp=["__scopeContextMenu"],ip=["__scopeContextMenu"],op=["__scopeContextMenu"],ap=["__scopeContextMenu"],lp=["__scopeContextMenu"],sp=m(Po("ContextMenu",[gs]),2),up=sp[0],cp=(sp[1],gs()),dp=m(up("ContextMenu"),2),fp=dp[0],pp=dp[1],hp=E.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=l(e,np),i=pp("ContextMenuTrigger",n),o=cp(n),s=E.useRef({x:0,y:0}),u=E.useRef({getBoundingClientRect:function(){return DOMRect.fromRect(a({width:0,height:0},s.current))}}),c=E.useRef(0),d=E.useCallback((function(){return window.clearTimeout(c.current)}),[]),f=function(e){s.current={x:e.clientX,y:e.clientY},i.onOpenChange(!0)};return E.useEffect((function(){return d}),[d]),E.createElement(gp,{scope:n,isInsideContent:!1},E.createElement(Gs,go({},o,{virtualRef:u})),E.createElement(Eo.span,go({},r,{ref:t,style:a({WebkitTouchCallout:"none"},e.style),onContextMenu:To(e.onContextMenu,(function(e){d(),e.preventDefault(),f(e)})),onPointerDown:To(e.onPointerDown,Cp((function(e){d(),c.current=window.setTimeout((function(){return f(e)}),700)}))),onPointerMove:To(e.onPointerMove,Cp(d)),onPointerCancel:To(e.onPointerCancel,Cp(d)),onPointerUp:To(e.onPointerUp,Cp(d))})))})),vp=m(up("ContextMenuContent",{isInsideContent:!1}),2),gp=vp[0],mp=vp[1],yp=E.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=l(e,rp),i=pp("ContextMenuContent",n),o=cp(n),s=a(a({},r),{},{style:a(a({},e.style),{},{"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return E.createElement(gp,{scope:n,isInsideContent:!0},i.isRootMenu?E.createElement(bp,go({__scopeContextMenu:n},s,{ref:t})):E.createElement(Qs,go({},o,s,{ref:t})))})),bp=E.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=l(e,ip),i=pp("ContextMenuContent",n),o=cp(n),a=E.useRef(!1);return E.createElement(Qs,go({},o,r,{ref:t,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:function(t){var n;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),!t.defaultPrevented&&a.current&&t.preventDefault(),a.current=!1},onInteractOutside:function(t){var n;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||i.modal||(a.current=!0)}}))})),wp=E.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=l(e,op),i=cp(n);return E.createElement(Js,go({},i,r,{ref:t}))})),kp=E.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=l(e,ap),i=cp(n);return E.createElement(qs,go({},i,r,{ref:t}))})),Sp=E.forwardRef((function(e,t){var n=e.__scopeContextMenu,r=l(e,lp),i=cp(n);return E.createElement(ou,go({},i,r,{ref:t}))}));function Cp(e){return function(t){return"mouse"!==t.pointerType?e(t):void 0}}var Ep,xp,Ip,Pp,_p,Mp,Dp,Tp,Op,Rp,Lp,Bp,Ap,jp,zp,Hp,Fp,Np,Up,Kp,Vp,Wp,Yp,Xp,$p,Zp,Gp,qp,Qp=function(e){var t=e.__scopeContextMenu,n=e.children,r=e.onOpenChange,i=e.dir,o=e.modal,a=void 0===o||o,l=m(E.useState(!1),2),s=l[0],u=l[1],c=mp("ContextMenu",t),d=cp(t),f=fo(r),p=E.useCallback((function(e){u(e),f(e)}),[f]);return c.isInsideContent?E.createElement(fp,{scope:t,isRootMenu:!1,open:s,onOpenChange:p,modal:a},E.createElement(Zs,go({},d,{open:s,onOpenChange:p}),n)):E.createElement(fp,{scope:t,isRootMenu:!0,open:s,onOpenChange:p,modal:a},E.createElement($s,go({},d,{dir:i,open:s,onOpenChange:p,modal:a}),n))},Jp=hp,eh=yp,th=Object.defineProperty,nh=Object.defineProperties,rh=Object.getOwnPropertyDescriptors,ih=Object.getOwnPropertyNames,oh=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,lh=Object.prototype.propertyIsEnumerable,sh=function(e,t,n){return t in e?th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},uh=function(e,t){for(var n in t||(t={}))ah.call(t,n)&&sh(e,n,t[n]);if(oh){var r,i=C(oh(t));try{for(i.s();!(r=i.n()).done;){n=r.value;lh.call(t,n)&&sh(e,n,t[n])}}catch(JI){i.e(JI)}finally{i.f()}}return e},ch=function(e,t){return nh(e,rh(t))},dh=function(e,t){var n={};for(var r in e)ah.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oh){var i,o=C(oh(e));try{for(o.s();!(i=o.n()).done;){r=i.value;t.indexOf(r)<0&&lh.call(e,r)&&(n[r]=e[r])}}catch(JI){o.e(JI)}finally{o.f()}}return n},fh=function(e,t){return function(){return e&&(t=(0,e[ih(e)[0]])(e=0)),t}},ph=function(e,t){for(var n in t)th(e,n,{get:t[n],enumerable:!0})},hh=function(e,t,n){return sh(e,"symbol"!==typeof t?t+"":t,n),n},vh=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{l(n.next(e))}catch(t){i(t)}},a=function(e){try{l(n.throw(e))}catch(t){i(t)}},l=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};l((n=n.apply(e,t)).next())}))},gh=fh({"src/state/data/browser-fs-access/supported.js":function(){Zp=function(){if("undefined"===typeof self)return!1;if("top"in self&&self!==top)try{top.location}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),Gp=Zp}}),mh={};ph(mh,{default:function(){return qp}});var yh,bh,wh=fh({"src/state/data/browser-fs-access/legacy/file-open.js":function(){qp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(void 0,[].concat(t),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Array.isArray(e)||(e=[e]),t.abrupt("return",new Promise((function(t,n){var r=document.createElement("input");r.type="file";var i=[].concat(S(e.map((function(e){return e.mimeTypes||[]})).join()),[e.map((function(e){return e.extensions||[]})).join()]).join();r.multiple=e[0].multiple||!1,r.accept=i||"";var o=function(e){"function"===typeof a&&a(),t(e)},a=e[0].legacySetup&&e[0].legacySetup(o,(function(){return a(n)}),r);r.addEventListener("change",(function(){o(r.multiple?Array.from(r.files):r.files[0])})),r.click()})));case 2:case"end":return t.stop()}}),t)}))()}))}}}),kh={};ph(kh,{default:function(){return bh}});var Sh,Ch=fh({"src/state/data/browser-fs-access/fs-access/file-open.js":function(){yh=function(e){return vh(void 0,null,k().mark((function t(){var n;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFile();case 2:return(n=t.sent).handle=e,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))},bh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(void 0,[].concat(t),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return k().mark((function t(){var n,r,i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Array.isArray(e)||(e=[e]),n=[],e.forEach((function(e,t){n[t]={description:e.description||"",accept:{}},e.mimeTypes?e.mimeTypes.map((function(r){n[t].accept[r]=e.extensions||[]})):n[t].accept["*/*"]=e.extensions||[]})),t.next=5,window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:n,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});case 5:return r=t.sent,t.next=8,Promise.all(r.map(yh));case 8:if(i=t.sent,!e[0].multiple){t.next=11;break}return t.abrupt("return",i);case 11:return t.abrupt("return",i[0]);case 12:case"end":return t.stop()}}),t)}))()}))}}});function Eh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(this,null,k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sh;case 2:return e.abrupt("return",(n=e.sent).default.apply(n,t));case 3:case"end":return e.stop()}}),e)})))}var xh,Ih=fh({"src/state/data/browser-fs-access/file-open.js":function(){gh(),Sh=Gp?Promise.resolve().then((function(){return Ch(),kh})):Promise.resolve().then((function(){return wh(),mh}))}}),Ph={};ph(Ph,{default:function(){return xh}});var _h,Mh,Dh=fh({"src/state/data/browser-fs-access/legacy/directory-open.js":function(){xh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(void 0,[].concat(t),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,t.abrupt("return",new Promise((function(t,n){var r=document.createElement("input");r.type="file",r.webkitdirectory=!0;var i=function(e){"function"===typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(i,(function(){return o(n)}),r);r.addEventListener("change",(function(){var t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter((function(t){return t.webkitRelativePath.split("/").every((function(t){return!e[0].skipDirectory({name:t,kind:"directory"})}))}))):t=t.filter((function(e){return 2===e.webkitRelativePath.split("/").length})),i(t)})),r.click()})));case 3:case"end":return t.stop()}}),t)}))()}))}}}),Th={};ph(Th,{default:function(){return Mh}});var Oh,Rh=fh({"src/state/data/browser-fs-access/fs-access/directory-open.js":function(){_h=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return vh(void 0,[e,t].concat(r),(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.name,r=arguments.length>3?arguments[3]:void 0;return k().mark((function i(){var o,a,l,s,u;return k().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=[],a=[],l=C(e.values()),i.prev=3,u=k().mark((function i(){var l,u;return k().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l=s.value,u="".concat(n,"/").concat(l.name),"file"!==l.kind){i.next=10;break}return i.t0=a,i.next=6,l.getFile().then((function(t){return t.directoryHandle=e,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:function(){return u}})}));case 6:i.t1=i.sent,i.t0.push.call(i.t0,i.t1),i.next=16;break;case 10:if("directory"!==l.kind||!t||r&&r(l)){i.next=16;break}return i.t2=o,i.next=14,_h(l,t,u,r);case 14:i.t3=i.sent,i.t2.push.call(i.t2,i.t3);case 16:case"end":return i.stop()}}),i)})),l.s();case 6:if((s=l.n()).done){i.next=10;break}return i.delegateYield(u(),"t0",8);case 8:i.next=6;break;case 10:i.next=15;break;case 12:i.prev=12,i.t1=i.catch(3),l.e(i.t1);case 15:return i.prev=15,l.f(),i.finish(15);case 18:return i.t2=[],i.t3=S,i.next=22,Promise.all(o);case 22:return i.t4=i.sent.flat(),i.t5=(0,i.t3)(i.t4),i.t6=S,i.next=27,Promise.all(a);case 27:return i.t7=i.sent,i.t8=(0,i.t6)(i.t7),i.abrupt("return",i.t2.concat.call(i.t2,i.t5,i.t8));case 30:case"end":return i.stop()}}),i,null,[[3,12,15,18]])}))()}))},Mh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(void 0,[].concat(t),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k().mark((function t(){var n;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.recursive=e.recursive||!1,t.next=3,window.showDirectoryPicker({id:e.id,startIn:e.startIn});case 3:return n=t.sent,t.abrupt("return",_h(n,e.recursive,void 0,e.skipDirectory));case 5:case"end":return t.stop()}}),t)}))()}))}}});function Lh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(this,null,k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oh;case 2:return e.abrupt("return",(n=e.sent).default.apply(n,t));case 3:case"end":return e.stop()}}),e)})))}var Bh,Ah=fh({"src/state/data/browser-fs-access/directory-open.js":function(){gh(),Oh=Gp?Promise.resolve().then((function(){return Rh(),Th})):Promise.resolve().then((function(){return Dh(),Ph}))}}),jh={};function zh(e,t){return vh(this,null,k().mark((function n(){var r,i,o;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.getReader(),i=new ReadableStream({start:function(e){return function t(){return vh(this,null,k().mark((function n(){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.read().then((function(n){var r=n.done,i=n.value;if(!r)return e.enqueue(i),t();e.close()})));case 1:case"end":return n.stop()}}),n)})))}()}}),o=new Response(i),r.releaseLock(),n.t0=Blob,n.next=7,o.blob();case 7:return n.t1=n.sent,n.t2=[n.t1],n.t3={type:t},n.abrupt("return",new n.t0(n.t2,n.t3));case 11:case"end":return n.stop()}}),n)})))}ph(jh,{default:function(){return Bh}});var Hh,Fh=fh({"src/state/data/browser-fs-access/legacy/file-save.js":function(){Bh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vh(void 0,[e].concat(n),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k().mark((function n(){var r,i,o,a,l;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Array.isArray(t)&&(t=t[0]),r=document.createElement("a"),i=e,!("body"in e)){n.next=7;break}return n.next=6,zh(e.body,e.headers.get("content-type"));case 6:i=n.sent;case 7:return r.download=t.fileName||"Untitled",r.href=URL.createObjectURL(i),o=function(){return l(reject)},a=function(){"function"===typeof l&&l()},l=t.legacySetup&&t.legacySetup(a,o,r),r.addEventListener("click",(function(){setTimeout((function(){return URL.revokeObjectURL(r.href)}),3e4),a()})),r.click(),n.abrupt("return",null);case 15:case"end":return n.stop()}}),n)}))()}))}}}),Nh={};ph(Nh,{default:function(){return Hh}});var Uh,Kh=fh({"src/state/data/browser-fs-access/fs-access/file-save.js":function(){Hh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vh(void 0,[e].concat(n),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{}],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return k().mark((function i(){var o,a,l,s;return k().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled",o=[],t.forEach((function(t,n){o[n]={description:t.description||"",accept:{}},t.mimeTypes?(0===n&&(e.type?t.mimeTypes.push(e.type):e.headers&&e.headers.get("content-type")&&t.mimeTypes.push(e.headers.get("content-type"))),t.mimeTypes.map((function(e){o[n].accept[e]=t.extensions||[]}))):e.type&&(o[n].accept[e.type]=t.extensions||[])})),!n){i.next=15;break}return i.prev=5,i.next=8,n.getFile();case 8:i.next=15;break;case 10:if(i.prev=10,i.t0=i.catch(5),n=null,!r){i.next=15;break}throw i.t0;case 15:if(i.t1=n,i.t1){i.next=20;break}return i.next=19,window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});case 19:i.t1=i.sent;case 20:return a=i.t1,i.next=23,a.createWritable();case 23:if(l=i.sent,!("stream"in e)){i.next=31;break}return s=e.stream(),i.next=28,s.pipeTo(l);case 28:return i.abrupt("return",a);case 31:if(!("body"in e)){i.next=35;break}return i.next=34,e.body.pipeTo(l);case 34:return i.abrupt("return",a);case 35:return i.next=37,l.write(blob);case 37:return i.next=39,l.close();case 39:return i.abrupt("return",a);case 40:case"end":return i.stop()}}),i,null,[[5,10]])}))()}))}}});function Vh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vh(this,null,k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh;case 2:return e.abrupt("return",(n=e.sent).default.apply(n,t));case 3:case"end":return e.stop()}}),e)})))}var Wh=fh({"src/state/data/browser-fs-access/file-save.js":function(){gh(),Uh=Gp?Promise.resolve().then((function(){return Kh(),Nh})):Promise.resolve().then((function(){return Fh(),jh}))}}),Yh={};ph(Yh,{directoryOpen:function(){return Lh},fileOpen:function(){return Eh},fileSave:function(){return Vh},supported:function(){return Gp}});var Xh=fh({"src/state/data/browser-fs-access/index.js":function(){Ih(),Ah(),Wh(),gh()}}),$h=ki({themeMap:uh({},Tr),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",sponsor:"#ec6cb9",sponsorContrast:"#ec6cb944",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:"0px 0px 16px -1px rgba(0, 0, 0, 0.05), \n        0px 0px 16px -8px rgba(0, 0, 0, 0.05), \n        0px 0px 16px -12px rgba(0, 0, 0, 0.12),\n        0px 0px 2px 0px rgba(0, 0, 0, 0.08)"},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:function(){return function(e){return Array.isArray(e)?{strokeWidth:"calc(".concat(e[0],"px / var(--camera-zoom))")}:{strokeWidth:"calc(".concat(e,"px / var(--camera-zoom))")}}}}}),Zh=$h.styled,Gh=(0,$h.createTheme)({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:"0px 0px 16px -1px rgba(0, 0, 0, 0.05), \n      0px 0px 16px -8px rgba(0, 0, 0, 0.09), \n      0px 0px 16px -12px rgba(0, 0, 0, 0.2)"}}),qh=b((function e(){w(this,e),hh(this,"onPinchStart"),hh(this,"onPinchEnd"),hh(this,"onPinch"),hh(this,"onKeyDown"),hh(this,"onKeyUp"),hh(this,"onPointerMove"),hh(this,"onPointerUp"),hh(this,"onPan"),hh(this,"onZoom"),hh(this,"onPointerDown"),hh(this,"onPointCanvas"),hh(this,"onDoubleClickCanvas"),hh(this,"onRightPointCanvas"),hh(this,"onDragCanvas"),hh(this,"onReleaseCanvas"),hh(this,"onPointShape"),hh(this,"onDoubleClickShape"),hh(this,"onRightPointShape"),hh(this,"onDragShape"),hh(this,"onHoverShape"),hh(this,"onUnhoverShape"),hh(this,"onReleaseShape"),hh(this,"onPointBounds"),hh(this,"onDoubleClickBounds"),hh(this,"onRightPointBounds"),hh(this,"onDragBounds"),hh(this,"onHoverBounds"),hh(this,"onUnhoverBounds"),hh(this,"onReleaseBounds"),hh(this,"onPointBoundsHandle"),hh(this,"onDoubleClickBoundsHandle"),hh(this,"onRightPointBoundsHandle"),hh(this,"onDragBoundsHandle"),hh(this,"onHoverBoundsHandle"),hh(this,"onUnhoverBoundsHandle"),hh(this,"onReleaseBoundsHandle"),hh(this,"onPointHandle"),hh(this,"onDoubleClickHandle"),hh(this,"onRightPointHandle"),hh(this,"onDragHandle"),hh(this,"onHoverHandle"),hh(this,"onUnhoverHandle"),hh(this,"onReleaseHandle"),hh(this,"onShapeBlur"),hh(this,"onShapeClone")})),Qh=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e}(Qh||{}),Jh=function(e){return e.Draw="draw",e.Solid="solid",e.Dashed="dashed",e.Dotted="dotted",e}(Jh||{}),ev=function(e){return e.Start="start",e.Middle="middle",e.End="end",e.Justify="justify",e}(ev||{}),tv=function(e){return e.Script="script",e.Sans="sans",e.Serif="erif",e.Mono="mono",e}(tv||{});function nv(e,t){var n=e.version,r=void 0===n?0:n;"assets"in e||(e.assets={});var o=new Set;return Object.values(e.pages).forEach((function(e){return Object.values(e.shapes).forEach((function(t){var n=t.parentId,r=t.children,i=t.assetId;i&&o.add(i),n===e.id||e.shapes[n]||(console.warn("Encountered a shape with a missing parent!"),t.parentId=e.id),r&&r.forEach((function(n){e.shapes[n]||(console.warn("Encountered a parent with a missing child!",t.id,n),null==r||r.splice(r.indexOf(n),1))}))}))})),Object.keys(e.assets).forEach((function(t){o.has(t)||delete e.assets[t]})),r===t||(r<14&&Object.values(e.pages).forEach((function(e){Object.values(e.shapes).filter((function(e){return"text"===e.type})).forEach((function(e){return"script"===e.style.font}))})),r<=13&&Object.values(e.pages).forEach((function(e){Object.values(e.bindings).forEach((function(e){Object.assign(e,e.meta)})),Object.values(e.shapes).forEach((function(e){Object.entries(e.style).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];"string"===typeof i&&(e.style[r]=i.toLowerCase())})),"arrow"===e.type&&e.decorations&&Object.entries(e.decorations).forEach((function(t){var n=m(t,2),r=n[0];"Arrow"===n[1]&&(e.decorations=ch(uh({},e.decorations),i({},r,"arrow")))}))}))})),r<=13.1&&(e.name="New Document"),r<15&&(e.assets={}),Object.values(e.pages).forEach((function(e){Object.values(e.shapes).forEach((function(e){r<15.2&&("image"!==e.type&&"video"!==e.type||(e.style.isFilled=!0)),r<15.3&&("rectangle"!==e.type&&"triangle"!==e.type&&"ellipse"!==e.type&&"arrow"!==e.type||(e.label=e.text||"",e.labelPoint=[.5,.5]))}))})),Object.values(e.pageStates).forEach((function(t){t.selectedIds=t.selectedIds.filter((function(n){return void 0!==e.pages[t.id].shapes[n]})),t.bindingId=void 0,t.editingId=void 0,t.hoveredId=void 0,t.pointedId=void 0})),e.version=t),e}var rv="-0.03em",iv=16,ov=32,av=128,lv=.3,sv=[.5,.5],uv=(Math.PI,{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return e<=0?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return e>=1?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}}),cv=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],dv="undefined"!==typeof Window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),fv=[".png",".svg",".jpg",".jpeg",".gif"],pv=dv?[]:[".mp4",".webm"],hv={mode:"readwrite"},vv=function(e){return vh(void 0,null,k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.queryPermission(hv);case 2:if(t.t1=t.sent,t.t0="granted"===t.t1,t.t0){t.next=9;break}return t.next=7,e.requestPermission(hv);case 7:t.t2=t.sent,t.t0="granted"===t.t2;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})))};function gv(e){return vh(this,null,k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Pi("Tldraw_file_handle_".concat(window.location.origin),e));case 1:case"end":return t.stop()}}),t)})))}function mv(e,t){return vh(this,null,k().mark((function n(){var r,i,o,a,l,s;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={name:e.name||"New Document",fileHandle:null!=t?t:null,document:e,assets:{}},i=JSON.stringify(r,null,2),o=new Blob([i],{type:"application/vnd.Tldraw+json"}),!t){n.next=9;break}return n.next=6,vv(t);case 6:if(n.sent){n.next=9;break}return n.abrupt("return",null);case 9:return n.next=11,Promise.resolve().then((function(){return Xh(),Yh}));case 11:return a=n.sent,l=a.fileSave,n.next=15,l(o,{fileName:"".concat(r.name,".tldr"),description:"Tldraw File",extensions:[".tldr"]},t);case 15:return s=n.sent,n.next=18,gv(s);case 18:return n.abrupt("return",s);case 19:case"end":return n.stop()}}),n)})))}function yv(){return vh(this,null,k().mark((function e(){var t,n,r,i,o,a,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Xh(),Yh}));case 2:return n=e.sent,r=n.fileOpen,e.next=6,r({description:"Tldraw File",extensions:[".tldr"],multiple:!1});case 6:if(i=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,new Promise((function(e){var t=new FileReader;t.onloadend=function(){t.readyState===FileReader.DONE&&e(t.result)},t.readAsText(i,"utf8")}));case 11:return o=e.sent,a=JSON.parse(o),l=null!=(t=i.handle)?t:null,e.next=16,gv(l);case 16:return e.abrupt("return",{fileHandle:l,document:a.document});case 17:case"end":return e.stop()}}),e)})))}function bv(){return vh(this,null,k().mark((function e(){var t,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Xh(),Yh}));case 2:return t=e.sent,n=t.fileOpen,e.abrupt("return",n({description:"Image or Video",extensions:[].concat(fv,pv),multiple:!1}));case 5:case"end":return e.stop()}}),e)})))}function wv(e){return new Promise((function(t,n){if(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.onabort=function(e){return n(e)}}}))}function kv(e){return new Promise((function(t,n){if(e){var r=new FileReader;r.readAsText(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.onabort=function(e){return n(e)}}}))}function Sv(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t([r.width,r.height])},r.onerror=function(){return n(new Error("Could not get image size"))},r.src=e}))}function Cv(e){return new Promise((function(t,n){var r=document.createElement("video");r.onloadedmetadata=function(){return t([r.videoWidth,r.videoHeight])},r.onerror=function(){return n(new Error("Could not get video size"))},r.src=e}))}Xh();var Ev="#fafafa",xv="#343d45",Iv=(i(Ep={},"white","#f0f1f3"),i(Ep,"lightGray","#c6cbd1"),i(Ep,"gray","#788492"),i(Ep,"black","#1d1d1d"),i(Ep,"green","#36b24d"),i(Ep,"cyan","#0e98ad"),i(Ep,"blue","#1c7ed6"),i(Ep,"indigo","#4263eb"),i(Ep,"violet","#7746f1"),i(Ep,"red","#ff2133"),i(Ep,"orange","#ff9433"),i(Ep,"yellow","#ffc936"),Ep),Pv={light:ch(uh({},Object.fromEntries(Object.entries(Iv).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,bn.lerpColor(r,Ev,.45)]})))),(xp={},i(xp,"white","#ffffff"),i(xp,"black","#3d3d3d"),xp)),dark:ch(uh({},Object.fromEntries(Object.entries(Iv).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,bn.lerpColor(bn.lerpColor(r,"#999999",.3),xv,.4)]})))),(Ip={},i(Ip,"white","#1d1d1d"),i(Ip,"black","#bbbbbb"),Ip))},_v={light:ch(uh({},Iv),i({},"white","#1d1d1d")),dark:ch(uh({},Object.fromEntries(Object.entries(Iv).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,bn.lerpColor(r,xv,.1)]})))),(Pp={},i(Pp,"white","#cecece"),i(Pp,"black","#cecece"),Pp))},Mv={light:ch(uh({},Object.fromEntries(Object.entries(Iv).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,bn.lerpColor(r,Ev,.82)]})))),i({},"white","#fefefe")),dark:ch(uh({},Object.fromEntries(Object.entries(Iv).map((function(e){var t=m(e,2),n=t[0],r=t[1];return[n,bn.lerpColor(r,xv,.82)]})))),(_p={},i(_p,"white","rgb(30,33,37)"),i(_p,"black","#1e1e1f"),_p))},Dv=(i(Mp={},"small",2),i(Mp,"medium",3.5),i(Mp,"large",5),Mp),Tv=(i(Dp={},"small",28),i(Dp,"medium",48),i(Dp,"large",96),i(Dp,"auto","auto"),Dp),Ov=(i(Tp={},"script",'"Caveat Brush"'),i(Tp,"sans",'"Source Sans Pro"'),i(Tp,"erif",'"Crimson Pro"'),i(Tp,"mono",'"Source Code Pro"'),Tp),Rv=(i(Op={},"script",1),i(Op,"sans",1),i(Op,"erif",1),i(Op,"mono",1),Op),Lv=(i(Rp={},"small",24),i(Rp,"medium",36),i(Rp,"large",48),i(Rp,"auto","auto"),Rp);function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";return Tv[e]*Rv[t]}function Av(){return Ov[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"script"]}function jv(e){var t=Bv(e.size,e.font),n=Av(e.font),r=e.scale;return"".concat(t*(void 0===r?1:r),"px/1 ").concat(n)}function zv(e){var t,n=(t=e.size,Lv[t]),r=Av(e.font),i=e.scale;return"".concat(n*(void 0===i?1:i),"px/1 ").concat(r)}function Hv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.color,r=t?"dark":"light",i="white"===n||"black"===n?"yellow":n;return{fill:Pv[r][i],stroke:_v[r][i],color:t?"#1d1d1d":"#0d0d0d"}}function Fv(e,t){var n=e.color,r=e.size,i=e.isFilled,o=function(e){return Dv[e]}(r),a=t?"dark":"light";return{stroke:_v[a][n],fill:i?Mv[a][n]:"none",strokeWidth:o}}var Nv,Uv={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},Kv=ch(uh({},Uv),{font:"script",textAlign:"middle"}),Vv=(i(Lp={},"start","left"),i(Lp,"middle","center"),i(Lp,"end","right"),i(Lp,"justify","justify"),Lp);function Wv(){return Vv[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start"]}function Yv(e,t,n){var r=Bv(t.size,t.font),i=document.createElementNS("http://www.w3.org/2000/svg","g"),o=e.split("\n").map((function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.textContent=e,n.setAttribute("y",1.3*r*(.5+t)+""),i.appendChild(n),n}));switch(i.setAttribute("font-size",r+""),i.setAttribute("font-family",Av(t.font).slice(1,-1)),i.setAttribute("text-align",Wv(t.textAlign)),t.textAlign){case"middle":i.setAttribute("text-align","center"),i.setAttribute("text-anchor","middle"),o.forEach((function(e){return e.setAttribute("x",n.width/2+"")}));break;case"end":i.setAttribute("text-align","right"),i.setAttribute("text-anchor","end"),o.forEach((function(e){return e.setAttribute("x",n.width+"")}));break;case"start":i.setAttribute("text-anchor","start"),i.setAttribute("alignment-baseline","central")}return i}"undefined"!==typeof window&&(Nv=function(){var e;null==(e=document.getElementById("__textLabelMeasure"))||e.remove();var t=document.createElement("pre");return t.id="__textLabelMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:rv,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}());var Xv="",$v="",Zv=[0,0];function Gv(e,t){if(!e)return[16,32];if(!Nv)return[10,10];if(Nv.parent||document.body.appendChild(Nv),e===Xv&&t===$v)return Zv;Xv=e,$v=t,Nv.textContent=e,Nv.style.font=t;var n=Nv.offsetWidth||1,r=Nv.offsetHeight||1;return Zv=[n,r]}function qv(e,t){var n=bn.getFromCache(t,e,(function(){var t=m(e.size,2),n=t[0],r=t[1];return{minX:0,maxX:n,minY:0,maxY:r,width:n,height:r}}));return bn.translateBounds(n,e.point)}function Qv(e,t,n){var r=n.initialShape,i=n.transformOrigin,o=n.scaleX,a=n.scaleY;return e.rotation||r.isAspectRatioLocked?{size:D.toFixed(D.mul(r.size,Math.min(Math.abs(o),Math.abs(a)))),point:D.toFixed([t.minX+(t.width-e.size[0])*(o<0?1-i[0]:i[0]),t.minY+(t.height-e.size[1])*(a<0?1-i[1]:i[1])]),rotation:o<0&&a>=0||a<0&&o>=0?r.rotation?-r.rotation:0:r.rotation}:{point:D.toFixed([t.minX,t.minY]),size:D.toFixed([t.width,t.height])}}function Jv(e,t){return{size:D.toFixed([t.width,t.height]),point:D.toFixed([t.minX,t.minY])}}var eg=function(){function e(){w(this,e)}return b(e,null,[{key:"insertTextFirefox",value:function(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}},{key:"insert",value:function(t,n){var r=t.ownerDocument,i=r.activeElement;i!==t&&t.focus(),r.execCommand("insertText",!1,n)||e.insertTextFirefox(t,n),i===r.body?t.blur():i instanceof HTMLElement&&i!==t&&i.focus()}},{key:"set",value:function(t,n){t.select(),e.insert(t,n)}},{key:"getSelection",value:function(e){var t=e.selectionStart,n=e.selectionEnd;return e.value.slice(t||void 0,n||void 0)}},{key:"wrapSelection",value:function(t,n,r){var i=t.selectionStart,o=t.selectionEnd,a=e.getSelection(t);e.insert(t,n+a+(null!=r?r:n)),t.selectionStart=(i||0)+n.length,t.selectionEnd=(o||0)+n.length}},{key:"replace",value:function(t,n,r){var i=0;t.value.replace(n,(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i+o[o.length-2],s=o[0].length;t.selectionStart=l,t.selectionEnd=l+s;var u="string"===typeof r?r:r.apply(void 0,o);return e.insert(t,u),t.selectionStart=l,i+=u.length-s,u}))}},{key:"findLineEnd",value:function(e,t){var n=e.lastIndexOf("\n",t-1)+1;return"\t"!==e.charAt(n)?t:n+1}},{key:"indent",value:function(t){var n,r=t.selectionStart,i=t.selectionEnd,o=t.value,a=o.slice(r,i),l=null==(n=/\n/g.exec(a))?void 0:n.length;if(l&&l>0){var s=o.lastIndexOf("\n",r-1)+1,u=t.value.slice(s,i-1),c=u.replace(/^|\n/g,"$&".concat("  ")),d=c.length-u.length;t.setSelectionRange(s,i-1),e.insert(t,c),t.setSelectionRange(r+1,i+d)}else e.insert(t,"  ")}},{key:"unindent",value:function(t){var n=t.selectionStart,r=t.selectionEnd,i=t.value,o=i.lastIndexOf("\n",n-1)+1,a=e.findLineEnd(i,r),l=t.value.slice(o,a),s=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),u=l.length-s.length;t.setSelectionRange(o,a),e.insert(t,s);var c=/\t| {1,2}/.exec(i.slice(o,n)),d=c?c[0].length:0,f=n-d;t.setSelectionRange(n-d,Math.max(f,r-u))}}]),e}(),tg=function(e){return e.stopPropagation()};function ng(e){return E.useCallback((function(t){switch(t.metaKey&&t.stopPropagation(),t.key){case"Meta":t.stopPropagation();break;case"z":t.metaKey&&(t.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),t.preventDefault());break;case"Escape":t.currentTarget.blur();break;case"Enter":(t.ctrlKey||t.metaKey)&&t.currentTarget.blur();break;case"Tab":t.preventDefault(),t.shiftKey?eg.unindent(t.currentTarget):eg.indent(t.currentTarget),e(Lm.normalizeText(t.currentTarget.value))}}),[e])}var rg=E.memo((function(e){var t=e.font,n=e.text,r=e.color,i=e.offsetX,o=void 0===i?0:i,a=e.offsetY,l=void 0===a?0:a,s=e.scale,u=void 0===s?1:s,c=e.isEditing,d=void 0!==c&&c,f=e.onBlur,p=e.onChange,h=E.useRef(null),v=E.useRef(!1),g=E.useRef(n),m=E.useCallback((function(e){g.current=Lm.normalizeText(e.currentTarget.value),p(g.current)}),[p]),y=ng(p),b=E.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==f||f()}),[f]),w=E.useCallback((function(e){d&&v.current&&document.activeElement===e.currentTarget&&e.currentTarget.select()}),[d]),k=E.useCallback((function(e){d&&e.stopPropagation()}),[d]);E.useEffect((function(){d?(g.current=n,requestAnimationFrame((function(){v.current=!0;var e=h.current;e&&(e.focus(),e.select())}))):null==f||f()}),[d,f]);var S=E.useRef(null);return E.useLayoutEffect((function(){var e=S.current;if(e){var r=Gv(n,t);e.style.transform="scale(".concat(u,", ").concat(u,") translate(").concat(o,"px, ").concat(l,"px)"),e.style.width=r[0]+1+"px",e.style.height=r[1]+1+"px"}}),[n,t,l,o,u]),E.createElement(ig,null,E.createElement(ag,{ref:S,hasText:!!n,isEditing:d,style:{font:t,color:r}},d?E.createElement(lg,{ref:h,style:{font:t,color:r},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:g.current,color:r,onFocus:w,onChange:m,onKeyDown:y,onBlur:b,onPointerDown:k,onContextMenu:tg}):n,"\u200b"))})),ig=Zh("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:lv}}}}),og={whiteSpace:"pre-wrap",overflowWrap:"break-word"},ag=Zh("div",uh({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:rv,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},og)),lg=Zh("textarea",uh({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},og)),sg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"canBind",!1),hh(d(e),"canEdit",!1),hh(d(e),"canClone",!1),hh(d(e),"isAspectRatioLocked",!1),hh(d(e),"hideResizeHandles",!1),hh(d(e),"bindingDistance",iv),hh(d(e),"hitTestPoint",(function(t,n){return bn.pointInBounds(n,e.getRotatedBounds(t))})),hh(d(e),"hitTestLineSegment",(function(t,n,r){var i=bn.getBoundsFromPoints([n,r]),o=e.getBounds(t);return bn.boundsContain(o,i)||t.rotation?Ut(n,r,bn.getRotatedCorners(e.getBounds(t))).didIntersect:Nt(n,r,e.getBounds(t)).length>0})),hh(d(e),"create",(function(t){return e.refMap.set(t.id,E.createRef()),e.getShape(t)})),hh(d(e),"getCenter",(function(t){return bn.getBoundsCenter(e.getBounds(t))})),hh(d(e),"getExpandedBounds",(function(t){return bn.expandBounds(e.getBounds(t),e.bindingDistance)})),hh(d(e),"getBindingPoint",(function(t,n,r,i,o,a){var l=e.getBounds(t),s=e.getExpandedBounds(t);if(bn.pointInBounds(r,s)){var u=At(i,o,s).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]}));if(u.length){var c,d,f=e.getCenter(t),p=u.sort((function(e,t){return M.dist(t,i)-M.dist(e,i)}))[0],h=M.med(r,p);a?(c=M.dist(r,f)<8?f:r,d=0):(c=M.distanceToLineSegment(r,h,f)<8?f:h,d=bn.pointInBounds(r,l)?e.bindingDistance:Math.max(e.bindingDistance,bn.getBoundsSides(l).map((function(e){return M.distanceToLineSegment(e[1][0],e[1][1],r)})).sort((function(e,t){return e-t}))[0]));var v=M.divV(M.sub(c,[s.minX,s.minY]),[s.width,s.height]);return{point:M.clampV(v,0,1),distance:d}}}})),hh(d(e),"mutate",(function(e,t){return t})),hh(d(e),"transform",(function(e,t,n){return ch(uh({},e),{point:[t.minX,t.minY]})})),hh(d(e),"transformSingle",(function(t,n,r){return e.transform(t,n,r)})),hh(d(e),"updateChildren"),hh(d(e),"onChildrenChange"),hh(d(e),"onHandleChange"),hh(d(e),"onRightPointHandle"),hh(d(e),"onDoubleClickHandle"),hh(d(e),"onDoubleClickBoundsHandle"),hh(d(e),"onSessionComplete"),hh(d(e),"getSvgElement",(function(t){var n,r=null==(n=document.getElementById(t.id+"_svg"))?void 0:n.cloneNode(!0);if(r){if("label"in t&&void 0!==t.label){var i=t,o=document.createElementNS("http://www.w3.org/2000/svg","g"),a=e.getBounds(t),l=Yv(i.label,t.style,a);l.setAttribute("fill",Fv(t.style).stroke);var s=jv(t.style),u=Gv(i.label,s);return l.setAttribute("transform-origin","top left"),l.setAttribute("transform","translate(".concat((a.width-u[0])/2,", ").concat((a.height-u[1])/2,")")),o.appendChild(r),o.appendChild(l),o}return r}})),e}return b(n)}(Sr);function ug(e,t,n){var r=function(e,t,n){var r=Fv(t),i=bn.rng(e),o=r.strokeWidth,a=Math.max(0,n[0]),l=Math.max(0,n[1]),s=Array.from(Array(4)).map((function(){return[i()*o*.75,i()*o*.75]})),u=D.add([o/2,o/2],s[0]),c=D.add([a-o/2,o/2],s[1]),d=D.add([a-o/2,l-o/2],s[2]),f=D.add([o/2,l-o/2],s[3]),p=Math.round(Math.abs(2*i()*4)),h=Math.min(a/2,2*o),v=Math.min(l/2,2*o),g=Math.max(8,Math.floor(a/16)),m=Math.max(8,Math.floor(l/16)),y=bn.rotateArray([D.pointsBetween(D.add(u,[h,0]),D.sub(c,[h,0]),g),D.pointsBetween(D.add(c,[0,v]),D.sub(d,[0,v]),m),D.pointsBetween(D.sub(d,[h,0]),D.add(f,[h,0]),g),D.pointsBetween(D.sub(f,[0,v]),D.add(u,[0,v]),m)],p);return{points:[].concat(S(y.flat()),S(y[0])).slice(5,Math.floor((p%2===0?g:m)/-2)+3)}}(e,t,n);return{points:r.points,options:{size:Fv(t).strokeWidth,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function cg(e,t,n){var r=ug(e,t,n),i=mt(r.points,r.options);return bn.getSvgPathFromStroke(i.map((function(e){return e.point.slice(0,2)})),!1)}var dg=E.memo((function(e){var t=e.id,n=e.style,r=e.size,i=e.isSelected,o=e.isDarkMode,a=n.isFilled,l=Fv(n,o),s=l.stroke,u=l.strokeWidth,c=l.fill,d=function(e,t,n){var r=ug(e,t,n),i=r.points,o=r.options,a=kt(i,o);return bn.getSvgPathFromStroke(a)}(t,n,r),f=cg(t,n,r);return E.createElement(E.Fragment,null,E.createElement("path",{className:n.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",d:f}),a&&E.createElement("path",{d:f,fill:c,pointerEvents:"none"}),E.createElement("path",{d:d,fill:s,stroke:s,strokeWidth:u,pointerEvents:"none"}))})),fg=E.memo((function(e){var t=e.id,n=e.style,r=e.size,i=e.isSelected,o=e.isDarkMode,a=Fv(n,o),l=a.stroke,s=a.strokeWidth,u=a.fill,c=1+1.618*s,d=Math.max(0,r[0]-c/2),f=Math.max(0,r[1]-c/2),p=[[[c/2,c/2],[d,c/2],d-c/2],[[d,c/2],[d,f],f-c/2],[[d,f],[c/2,f],d-c/2],[[c/2,f],[c/2,c/2],f-c/2]].map((function(e,r){var i=m(e,3),o=i[0],a=i[1],l=i[2],u=bn.getPerfectDashProps(l,1.618*s,n.dash),c=u.strokeDasharray,d=u.strokeDashoffset;return E.createElement("line",{key:t+"_"+r,x1:o[0],y1:o[1],x2:a[0],y2:a[1],strokeDasharray:c,strokeDashoffset:d})}));return E.createElement(E.Fragment,null,E.createElement("rect",{className:i||n.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:c/2,y:c/2,width:d,height:f,strokeWidth:iv}),n.isFilled&&E.createElement("rect",{x:c/2,y:c/2,width:d,height:f,fill:u,pointerEvents:"none"}),E.createElement("g",{pointerEvents:"none",stroke:l,strokeWidth:c,strokeLinecap:"round"},p))}));function pg(e){var t=e.strokeWidth,n=e.size;return E.createElement("rect",{className:"tl-binding-indicator",x:t,y:t,width:Math.max(0,n[0]-t/2),height:Math.max(0,n[1]-t/2),strokeWidth:32})}var hg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","rectangle"),hh(d(e),"canBind",!0),hh(d(e),"canClone",!0),hh(d(e),"canEdit",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Uv,label:"",labelPoint:[.5,.5]},e)})),hh(d(e),"Component",sg.Component((function(e,t){var n=e.shape,r=e.isEditing,i=e.isBinding,o=e.isSelected,a=e.isGhost,l=e.meta,s=e.bounds,u=e.events,c=e.onShapeBlur,d=e.onShapeChange,f=n.id,p=n.size,h=n.style,v=n.label,g=void 0===v?"":v,m=n.labelPoint,y=void 0===m?sv:m,b=jv(h),w=Fv(h,l.isDarkMode),k="draw"===h.dash?dg:fg,S=E.useCallback((function(e){return null==d?void 0:d({id:f,label:e})}),[d]);return E.createElement(vg,uh({ref:t},u),E.createElement(rg,{isEditing:r,onChange:S,onBlur:c,font:b,text:g,color:w.stroke,offsetX:(y[0]-.5)*s.width,offsetY:(y[1]-.5)*s.height}),E.createElement(Wn,{id:n.id+"_svg",opacity:a?lv:1},i&&E.createElement(pg,{strokeWidth:w.strokeWidth,size:p}),E.createElement(k,{id:f,style:h,size:p,isSelected:o,isDarkMode:l.isDarkMode})))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=e.shape,n=t.id,r=t.style,i=t.size,o=Fv(r,!1).strokeWidth;return"draw"===r.dash?E.createElement("path",{d:cg(n,r,i)}):E.createElement("rect",{x:o,y:o,rx:1,ry:1,width:Math.max(1,i[0]-2*o),height:Math.max(1,i[1]-2*o)})}))),hh(d(e),"getBounds",(function(t){return qv(t,e.boundsCache)})),hh(d(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.label!==e.label})),hh(d(e),"transform",Qv),hh(d(e),"transformSingle",Jv),e}return b(n)}(sg),vg=Zh("div",{width:"100%",height:"100%"}),gg=2*Math.PI,mg=function(){function e(){w(this,e)}return b(e,null,[{key:"inwardEdgeNormal",value:function(e){var t=D.sub(e[1],e[0]),n=D.len2(t);return[-t[0]/n,t[1]/n]}},{key:"outwardEdgeNormal",value:function(t){return D.neg(e.inwardEdgeNormal(t))}},{key:"isReflexVertex",value:function(t,n){var r=t.length,i=t[(n+r-1)%r],o=t[n],a=t[(n+1)%r];return e.leftSide(i,a,o)<0}},{key:"getEdges",value:function(e){return e.map((function(t,n){return[t,e[(n+1)%e.length]]}))}},{key:"edgesIntersection",value:function(e,t){var n=m(e,2),r=n[0],i=n[1],o=m(t,2),a=o[0],l=o[1],s=(l[1]-a[1])*(i[0]-r[0])-(l[0]-a[0])*(i[1]-r[1]);if(0==s)return null;var u=((l[0]-a[0])*(r[1]-a[1])-(l[1]-a[1])*(r[0]-a[0]))/s,c=((i[0]-r[0])*(r[1]-a[1])-(i[1]-r[1])*(r[0]-a[0]))/s;return u<0||c<0||u>1||c>1?null:[r[0]+u*(i[0]-r[0]),r[1]+u*(i[1]-r[1])]}},{key:"appendArc",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=S(e),l=Math.atan2(r[1]-t[1],r[0]-t[0]),s=Math.atan2(i[1]-t[1],i[0]-t[0]);l<0&&(l+=gg),s<0&&(s+=gg);var u=l>s?l-s:l+gg-s,c=(o?-u:gg-u)/5;a.push(r);for(var d=1;d<5;++d){var f=l+c*d;a.push([t[0]+Math.cos(f)*n,t[1]+Math.sin(f)*n])}return a.push(i),a}},{key:"createOffsetEdge",value:function(e,t){return e.map((function(e){return D.add(e,t)}))}},{key:"getOffsetPolygon",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getEdges(t),i=r.map((function(t){return e.createOffsetEdge(t,D.mul(e.outwardEdgeNormal(t),n))})),o=[],a=0;a<i.length;a++){var l=i[a],s=i[(a+i.length-1)%i.length],u=e.edgesIntersection(s,l);u?o.push(u):e.appendArc(o,r[a][0],n,s[1],l[0],!1)}return o}},{key:"createPaddingPolygon",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.map((function(t){return e.createOffsetEdge(t,e.inwardEdgeNormal(t))})),i=[],o=0;o<r.length;o++){var a=r[o],l=r[(o+r.length-1)%r.length],s=e.edgesIntersection(l,a);s?i.push(s):e.appendArc(i,t[o][0],n,l[1],a[0],!0)}return i}}]),e}();function yg(e,t){if(e.length<3)throw Error("Polygon must have at least 3 points");var n=e.length;return e.map((function(t,r){return[t,e[(r+1)%n]]})).map((function(e){var n=m(e,2),r=n[0],i=n[1],o=D.mul(D.per(D.uni(D.sub(i,r))),t);return[D.add(r,o),D.add(i,o)]})).map((function(e,t,n){var r=function(e,t){var n=M.slope(e[0],e[1]),r=M.slope(t[0],t[1]);if(n!==r){if(Number.isNaN(n)&&!Number.isNaN(r))return[e[0][0],(e[0][0]-t[0][0])*r+t[0][1]];if(Number.isNaN(r)&&!Number.isNaN(n))return[t[0][0],(t[0][0]-e[0][0])*n+e[0][1]];var i=(n*e[0][0]-r*t[0][0]+t[0][1]-e[0][1])/(n-r);return[i,r*(i-t[0][0])+t[0][1]]}}(e,n[(t+1)%n.length]);if(void 0===r)throw Error("Expected an intersection");return r}))}function bg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=m(e,2),i=r[0],o=r[1],a=[[i/2,0],[i,o],[0,o]];return t&&(a=yg(a,t)),n&&(a=a.map((function(e){return D.rotWith(e,[i/2,o/2],n)}))),a}function wg(e){var t=m(e,2),n=t[0],r=t[1],i=[[n/2,0],[n,r],[0,r]];return[(i[0][0]+i[1][0]+i[2][0])/3,(i[0][1]+i[1][1]+i[2][1])/3]}function kg(e,t,n){var r=Fv(n).strokeWidth,i=function(e,t,n){var r=m(t,2),i=r[0],o=r[1],a=bn.rng(e),l=Array.from(Array(3)).map((function(){return[a()*n*.75,a()*n*.75]})),s=[D.add([i/2,0],l[0]),D.add([i,o],l[1]),D.add([0,o],l[2])],u=Math.round(Math.abs(2*a()*3)),c=bn.rotateArray([D.pointsBetween(s[0],s[1],32),D.pointsBetween(s[1],s[2],32),D.pointsBetween(s[2],s[0],32)],u);return{points:[].concat(S(c.flat()),S(c[0]))}}(e,t,r);return{points:i.points,options:{size:r,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}hh(mg,"leftSide",D.isLeft);var Sg=E.memo((function(e){var t=e.id,n=e.size,r=e.style,i=e.isSelected,o=Fv(r,e.isDarkMode),a=o.stroke,l=o.strokeWidth,s=o.fill,u=function(e,t,n){var r=kg(e,t,n),i=r.points,o=r.options,a=kt(i,o);return bn.getSvgPathFromStroke(a)}(t,n,r),c=function(e,t,n){var r=kg(e,t,n),i=mt(r.points,r.options);return bn.getSvgPathFromStroke(i.map((function(e){return e.point.slice(0,2)})),!1)}(t,n,r);return E.createElement(E.Fragment,null,E.createElement("path",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",d:c}),r.isFilled&&E.createElement("path",{d:c,fill:s,pointerEvents:"none"}),E.createElement("path",{d:u,fill:a,stroke:a,strokeWidth:l,pointerEvents:"none"}))})),Cg=E.memo((function(e){var t=e.id,n=e.size,r=e.style,i=e.isSelected,o=e.isDarkMode,a=Fv(r,o),l=a.stroke,s=a.strokeWidth,u=a.fill,c=1+1.618*s,d=bg(n),f=bn.pointsToLineSegments(d,!0).map((function(e,n){var i=m(e,2),o=i[0],a=i[1],u=bn.getPerfectDashProps(D.dist(o,a),1.618*s,r.dash),d=u.strokeDasharray,f=u.strokeDashoffset;return E.createElement("line",{key:t+"_"+n,x1:o[0],y1:o[1],x2:a[0],y2:a[1],stroke:l,strokeWidth:c,strokeLinecap:"round",strokeDasharray:d,strokeDashoffset:f})})),p=d.join();return E.createElement(E.Fragment,null,E.createElement("polygon",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",points:p}),r.isFilled&&E.createElement("polygon",{fill:u,points:p,pointerEvents:"none"}),E.createElement("g",{pointerEvents:"stroke"},f))}));function Eg(e){var t=bg(e.size).join();return E.createElement("polygon",{className:"tl-binding-indicator",points:t,strokeWidth:32})}var xg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","triangle"),hh(d(e),"canBind",!0),hh(d(e),"canClone",!0),hh(d(e),"canEdit",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Uv,label:"",labelPoint:[.5,.5]},e)})),hh(d(e),"Component",sg.Component((function(e,t){var n=e.shape,r=e.bounds,i=e.isBinding,o=e.isEditing,a=e.isSelected,l=e.isGhost,s=e.meta,u=e.events,c=e.onShapeChange,d=e.onShapeBlur,f=n.id,p=n.label,h=void 0===p?"":p,v=n.size,g=n.style,m=n.labelPoint,y=void 0===m?sv:m,b=jv(g),w=Fv(g,s.isDarkMode),k="draw"===g.dash?Sg:Cg,S=E.useCallback((function(e){return null==c?void 0:c({id:f,label:e})}),[c]),C=E.useMemo((function(){var e=D.div(v,2);return.72*(wg(v)[1]-e[1])}),[v]);return E.createElement(Ig,uh({ref:t},u),E.createElement(rg,{font:b,text:h,color:w.stroke,offsetX:(y[0]-.5)*r.width,offsetY:C+(y[1]-.5)*r.height,isEditing:o,onChange:S,onBlur:d}),E.createElement(Wn,{id:n.id+"_svg",opacity:l?lv:1},i&&E.createElement(Eg,{size:v}),E.createElement(k,{id:f,style:g,size:v,isSelected:a,isDarkMode:s.isDarkMode})))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=e.shape.size;return E.createElement("polygon",{points:bg(t).join()})}))),hh(d(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.label!==e.label})),hh(d(e),"getBounds",(function(t){return qv(t,e.boundsCache)})),hh(d(e),"getExpandedBounds",(function(t){return bn.getBoundsFromPoints(bg(t.size,e.bindingDistance).map((function(e){return D.add(e,t.point)})))})),hh(d(e),"hitTestLineSegment",(function(t,n,r){return Ut(n,r,e.getPoints(t)).didIntersect})),hh(d(e),"hitTestBounds",(function(t,n){return bn.boundsContained(e.getBounds(t),n)||function(e,t){return Qt(t,e)}(n,e.getPoints(t)).length>0})),hh(d(e),"getBindingPoint",(function(t,n,r,i,o,a){var l=e.getExpandedBounds(t);if(bn.pointInBounds(r,l)){var s=bg(t.size).map((function(e){return D.add(e,t.point)})),u=bg(t.size,e.bindingDistance).map((function(e){return D.add(e,t.point)})),c=bn.pointsToLineSegments(s,!0).map((function(e){var t=m(e,2),n=t[0],i=t[1];return D.distanceToLineSegment(n,i,r)})).sort((function(e,t){return e-t}))[0];if(bn.pointInPolygon(r,u)||c<e.bindingDistance){var d=bn.pointsToLineSegments(u.concat([u[0]])).map((function(e){return Rt(i,o,e[0],e[1])})).filter((function(e){return e.didIntersect})).flatMap((function(e){return e.points}));if(d.length){var f,p,h=D.add(wg(t.size),t.point),v=d.sort((function(e,t){return D.dist(t,i)-D.dist(e,i)}))[0],g=D.med(r,v);a?(f=D.dist(r,h)<8?h:r,p=0):(f=D.distanceToLineSegment(r,g,h)<8?h:g,p=bn.pointInPolygon(r,s)?e.bindingDistance:Math.max(e.bindingDistance,c));var y=D.divV(D.sub(f,[l.minX,l.minY]),[l.width,l.height]);return{point:D.clampV(y,0,1),distance:p}}}}})),hh(d(e),"transform",Qv),hh(d(e),"transformSingle",Jv),e}return b(n,[{key:"getPoints",value:function(e){var t=this,n=e.rotation,r=void 0===n?0:n,i=m(e.point,2),o=i[0],a=i[1],l=m(e.size,2),s=l[0],u=l[1];return[[o+s/2,a],[o,a+u],[o+s,a+u]].map((function(n){return D.rotWith(n,t.getCenter(e),r)}))}}]),n}(sg),Ig=Zh("div",{width:"100%",height:"100%"});function Pg(e,t,n){for(var r=Fv(n).strokeWidth,i=bn.rng(e),o=t[0]+i()*r*2,a=t[1]+i()*r*2,l=bn.perimeterOfEllipse(o,a),s=[],u=Math.PI+Math.PI*i(),c=Math.abs(i()),d=Math.max(16,l/10),f=0;f<d;f++){var p=uv.easeInOutSine(f/(d+1)),h=2*u+Math.PI*(2+c)*p,v=Math.cos(h),g=Math.sin(h);s.push([o*v+t[0],a*g+t[1],p+.5+i()/2])}return mt(s,{size:1+2*r,thinning:.618,end:{taper:l/8},start:{taper:l/12},streamline:0,simulatePressure:!0})}function _g(e,t,n){return bn.getSvgPathFromStroke(Pg(e,t,n).map((function(e){return e.point.slice(0,2)})),!1)}var Mg=E.memo((function(e){var t=e.id,n=e.radius,r=e.style,i=e.isSelected,o=Fv(r,e.isDarkMode),a=o.stroke,l=o.strokeWidth,s=o.fill,u=function(e,t,n){var r=Fv(n).strokeWidth,i=bn.rng(e),o=t[0]+i()*r*2,a=t[1]+i()*r*2,l=bn.perimeterOfEllipse(o,a);return bn.getSvgPathFromStroke(gt(Pg(e,t,n),{size:2+2*r,thinning:.618,end:{taper:l/8},start:{taper:l/12},streamline:0,simulatePressure:!0}))}(t,n,r);return E.createElement(E.Fragment,null,E.createElement("ellipse",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",cx:n[0],cy:n[1],rx:n[0],ry:n[1]}),r.isFilled&&E.createElement("path",{d:_g(t,n,r),stroke:"none",fill:s,pointerEvents:"none"}),E.createElement("path",{d:u,fill:a,stroke:a,strokeWidth:l,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))})),Dg=E.memo((function(e){var t=e.radius,n=e.style,r=e.isSelected,i=Fv(n,e.isDarkMode),o=i.stroke,a=i.strokeWidth,l=i.fill,s=1+1.618*a,u=Math.max(0,t[0]-s/2),c=Math.max(0,t[1]-s/2),d=bn.perimeterOfEllipse(u,c),f=bn.getPerfectDashProps(d<64?2*d:d,1.618*a,n.dash,4),p=f.strokeDasharray,h=f.strokeDashoffset;return E.createElement(E.Fragment,null,E.createElement("ellipse",{className:n.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),E.createElement("ellipse",{cx:t[0],cy:t[1],rx:u,ry:c,fill:l,stroke:o,strokeWidth:s,strokeDasharray:p,strokeDashoffset:h,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))})),Tg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","ellipse"),hh(d(e),"canBind",!0),hh(d(e),"canClone",!0),hh(d(e),"canEdit",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:Uv,label:"",labelPoint:[.5,.5]},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.isGhost,o=t.isSelected,a=t.isBinding,l=t.isEditing,s=t.meta,u=t.bounds,c=t.events,d=t.onShapeChange,f=t.onShapeBlur,p=r.id,h=r.radius,v=r.style,g=r.label,m=void 0===g?"":g,y=r.labelPoint,b=void 0===y?sv:y,w=jv(r.style),k=Fv(v,s.isDarkMode),S=1+1.618*k.strokeWidth,C=Math.max(0,h[0]-S/2),x=Math.max(0,h[1]-S/2),I="draw"===v.dash?Mg:Dg,P=E.useCallback((function(e){return null==d?void 0:d({id:p,label:e})}),[d]);return E.createElement(Og,uh({ref:n},c),E.createElement(rg,{isEditing:l,onChange:P,onBlur:f,font:w,text:m,color:k.stroke,offsetX:(b[0]-.5)*u.width,offsetY:(b[1]-.5)*u.height}),E.createElement(Wn,{id:r.id+"_svg",opacity:i?lv:1},a&&E.createElement("ellipse",{className:"tl-binding-indicator",cx:h[0],cy:h[1],rx:C,ry:x,strokeWidth:e.bindingDistance}),E.createElement(I,{id:p,radius:h,style:v,isSelected:o,isDarkMode:s.isDarkMode})))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=e.shape,n=t.id,r=t.radius,i=t.style,o=1+1.618*Fv(i).strokeWidth,a=Math.max(0,r[0]-o/2),l=Math.max(0,r[1]-o/2);return"draw"===i.dash?E.createElement("path",{d:_g(n,r,i)}):E.createElement("ellipse",{cx:r[0],cy:r[1],rx:a,ry:l})}))),hh(d(e),"hitTestPoint",(function(t,n){return bn.pointInBounds(n,e.getRotatedBounds(t))&&bn.pointInEllipse(n,e.getCenter(t),t.radius[0],t.radius[1],t.rotation||0)})),hh(d(e),"hitTestLineSegment",(function(t,n,r){return Ft(n,r,e.getCenter(t),t.radius[0],t.radius[1],t.rotation||0).didIntersect})),hh(d(e),"getBounds",(function(t){return bn.getFromCache(e.boundsCache,t,(function(){return bn.getRotatedEllipseBounds(t.point[0],t.point[1],t.radius[0],t.radius[1],0)}))})),hh(d(e),"getRotatedBounds",(function(e){return bn.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation)})),hh(d(e),"hitTestBounds",(function(t,n){var r=e.getBounds(t);return bn.boundsContained(r,n)||function(e,t,n,r,i){return Gt(e,t,n,r,[i.minX,i.minY],[i.width,i.height])}(e.getCenter(t),t.radius[0],t.radius[1],t.rotation||0,n).length>0})),hh(d(e),"shouldRender",(function(e,t){return t.radius!==e.radius||t.style!==e.style||t.label!==e.label})),hh(d(e),"getCenter",(function(e){return M.add(e.point,e.radius)})),hh(d(e),"getBindingPoint",(function(t,n,r,i,o,a){var l,s,u=e.getExpandedBounds(t),c=e.getCenter(t);if(bn.pointInEllipse(r,c,t.radius[0]+e.bindingDistance,t.radius[1]+e.bindingDistance)){if(a)l=M.dist(r,e.getCenter(t))<12?[.5,.5]:M.divV(M.sub(r,[u.minX,u.minY]),[u.width,u.height]),s=0;else{var d=Bt(i,o,c,t.radius[0],t.radius[1],t.rotation||0).points.sort((function(e,t){return M.dist(e,i)-M.dist(t,i)}))[0];if(d||(d=Ft(r,c,c,t.radius[0],t.radius[1],t.rotation||0).points.sort((function(e,t){return M.dist(e,r)-M.dist(t,r)}))[0]),!d)return;var f=M.med(r,d);if(l=M.distanceToLineSegment(r,f,e.getCenter(t))<12?[.5,.5]:M.divV(M.sub(f,[u.minX,u.minY]),[u.width,u.height]),bn.pointInEllipse(r,c,t.radius[0],t.radius[1],t.rotation||0))s=e.bindingDistance/2;else{var p=Ft(r,c,c,t.radius[0],t.radius[1],t.rotation||0).points[0];if(!p)return;s=Math.max(e.bindingDistance/2,M.dist(r,p))}}return{point:l,distance:s}}})),hh(d(e),"transform",(function(e,t,n){var r=n.scaleX,i=n.scaleY,o=n.initialShape.rotation,a=void 0===o?0:o;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:r<0&&i>=0||i<0&&r>=0?-(a||0):a||0}})),hh(d(e),"transformSingle",(function(e,t){return{point:M.toFixed([t.minX,t.minY]),radius:M.div([t.width,t.height],2)}})),e}return b(n)}(sg),Og=Zh("div",{width:"100%",height:"100%"});function Rg(e,t){var n=e.start,r=e.end,i=D.dist(n.point,r.point),o=D.med(n.point,r.point),a=i/2*t,l=D.uni(D.vec(n.point,r.point));return D.toFixed(Math.abs(a)<10?o:D.add(o,D.mul(D.per(l),a)))}function Lg(e,t,n){return bn.circleFromThreePoints(e,n,t)}function Bg(e,t,n,r,i){var o=function(e,t,n,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sqrt(i*i+o*o),l=(a*a-r*r+t*t)/(2*a),s=Math.sqrt(t*t-l*l);return i/=a,o/=a,Tt("intersection",[e[0]+i*l-o*s,e[1]+o*l+i*s],[e[0]+i*l+o*s,e[1]+o*l-i*s])}(e,.618*t,n,r).points;if(!o)return Lm.warn("Could not find an intersection for the arrow head."),{left:e,right:e};var a=i?o[0]:o[1];return{left:a?D.nudge(D.rotWith(a,e,Math.PI/6),e,-.382*t):e,right:a?D.nudge(D.rotWith(a,e,-Math.PI/6),e,-.382*t):e}}function Ag(e,t,n){var r=function(e,t,n,r){return Ht(n,r,e,t)}(e,n,e,t).points;if(!r)return Lm.warn("Could not find an intersection for the arrow head."),{left:e,right:e};var i=r[0];return{left:i?D.rotWith(i,e,Math.PI/6):e,right:i?D.rotWith(i,e,-Math.PI/6):e}}function jg(e,t,n,r,i){var o=Bg(e,t,n,r,i),a=o.left,l=o.right;return"M ".concat(a," L ").concat(e," ").concat(l)}function zg(e,t,n){var r=Ag(e,t,n),i=r.left,o=r.right;return"M ".concat(i," L ").concat(e," ").concat(o)}function Hg(e,t,n,r,i,o){var a=Fv(e,!1).strokeWidth,l=D.dist(t,r),s=Math.min(l/3,8*a),u=[];if(D.dist(n,D.toFixed(D.med(t,r)))<1)u.push("M ".concat(t," L ").concat(r)),i&&u.push(zg(t,r,s)),o&&u.push(zg(r,t,s));else{var c=Lg(t,n,r),d=[c[0],c[1]],f=c[2],p=Ng(d,f,t,r);u.push("M ".concat(t," A ").concat(f," ").concat(f," 0 0 ").concat(p>0?"1":"0"," ").concat(r)),i&&u.push(jg(t,s,d,f,p<0)),o&&u.push(jg(r,s,d,f,p>=0))}return u.join(" ")}function Fg(e,t,n){if(D.dist2(t,D.med(e,n))<=4)return[e,n];for(var r=[],i=Lg(e,t,n),o=[i[0],i[1]],a=i[2],l=D.angle(o,e),s=D.angle(o,n),u=.05;u<1;u+=.05){var c=bn.lerpAngles(l,s,u);r.push(D.nudgeAtAngle(o,c,a))}return r}function Ng(e,t,n,r){var i=bn.getSweep(e,n,r);return t*(2*Math.PI)*(i/(2*Math.PI))}function Ug(e){var t=e.left,n=e.middle,r=e.right,i=e.stroke,o=e.strokeWidth;return E.createElement("g",null,E.createElement("path",{className:"tl-stroke-hitarea",d:"M ".concat(t," L ").concat(n," ").concat(r)}),E.createElement("path",{d:"M ".concat(t," L ").concat(n," ").concat(r),fill:"none",stroke:i,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var Kg=E.memo((function(e){var t=e.id,n=e.style,r=e.start,i=e.end,o=e.decorationStart,a=e.decorationEnd,l=e.isDraw,s=e.isDarkMode,u=D.dist(r,i);if(u<2)return null;var c=Fv(n,s),d=c.strokeWidth,f=1+1.618*d,p=l?function(e,t,n,r,i,o){var a=bn.rng(e),l=Fv(t).strokeWidth,s=i?D.nudge(n,r,l):n,u=o?D.nudge(r,n,l):r,c=kt([s,u],{size:l,thinning:.618+.2*a(),easing:uv.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return bn.getSvgPathFromStroke(c)}(t,n,r,i,o,a):"M"+D.toFixed(r)+"L"+D.toFixed(i),h=bn.getPerfectDashProps(u,1.618*d,n.dash,2,!1),v=h.strokeDasharray,g=h.strokeDashoffset,m=Math.min(u/3,8*d),y=o?Ag(r,i,m):null,b=a?Ag(i,r,m):null;return E.createElement(E.Fragment,null,E.createElement("path",{className:"tl-stroke-hitarea",d:p}),E.createElement("path",{d:p,fill:c.stroke,stroke:c.stroke,strokeWidth:l?f/2:f,strokeDasharray:v,strokeDashoffset:g,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),y&&E.createElement(Ug,{left:y.left,middle:r,right:y.right,stroke:c.stroke,strokeWidth:f}),b&&E.createElement(Ug,{left:b.left,middle:i,right:b.right,stroke:c.stroke,strokeWidth:f}))})),Vg=E.memo((function(e){var t=e.id,n=e.style,r=e.start,i=e.bend,o=e.end,a=e.arrowBend,l=e.decorationStart,s=e.decorationEnd,u=e.isDraw,c=e.isDarkMode,d=D.dist(r,o);if(d<2)return null;var f=Fv(n,c),p=f.strokeWidth,h=1+1.618*p,v=Lg(r,i,o),g=[v[0],v[1]],m=v[2],y=Ng(g,m,r,o),b=bn.rng(t),w=uv[b()>0?"easeInOutSine":"easeInOutCubic"],k=u?function(e,t,n,r,i,o,a,l,s,u){for(var c=bn.rng(e),d=Fv(t).strokeWidth,f=i?D.rotWith(n,a,d/s):n,p=o?D.rotWith(r,a,-d/s):r,h=D.angle(a,f),v=D.angle(a,p),g=[],m=8+Math.floor(Math.abs(s)/20*1+c()/2),y=0;y<m;y++){var b=u(y/m),w=bn.lerpAngles(h,v,b);g.push(D.toFixed(D.nudgeAtAngle(a,w,l)))}var k=kt([f].concat(g,[p]),{size:1+d,thinning:.618+.2*c(),easing:uv.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return bn.getSvgPathFromStroke(k)}(t,n,r,o,l,s,g,m,y,w):function(e,t,n,r){return["M",e[0],e[1],"A",n[2],n[2],0,0,r<0?0:1,t[0],t[1]].join(" ")}(r,o,v,a),S=bn.getPerfectDashProps(Math.abs(y),h,n.dash,2,!1),C=S.strokeDasharray,x=S.strokeDashoffset,I=Math.min(d/3,8*p),P=l?Bg(r,I,g,m,y<0):null,_=s?Bg(o,I,g,m,y>=0):null;return E.createElement(E.Fragment,null,E.createElement("path",{className:"tl-stroke-hitarea",d:k}),E.createElement("path",{d:k,fill:u?f.stroke:"none",stroke:f.stroke,strokeWidth:u?0:h,strokeDasharray:C,strokeDashoffset:x,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),P&&E.createElement(Ug,{left:P.left,middle:r,right:P.right,stroke:f.stroke,strokeWidth:h}),_&&E.createElement(Ug,{left:_.left,middle:o,right:_.right,stroke:f.stroke,strokeWidth:h}))}));function Wg(e){var t=e.id,n=e.bounds,r=e.labelSize,i=e.offset,o=e.scale,a=void 0===o?1:o;return E.createElement("defs",null,E.createElement("mask",{id:t+"_clip"},E.createElement("rect",{x:-100,y:-100,width:n.width+200,height:n.height+200,fill:"white"}),E.createElement("rect",{x:n.width/2-r[0]/2*a+((null==i?void 0:i[0])||0),y:n.height/2-r[1]/2*a+((null==i?void 0:i[1])||0),width:r[0]*a,height:r[1]*a,rx:4*a,ry:4*a,fill:"black",opacity:Math.max(a,.8)})))}var Yg,Xg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","arrow"),hh(d(e),"hideBounds",!0),hh(d(e),"canEdit",!0),hh(d(e),"pathCache",new WeakMap),hh(d(e),"getShape",(function(e){var t,n,r,i;return uh({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:uh({id:"start",index:0,point:[0,0],canBind:!0},null==(t=e.handles)?void 0:t.start),end:uh({id:"end",index:1,point:[1,1],canBind:!0},null==(n=e.handles)?void 0:n.end),bend:uh({id:"bend",index:2,point:[.5,.5]},null==(r=e.handles)?void 0:r.bend)},decorations:null!=(i=e.decorations)?i:{end:"arrow"},style:uh(ch(uh({},Uv),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.isEditing,o=t.isGhost,a=t.meta,l=t.events,s=t.onShapeChange,u=t.onShapeBlur,c=r.id,d=r.label,f=void 0===d?"":d,p=r.handles,h=p.start,v=p.bend,g=p.end,m=r.decorations,y=void 0===m?{}:m,b=r.style,w=M.dist(v.point,M.toFixed(M.med(h.point,g.point)))<1,k=jv(b),S=Fv(b,a.isDarkMode),C=f||i?Gv(f,k):[0,0],x=e.getBounds(r),I=E.useMemo((function(){var e=r.handles,t=e.start,n=e.bend,i=e.end;if(w)return M.dist(t.point,i.point);var o=Lg(t.point,n.point,i.point),a=Ng(o.slice(0,2),o[2],t.point,i.point);return Math.abs(a)}),[r.handles]),P=Math.max(.5,Math.min(1,Math.max(I/(C[1]+128),I/(C[0]+128)))),_=E.useMemo((function(){var t=e.getBounds(r);return M.sub(r.handles.bend.point,M.toFixed([t.width/2,t.height/2]))}),[r,P]),D=E.useCallback((function(e){null==s||s({id:c,label:e})}),[s]),T=w?Kg:Vg;return E.createElement($g,uh({ref:n},l),E.createElement(rg,{font:k,text:f,color:S.stroke,offsetX:_[0],offsetY:_[1],scale:P,isEditing:i,onChange:D,onBlur:u}),E.createElement(Wn,{id:r.id+"_svg"},E.createElement("defs",null,E.createElement("mask",{id:r.id+"_clip"},E.createElement("rect",{x:-100,y:-100,width:x.width+200,height:x.height+200,fill:"white"}),E.createElement("rect",{x:x.width/2-C[0]/2*P+_[0],y:x.height/2-C[1]/2*P+_[1],width:C[0]*P,height:C[1]*P,rx:4*P,ry:4*P,fill:"black",opacity:1}))),E.createElement("g",{pointerEvents:"none",opacity:o?lv:1,mask:f||i?"url(#".concat(r.id,"_clip)"):""},E.createElement(T,{id:c,style:b,start:h.point,end:g.point,bend:v.point,arrowBend:r.bend,decorationStart:null==y?void 0:y.start,decorationEnd:null==y?void 0:y.end,isDraw:"draw"===b.dash,isDarkMode:a.isDarkMode}))))}))),hh(d(e),"Indicator",sg.Indicator((function(t){var n=t.shape,r=t.bounds,i=n.style,o=n.decorations,a=n.label,l=n.handles,s=l.start,u=l.bend,c=l.end,d=jv(i),f=a?Gv(a,d):[0,0],p=M.dist(u.point,M.toFixed(M.med(s.point,c.point)))<1,h=E.useMemo((function(){var e=n.handles,t=e.start,r=e.bend,i=e.end;if(p)return M.dist(t.point,i.point);var o=Lg(t.point,r.point,i.point),a=Ng(o.slice(0,2),o[2],t.point,i.point);return Math.abs(a)}),[n.handles]),v=Math.max(.5,Math.min(1,Math.max(h/(f[1]+128),h/(f[0]+128)))),g=E.useMemo((function(){var t=e.getBounds(n);return M.sub(n.handles.bend.point,[t.width/2,t.height/2])}),[n,v]);return E.createElement(E.Fragment,null,E.createElement(Wg,{id:n.id,scale:v,offset:g,bounds:r,labelSize:f}),E.createElement("path",{d:Hg(i,s.point,u.point,c.point,null==o?void 0:o.start,null==o?void 0:o.end),mask:a?"url(#".concat(n.id,"_clip)"):""}),a&&E.createElement("rect",{x:r.width/2-f[0]/2*v+g[0],y:r.height/2-f[1]/2*v+g[1],width:f[0]*v,height:f[1]*v,rx:4*v,ry:4*v,fill:"transparent"}))}))),hh(d(e),"getBounds",(function(t){var n=bn.getFromCache(e.boundsCache,t,(function(){var e=t.handles,n=e.start,r=e.bend,i=e.end;return bn.getBoundsFromPoints(Fg(n.point,r.point,i.point))}));return bn.translateBounds(n,t.point)})),hh(d(e),"getRotatedBounds",(function(e){var t=e.handles,n=t.start,r=t.bend,i=t.end,o=Fg(n.point,r.point,i.point),a=bn.getBoundsFromPoints(o),l=a.minX,s=a.minY,u=a.maxX,c=a.maxY;return 0!==e.rotation&&(o=o.map((function(t){return M.rotWith(t,[(l+u)/2,(s+c)/2],e.rotation||0)}))),bn.translateBounds(bn.getBoundsFromPoints(o),e.point)})),hh(d(e),"getCenter",(function(e){var t=e.handles,n=t.start,r=t.end;return M.add(e.point,M.med(n.point,r.point))})),hh(d(e),"shouldRender",(function(e,t){return t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label})),hh(d(e),"hitTestPoint",(function(e,t){for(var n=e.handles,r=n.start,i=n.bend,o=n.end,a=M.sub(t,e.point),l=Fg(r.point,i.point,o.point),s=1;s<l.length;s++)if(M.distanceToLineSegment(l[s-1],l[s],a)<1)return!0;return!1})),hh(d(e),"hitTestLineSegment",(function(e,t,n){for(var r=e.handles,i=r.start,o=r.bend,a=r.end,l=M.sub(t,e.point),s=M.sub(n,e.point),u=Fg(i.point,o.point,a.point),c=1;c<u.length;c++)if(jt(u[c-1],u[c],l,s).didIntersect)return!0;return!1})),hh(d(e),"hitTestBounds",(function(e,t){var n=e.handles,r=n.start,i=n.end,o=n.bend,a=M.add(e.point,r.point),l=M.add(e.point,i.point);if(bn.pointInBounds(a,t)||bn.pointInBounds(l,t))return!0;if(M.isEqual(M.med(r.point,i.point),o.point))return Nt(a,l,t).length>0;var s=m(Lg(r.point,o.point,i.point),3),u=s[0],c=s[1],d=s[2];return function(e,t,n,r,i){return Zt(e,t,n,r,[i.minX,i.minY],[i.width,i.height])}(M.add(e.point,[u,c]),d,a,l,t).length>0})),hh(d(e),"transform",(function(t,n,r){var i=r.initialShape,o=r.scaleX,a=r.scaleY,l=e.getBounds(i),s=uh({},i.handles);["start","end"].forEach((function(e){var t=m(s[e].point,2),r=t[0],i=t[1],u=r/l.width,c=i/l.height;s[e]=ch(uh({},s[e]),{point:[n.width*(o<0?1-u:u),n.height*(a<0?1-c:c)]})}));var u=s.start,c=s.bend,d=s.end,f=M.dist(u.point,d.point),p=M.med(u.point,d.point),h=f/2*i.bend,v=M.uni(M.vec(u.point,d.point)),g=M.add(p,M.mul(M.per(v),h));return s.bend=ch(uh({},c),{point:M.toFixed(Math.abs(h)<10?p:g)}),{point:M.toFixed([n.minX,n.minY]),handles:s}})),hh(d(e),"onDoubleClickHandle",(function(t,n){var r,i;switch(n){case"bend":return{bend:0,handles:ch(uh({},t.handles),{bend:ch(uh({},t.handles.bend),{point:Rg(t.handles,t.bend)})})};case"start":return{decorations:ch(uh({},t.decorations),{start:(null==(r=t.decorations)?void 0:r.start)?void 0:"arrow"})};case"end":return{decorations:ch(uh({},t.decorations),{end:(null==(i=t.decorations)?void 0:i.end)?void 0:"arrow"})}}return d(e)})),hh(d(e),"onHandleChange",(function(t,n){var r=bn.deepMerge(t.handles,n),i=t.bend;if(r=bn.deepMerge(r,{start:{point:M.toFixed(r.start.point)},end:{point:M.toFixed(r.end.point)}}),!M.isEqual(r.start.point,r.end.point)){if("bend"in n){var o=r,a=o.start,l=o.end,s=o.bend,u=M.dist(a.point,l.point),c=M.med(a.point,l.point),d=M.angle(a.point,l.point),f=M.uni(M.vec(a.point,l.point)),p=M.add(c,M.mul(M.per(f),u/2)),h=M.sub(c,M.mul(M.per(f),u/2)),v=M.nearestPointOnLineSegment(p,h,s.point,!0),g=M.dist(c,v);i=bn.clamp(g/(u/2),-.99,.99);var m=M.angle(a.point,v);M.isEqual(c,Rg(r,i))?i=0:function(e,t,n){if(n===e||n===t)return!0;var r=2*Math.PI,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!==o>i}(d,d+Math.PI,m)&&(i*=-1)}var y={point:t.point,bend:i,handles:ch(uh({},r),{bend:ch(uh({},r.bend),{point:Rg(r,i)})})},b=t.point,w=e.getBounds(uh({},y)),k=M.sub([w.minX,w.minY],b);if(!M.isEqual(k,[0,0])&&(Object.values(y.handles).forEach((function(e){e.point=M.toFixed(M.sub(e.point,k))})),y.point=M.toFixed(M.add(y.point,k)),M.isEqual(y.point,[0,0])))throw Error("here!");return y}})),e}return b(n)}(sg),$g=Zh("div",{width:"100%",height:"100%"}),Zg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","group"),hh(d(e),"canBind",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:Uv},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.isBinding,o=t.isGhost,a=t.isHovered,l=t.isSelected,s=t.events,u=r.id,c=r.size,d=Math.max(0,c[0]-1),f=Math.max(0,c[1]-1),p=[[[1,1],[d,1],d-1],[[d,1],[d,f],f-1],[[d,f],[1,f],d-1],[[1,f],[1,1],f-1]].map((function(e,t){var n=m(e,2),r=n[0],i=n[1];return E.createElement("line",{key:u+"_"+t,x1:r[0],y1:r[1],x2:i[0],y2:i[1]})}));return E.createElement(Wn,uh({ref:n},s),i&&E.createElement("rect",{className:"tl-binding-indicator",strokeWidth:e.bindingDistance}),E.createElement("g",{opacity:o?lv:1},E.createElement("rect",{x:0,y:0,width:c[0],height:c[1],fill:"transparent",pointerEvents:"all"}),E.createElement(Gg,{stroke:"black",opacity:a||l?1:0,strokeLinecap:"round",pointerEvents:"stroke"},p)))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=e.shape,n=t.id,r=t.size,i=Math.max(0,r[0]-1),o=Math.max(0,r[1]-1),a=[[[1,1],[i,1],i-1],[[i,1],[i,o],o-1],[[i,o],[1,o],i-1],[[1,o],[1,1],o-1]].map((function(e,t){var r=m(e,2),i=r[0],o=r[1];return E.createElement("line",{key:n+"_"+t,x1:i[0],y1:i[1],x2:o[0],y2:o[1]})}));return E.createElement(Gg,{strokeLinecap:"round",pointerEvents:"stroke"},a)}))),hh(d(e),"getBounds",(function(t){return qv(t,e.boundsCache)})),hh(d(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style})),e}return b(n)}(sg),Gg=Zh("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"}),qg=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","sticky"),hh(d(e),"canBind",!0),hh(d(e),"canEdit",!0),hh(d(e),"canClone",!0),hh(d(e),"hideResizeHandles",!0),hh(d(e),"showCloneHandles",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:Kv},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.meta,o=t.events,a=t.isGhost,l=t.isBinding,s=t.isEditing,u=t.onShapeBlur,c=t.onShapeChange,d=zv(r.style),f=Hv(r.style,i.isDarkMode),p=f.color,h=f.fill,v=E.useRef(null),g=E.useRef(null),m=E.useRef(null),y=E.useRef(r.text),b=E.useRef(!1),w=E.useCallback((function(e){e.stopPropagation()}),[]),k=E.useCallback((function(e){y.current=Lm.normalizeText(e.currentTarget.value),null==c||c({id:r.id,type:r.type,text:y.current})}),[c]),S=E.useCallback((function(e){if("Escape"!==e.key)if("Tab"!==e.key||0!==r.text.length){if("Meta"===e.key||e.metaKey){if("z"===e.key&&e.metaKey)return e.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),e.stopPropagation(),void e.preventDefault()}else e.stopPropagation();"Tab"===e.key&&(e.preventDefault(),e.shiftKey?eg.unindent(e.currentTarget):eg.indent(e.currentTarget),y.current=Lm.normalizeText(e.currentTarget.value),null==c||c(ch(uh({},r),{text:y.current})))}else e.preventDefault()}),[r,c]),C=E.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==u||u()}),[]),x=E.useCallback((function(e){s&&b.current&&e.currentTarget.select()}),[s]);E.useEffect((function(){if(s){y.current=r.text,b.current=!0;var e=g.current;e.focus(),e.select()}}),[s]),E.useEffect((function(){var e=m.current,t=r.size,n=e.offsetHeight,i=Jg-2*Qg;if(n!==t[1]-2*Qg)if(n>i)null==c||c({id:r.id,size:[t[0],n+2*Qg]});else if(n<i&&t[1]>Jg)null==c||c({id:r.id,size:[t[0],Jg]});else{var o=g.current;null==o||o.focus()}}),[r.text,r.size[1],r.style]);var I={font:d,color:p,textShadow:i.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return E.createElement(kr,uh({ref:n},o),E.createElement(em,{ref:v,isDarkMode:i.isDarkMode,isGhost:a,style:uh({backgroundColor:h},I)},l&&E.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-e.bindingDistance,left:-e.bindingDistance,width:"calc(100% + ".concat(2*e.bindingDistance,"px)"),height:"calc(100% + ".concat(2*e.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),E.createElement(nm,{ref:m,isEditing:s,alignment:r.style.textAlign},s?y.current:r.text,"\u200b"),s&&E.createElement(rm,{ref:g,onPointerDown:w,value:s?y.current:r.text,onChange:k,onKeyDown:S,onFocus:x,onBlur:C,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:r.style.textAlign,onContextMenu:tg})))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=m(e.shape.size,2),n=t[0],r=t[1];return E.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,n),height:Math.max(1,r)})}))),hh(d(e),"getBounds",(function(t){return qv(t,e.boundsCache)})),hh(d(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.text!==e.text})),hh(d(e),"transform",(function(e,t,n){var r=n.scaleX,i=n.scaleY,o=n.transformOrigin;return{point:M.toFixed([t.minX+(t.width-e.size[0])*(r<0?1-o[0]:o[0]),t.minY+(t.height-e.size[1])*(i<0?1-o[1]:o[1])])}})),hh(d(e),"transformSingle",(function(e){return e})),hh(d(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=bn.expandBounds(n,-Qg),i=Yv(t.text,t.style,r),o=Hv(t.style);i.setAttribute("fill",o.color),i.setAttribute("transform","translate(".concat(Qg,", ").concat(Qg,")"));var a=document.createElementNS("http://www.w3.org/2000/svg","g"),l=document.createElementNS("http://www.w3.org/2000/svg","rect");return l.setAttribute("width",n.width+""),l.setAttribute("height",n.height+""),l.setAttribute("fill",o.fill),l.setAttribute("rx","3"),l.setAttribute("ry","3"),a.appendChild(l),a.appendChild(i),a})),e}return b(n)}(sg),Qg=16,Jg=200,em=Zh("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:Qg+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:lv}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),tm={whiteSpace:"pre-wrap",overflowWrap:"break-word"},nm=Zh("div",uh({position:"absolute",top:Qg,left:Qg,width:"calc(100% - ".concat(2*Qg,"px)"),height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:(Bp={},i(Bp,"start",{textAlign:"left"}),i(Bp,"middle",{textAlign:"center"}),i(Bp,"end",{textAlign:"right"}),i(Bp,"justify",{textAlign:"justify"}),Bp)}},tm)),rm=Zh("textarea",ch(uh({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},tm),{variants:{alignment:(Ap={},i(Ap,"start",{textAlign:"left"}),i(Ap,"middle",{textAlign:"center"}),i(Ap,"end",{textAlign:"right"}),i(Ap,"justify",{textAlign:"justify"}),Ap)}})),im=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","text"),hh(d(e),"isAspectRatioLocked",!0),hh(d(e),"canEdit",!0),hh(d(e),"canBind",!0),hh(d(e),"canClone",!0),hh(d(e),"bindingDistance",8),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:Kv},e)})),hh(d(e),"texts",new Map),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.isBinding,o=t.isGhost,a=t.isEditing,l=t.onShapeBlur,s=t.onShapeChange,u=t.meta,c=t.events,d=r.text,f=r.style,p=Fv(f,u.isDarkMode),h=jv(r.style),v=E.useRef(null),g=E.useRef(!1),m=E.useCallback((function(t){var n=[0,0],i=Lm.normalizeText(t.currentTarget.value),o=e.getBounds(r);e.texts.set(r.id,i);var a=e.getBounds(ch(uh({},r),{text:i}));switch(r.style.textAlign){case"start":break;case"middle":n=M.div([a.width-o.width,0],2);break;case"end":n=[a.width-o.width,0]}null==s||s(ch(uh({},r),{id:r.id,point:M.sub(r.point,n),text:i}))}),[r.id,r.point]),y=ng(E.useCallback((function(t){e.texts.set(r.id,Lm.normalizeText(t)),null==s||s({id:r.id,text:e.texts.get(r.id)})}),[r.id])),b=E.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==l||l()}),[]),w=E.useCallback((function(e){a&&g.current&&document.activeElement===e.currentTarget&&e.currentTarget.select()}),[a]),k=E.useCallback((function(e){a&&e.stopPropagation()}),[a]);return E.useEffect((function(){a?(e.texts.set(r.id,d),requestAnimationFrame((function(){g.current=!0;var e=v.current;e&&(e.focus(),e.select())}))):null==l||l()}),[a]),E.createElement(kr,uh({ref:n},c),E.createElement(om,{isGhost:o,isEditing:a,onPointerDown:k},E.createElement(lm,{style:{font:h,color:p.stroke,textAlign:Wv(f.textAlign)}},i&&E.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-e.bindingDistance,left:-e.bindingDistance,width:"calc(100% + ".concat(2*e.bindingDistance,"px)"),height:"calc(100% + ".concat(2*e.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),a?E.createElement(sm,{ref:v,style:{font:h,color:p.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:d,color:p.stroke,onFocus:w,onChange:m,onKeyDown:y,onBlur:b,onPointerDown:k,onContextMenu:tg}):d,"\u200b")))}))),hh(d(e),"Indicator",sg.Indicator((function(t){var n=t.shape,r=e.getBounds(n),i=r.width,o=r.height;return E.createElement("rect",{x:0,y:0,width:i,height:o})}))),hh(d(e),"getBounds",(function(t){var n=bn.getFromCache(e.boundsCache,t,(function(){var n;if(!Yg)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};Yg.parentNode||document.body.appendChild(Yg),Yg.style.font=jv(t.style),Yg.textContent=null!=(n=e.texts.get(t.id))?n:t.text;var r=Yg.offsetWidth||1,i=Yg.offsetHeight||1;return{minX:0,maxX:r,minY:0,maxY:i,width:r,height:i}}));return bn.translateBounds(n,t.point)})),hh(d(e),"shouldRender",(function(e,t){return t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style})),hh(d(e),"transform",(function(e,t,n){var r=n.initialShape,i=n.scaleX,o=n.scaleY,a=r.rotation,l=void 0===a?0:a,s=r.style.scale,u=(void 0===s?1:s)*Math.abs(Math.min(i,o));return{point:[t.minX,t.minY],rotation:i<0&&o>=0||o<0&&i>=0?-(l||0):l,style:ch(uh({},r.style),{scale:u})}})),hh(d(e),"transformSingle",(function(e,t,n){var r=n.initialShape,i=n.scaleX,o=n.scaleY,a=r.style.scale,l=void 0===a?1:a;return{point:M.toFixed([t.minX,t.minY]),style:ch(uh({},r.style),{scale:l*Math.max(Math.abs(o),Math.abs(i))})}})),hh(d(e),"onDoubleClickBoundsHandle",(function(t){var n=e.getCenter(t),r=e.getCenter(ch(uh({},t),{style:ch(uh({},t.style),{scale:1})}));return{style:ch(uh({},t.style),{scale:1}),point:M.toFixed(M.add(t.point,M.sub(n,r)))}})),hh(d(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=Yv(t.text,t.style,n);return r.setAttribute("fill",Fv(t.style).stroke),r})),e}return b(n)}(sg);"undefined"!==typeof window&&(Yg=function(){var e;null==(e=document.getElementById("__textMeasure"))||e.remove();var t=document.createElement("pre");return t.id="__textMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:rv,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}());var om=Zh("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:lv}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),am={whiteSpace:"pre-wrap",overflowWrap:"break-word"},lm=Zh("div",uh({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:rv,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},am)),sm=Zh("textarea",uh({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},am)),um={easing:function(e){return Math.sin(e*Math.PI/2)},simulatePressure:!0},cm={easing:function(e){return e*e},simulatePressure:!1};function dm(e){var t=Fv(e.style);return ch(uh({size:1+1.5*t.strokeWidth,thinning:.65,streamline:.65,smoothing:.65},.5===e.points[1][2]?um:cm),{last:e.isComplete})}function fm(e,t){return mt(e.points,t)}function pm(e){var t=e.points;if(t.length<2)return"M 0 0 L 0 0";var n=fm(e,dm(e)).map((function(e){return e.point.slice(0,2)})),r=t[t.length-1].slice(0,2);return D.isEqual(n[0],r)||n.push(r),bn.getSvgPathFromStroke(n,!1)}var hm=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","draw"),hh(d(e),"pointsBoundsCache",new WeakMap([])),hh(d(e),"shapeBoundsCache",new Map),hh(d(e),"rotatedCache",new WeakMap([])),hh(d(e),"pointCache",{}),hh(d(e),"canClone",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:Uv,points:[],isComplete:!1},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r,o,a=t.shape,l=t.meta,s=t.isSelected,u=t.isGhost,c=t.events,d=a.points,f=a.style,p=a.isComplete,h=E.useMemo((function(){return function(e){return e.points.length<2?"":bn.getSvgPathFromStroke(mt(e.points,dm(e)).map((function(e){return e.point})))}(a)}),[d,f.size]),v=E.useMemo((function(){return"draw"===f.dash?function(e){if(e.points.length<2)return"";var t=dm(e),n=fm(e,t);return bn.getSvgPathFromStroke(gt(n,t))}(a):pm(a)}),[d,f.size,f.dash,p]),g=Fv(f,l.isDarkMode),m=g.stroke,y=g.fill,b=g.strokeWidth,w=e.getBounds(a);if(w.width<=b/2&&w.height<=b/2){var k=1+b;return E.createElement(Wn,uh({ref:n,id:a.id+"_svg"},c),E.createElement("circle",{r:k,fill:m,stroke:m,pointerEvents:"all",opacity:u?lv:1}))}var S=f.isFilled&&d.length>3&&M.dist(d[0],d[d.length-1])<2*b;if("draw"===a.style.dash)return E.createElement(Wn,uh({ref:n,id:a.id+"_svg"},c),E.createElement("g",{opacity:u?lv:1},E.createElement("path",{className:S||s?"tl-fill-hitarea":"tl-stroke-hitarea",d:v}),S&&E.createElement("path",{d:h,stroke:"none",fill:y,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),E.createElement("path",{d:v,fill:m,stroke:m,strokeWidth:b/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));var C=(r={},i(r,"draw","none"),i(r,"solid","none"),i(r,"dotted","0.1 ".concat(4*b)),i(r,"dashed","".concat(4*b," ").concat(4*b)),r)[f.dash],x=(o={},i(o,"draw","none"),i(o,"solid","none"),i(o,"dotted","0"),i(o,"dashed","0"),o)[f.dash],I=1+1.5*b;return E.createElement(Wn,uh({ref:n,id:a.id+"_svg"},c),E.createElement("g",{opacity:u?lv:1},E.createElement("path",{className:S&&s?"tl-fill-hitarea":"tl-stroke-hitarea",d:v}),E.createElement("path",{d:v,fill:S?y:"none",stroke:"none",strokeWidth:Math.min(4,2*b),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),E.createElement("path",{d:v,fill:"none",stroke:m,strokeWidth:I,strokeDasharray:C,strokeDashoffset:x,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))}))),hh(d(e),"Indicator",sg.Indicator((function(t){var n=t.shape,r=n.points,i=E.useMemo((function(){return pm(n)}),[r]),o=e.getBounds(n);return o.width<4&&o.height<4?E.createElement("circle",{x:o.width/2,y:o.height/2,r:1}):E.createElement("path",{d:i})}))),hh(d(e),"transform",(function(t,n,r){var i=r.initialShape,o=r.scaleX,a=r.scaleY,l=bn.getFromCache(e.boundsCache,i,(function(){return bn.getBoundsFromPoints(i.points)})),s=i.points.map((function(e){var t=m(e,3),r=t[0],i=t[1],s=t[2];return[n.width*(o<0?1-r/l.width:r/l.width),n.height*(a<0?1-i/l.height:i/l.height),s]})),u=bn.getBoundsFromPoints(t.points);return{points:s,point:M.sub([n.minX,n.minY],[u.minX,u.minY])}})),hh(d(e),"getBounds",(function(t){var n=!e.pointsBoundsCache.has(t.points),r=!(e.pointCache[t.id]===t.point);if(n){var i=bn.getBoundsFromPoints(t.points);e.pointsBoundsCache.set(t.points,i),e.shapeBoundsCache.set(t.id,bn.translateBounds(i,t.point)),e.pointCache[t.id]=t.point}else r&&!n&&(e.pointCache[t.id]=t.point,e.shapeBoundsCache.set(t.id,bn.translateBounds(e.pointsBoundsCache.get(t.points),t.point)));return e.shapeBoundsCache.get(t.id)})),hh(d(e),"shouldRender",(function(e,t){return t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete})),hh(d(e),"hitTestPoint",(function(e,t){var n=M.sub(t,e.point);return bn.pointInPolyline(n,e.points)})),hh(d(e),"hitTestLineSegment",(function(t,n,r){var i=t.points,o=t.point,a=M.sub(n,o),l=M.sub(r,o),s=e.getBounds(t);if(i.length<=2)return M.distanceToLineSegment(n,r,t.point)<4;if(Nt(a,l,s))for(var u=1;u<i.length;u++)if(jt(i[u-1],i[u],a,l).didIntersect)return!0;return!1})),hh(d(e),"hitTestBounds",(function(t,n){if(!t.rotation){var r=e.getBounds(t);return bn.boundsContain(n,r)||(bn.boundsContain(r,n)||function(e,t){return Vt([e.minX,e.minY],[e.width,e.height],[t.minX,t.minY],[t.width,t.height])}(r,n).length>0)&&qt(bn.translateBounds(n,M.neg(t.point)),t.points).length>0}var i=e.getRotatedBounds(t),o=bn.getFromCache(e.rotatedCache,t,(function(){var e=bn.getBoundsCenter(bn.getBoundsFromPoints(t.points));return t.points.map((function(n){return M.rotWith(n,e,t.rotation||0)}))}));return bn.boundsContain(n,i)||qt(bn.translateBounds(n,M.neg(t.point)),o).length>0})),e}return b(n)}(sg),vm=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","image"),hh(d(e),"canBind",!0),hh(d(e),"canClone",!0),hh(d(e),"isAspectRatioLocked",!0),hh(d(e),"showCloneHandles",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:ch(uh({},Uv),{isFilled:!0}),assetId:"assetId"},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.asset,o=void 0===i?{src:""}:i,a=t.isBinding,l=t.isGhost,s=t.meta,u=t.events,c=(t.onShapeChange,r.size),d=r.style,f=E.useRef(null),p=E.useRef(null);return E.useLayoutEffect((function(){var e=p.current;if(e){var t=m(c,2),n=t[0],r=t[1];e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}}),[c]),E.createElement(kr,uh({ref:n},u),a&&E.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:"calc(".concat(-e.bindingDistance,"px * var(--tl-zoom))"),left:"calc(".concat(-e.bindingDistance,"px * var(--tl-zoom))"),width:"calc(100% + ".concat(2*e.bindingDistance,"px * var(--tl-zoom))"),height:"calc(100% + ".concat(2*e.bindingDistance,"px * var(--tl-zoom))"),backgroundColor:"var(--tl-selectFill)"}}),E.createElement(gm,{ref:p,isDarkMode:s.isDarkMode,isFilled:d.isFilled,isGhost:l},E.createElement(mm,{id:r.id+"_image",ref:f,src:o.src,alt:"tl_image_asset",draggable:!1})))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=m(e.shape.size,2),n=t[0],r=t[1];return E.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,n),height:Math.max(1,r)})}))),hh(d(e),"getBounds",(function(t){return qv(t,e.boundsCache)})),hh(d(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style})),hh(d(e),"transform",Qv),hh(d(e),"transformSingle",Jv),hh(d(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width","".concat(n.width)),r.setAttribute("height","".concat(n.height)),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})),e}return b(n)}(sg),gm=Ci("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:lv}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),mm=Ci("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),ym=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","video"),hh(d(e),"canBind",!0),hh(d(e),"canEdit",!0),hh(d(e),"canClone",!0),hh(d(e),"isAspectRatioLocked",!0),hh(d(e),"showCloneHandles",!0),hh(d(e),"isStateful",!0),hh(d(e),"getShape",(function(e){return bn.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Uv,assetId:"assetId",isPlaying:!0,currentTime:0},e)})),hh(d(e),"Component",sg.Component((function(t,n){var r=t.shape,i=t.asset,o=void 0===i?{src:""}:i,a=t.isBinding,l=t.isEditing,s=t.isGhost,u=t.meta,c=t.events,d=t.onShapeChange,f=E.useRef(null),p=E.useRef(null),h=r.currentTime,v=void 0===h?0:h,g=r.size,y=r.isPlaying,b=r.style;E.useLayoutEffect((function(){var e=p.current;if(e){var t=m(g,2),n=t[0],r=t[1];e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}}),[g]),E.useLayoutEffect((function(){var e=f.current;e&&(y?e.play():e.pause())}),[y]),E.useLayoutEffect((function(){var e=f.current;e&&v!==e.currentTime&&(e.currentTime=v)}),[v]);var w=E.useCallback((function(){null==d||d({id:r.id,isPlaying:!0})}),[]),k=E.useCallback((function(){null==d||d({id:r.id,isPlaying:!1})}),[]),S=E.useCallback((function(){var e=f.current;e&&l&&(null==d||d({id:r.id,currentTime:e.currentTime}))}),[l]);return E.createElement(kr,uh({ref:n},c),a&&E.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-e.bindingDistance,left:-e.bindingDistance,width:"calc(100% + ".concat(2*e.bindingDistance,"px)"),height:"calc(100% + ".concat(2*e.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),E.createElement(bm,{ref:p,isDarkMode:u.isDarkMode,isGhost:s,isFilled:b.isFilled},E.createElement(wm,{ref:f,id:r.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:l,autoPlay:y,onPlay:w,onPause:k,onTimeUpdate:S},E.createElement("source",{src:o.src}))))}))),hh(d(e),"Indicator",sg.Indicator((function(e){var t=m(e.shape.size,2),n=t[0],r=t[1];return E.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,n),height:Math.max(1,r)})}))),hh(d(e),"getBounds",(function(t){return qv(t,e.boundsCache)})),hh(d(e),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying})),hh(d(e),"getSvgElement",(function(t){var n=e.getBounds(t),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width","".concat(n.width)),r.setAttribute("height","".concat(n.height)),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})),hh(d(e),"transform",Qv),hh(d(e),"transformSingle",Jv),e}return b(n)}(sg),bm=Ci("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:lv}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),wm=Ci("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),km=new hg,Sm=new xg,Cm=new Tg,Em=new hm,xm=new Xg,Im=new im,Pm=new Zg,_m=new qg,Mm=new vm,Dm=new ym,Tm=(i(jp={},"rectangle",km),i(jp,"triangle",Sm),i(jp,"ellipse",Cm),i(jp,"draw",Em),i(jp,"arrow",xm),i(jp,"text",Im),i(jp,"group",Pm),i(jp,"sticky",_m),i(jp,"image",Mm),i(jp,"video",Dm),jp);function Om(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if("object"===typeof e){if("function"===typeof e[Symbol.iterator]){var t=[];if(e.length>0){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(Om(i))}}catch(JI){r.e(JI)}finally{r.f()}}return t}var o=Object.keys(e),a={};if(o.length>0){var l,s=C(o);try{for(s.s();!(l=s.n()).done;){var u=l.value;a[u]=Om(e[u])}}catch(JI){s.e(JI)}finally{s.f()}}return a}return e}var Rm=function(){function e(){w(this,e)}return b(e,null,[{key:"getShapeUtil",value:function(e){return function(e){return"string"===typeof e?Tm[e]:Tm[e.type]}(e)}},{key:"getSelectedShapes",value:function(t,n){var r=e.getPage(t,n);return e.getSelectedIds(t,n).map((function(e){return r.shapes[e]}))}},{key:"screenToWorld",value:function(t,n){var r=e.getPageState(t,t.appState.currentPageId).camera;return M.sub(M.div(n,r.zoom),r.point)}},{key:"getCameraZoom",value:function(e){return bn.clamp(e,.1,5)}},{key:"getPage",value:function(e,t){return e.document.pages[t]}},{key:"getPageState",value:function(e,t){return e.document.pageStates[t]}},{key:"getSelectedIds",value:function(t,n){return e.getPageState(t,n).selectedIds}},{key:"getShapes",value:function(t,n){return Object.values(e.getPage(t,n).shapes)}},{key:"getCamera",value:function(t,n){return e.getPageState(t,n).camera}},{key:"getShape",value:function(t,n,r){return e.getPage(t,r).shapes[n]}},{key:"getCenter",value:function(t){return e.getShapeUtil(t).getCenter(t)}},{key:"getBounds",value:function(t){return e.getShapeUtil(t).getBounds(t)}},{key:"getRotatedBounds",value:function(t){return e.getShapeUtil(t).getRotatedBounds(t)}},{key:"getSelectedBounds",value:function(t){return bn.getCommonBounds(e.getSelectedShapes(t,t.appState.currentPageId).map((function(t){return e.getShapeUtil(t).getBounds(t)})))}},{key:"getParentId",value:function(t,n,r){return e.getShape(t,n,r).parentId}},{key:"getDocumentBranch",value:function(t,n,r){var i=e.getShape(t,n,r);return void 0===i.children?[n]:[n].concat(S(i.children.flatMap((function(n){return e.getDocumentBranch(t,n,r)}))))}},{key:"getSelectedBranchSnapshot",value:function(t,n,r){var i=e.getPage(t,n),o=e.getSelectedIds(t,n).flatMap((function(r){return e.getDocumentBranch(t,r,n).map((function(e){return i.shapes[e]}))})).filter((function(e){return!e.isLocked})).map(bn.deepClone);return void 0!==r?o.map((function(e){return uh({id:e.id},r(e))})):o}},{key:"getSelectedShapeSnapshot",value:function(t,n,r){var i=e.getSelectedShapes(t,n).filter((function(e){return!e.isLocked})).map(bn.deepClone);return void 0!==r?i.map((function(e){return uh({id:e.id},r(e))})):i}},{key:"getAllEffectedShapeIds",value:function(t,n,r){var i=e.getPage(t,r),o=new Set(n);return n.forEach((function(e){var t=i.shapes[e];!function e(t){void 0!==t.children&&t.children.filter((function(e){return!o.has(e)})).forEach((function(t){o.add(t),e(i.shapes[t])}))}(t),function e(t){var n=t.parentId;n!==i.id&&(o.has(n)||(o.add(n),e(i.shapes[n])))}(t),o.forEach((function(e){Object.values(i.bindings).filter((function(t){return t.fromId===e||t.toId===e})).forEach((function(t){return o.add(t.fromId===e?t.toId:t.fromId)}))}))})),Array.from(o.values())}},{key:"getLinkedShapeIds",value:function(t,n,r){for(var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.getSelectedIds(t,n),a=e.getPage(t,n),l=new Set(o),s=new Set,u=S(o),c=new Set(Object.values(a.shapes).filter((function(e){var t;return"arrow"===e.type&&(e.handles.start.bindingId||(null==(t=e.handles)?void 0:t.end.bindingId))}))),d=function(){var e=u.pop();return e&&c.size?s.has(e)?1:(s.add(e),void c.forEach((function(t){var n,o,s=t.handles,d=s.start.bindingId,f=s.end.bindingId,p=d?a.bindings[d]:null,h=f?a.bindings[f]:null;p&&p.toId===e?("center"===r||((null==(n=t.decorations)?void 0:n.start)&&h?"left"===r:"right"===r))&&(i&&l.add(t.id),l.add(e),h&&(l.add(h.toId),u.push(h.toId))):h&&h.toId===e&&("center"===r||((null==(o=t.decorations)?void 0:o.end)&&p?"left"===r:"right"===r))&&(i&&l.add(t.id),l.add(e),p&&(l.add(p.toId),u.push(p.toId))),p&&!l.has(p.toId)||h&&!l.has(h.toId)||c.delete(t)}))):0};u.length&&0!==d(););return Array.from(l.values())}},{key:"getChildIndexAbove",value:function(e,t,n){var r,i=e.document.pages[n],o=i.shapes[t];if(o.parentId===i.id)r=Object.values(i.shapes).filter((function(e){return e.parentId===i.id})).sort((function(e,t){return e.childIndex-t.childIndex}));else{var a=i.shapes[o.parentId];if(!a.children)throw Error("No children in parent!");r=a.children.map((function(e){return i.shapes[e]})).sort((function(e,t){return e.childIndex-t.childIndex}))}var l=r.indexOf(o),s=r[l+1];return s?s.childIndex:o.childIndex+1}},{key:"getBeforeShape",value:function(e,t){return Object.fromEntries(Object.keys(t).map((function(t){return[t,e[t]]})))}},{key:"mutateShapes",value:function(t,n,r,o){var a={},l={};n.forEach((function(n,i){var s=e.getShape(t,n,o);if(!s.isLocked){var u=r(s,i);u&&(a[n]=e.getBeforeShape(s,u),l[n]=u)}}));var s=bn.deepMerge(t,{document:{pages:i({},t.appState.currentPageId,{shapes:l})}});return{before:a,after:l,data:s}}},{key:"createShapes",value:function(t,n,r){return{before:{document:{pages:i({},r,{shapes:uh({},Object.fromEntries(n.flatMap((function(n){var i=[[n.id,void 0]];if(n.parentId!==r){var o=e.getShape(t,n.parentId,r);if(!o.children)throw Error("No children in parent!");i.push([o.id,{children:o.children}])}return i}))))})}},after:{document:{pages:i({},r,{shapes:{shapes:uh({},Object.fromEntries(n.flatMap((function(n){var i=[[n.id,n]];if(n.parentId!==r){var o=e.getShape(t,n.parentId,r);if(!o.children)throw Error("No children in parent!");i.push([o.id,{children:[].concat(S(o.children),[n.id])}])}return i}))))}})}}}}},{key:"deleteShapes",value:function(t,n,r){r=r||t.appState.currentPageId;var o=e.getPage(t,r),a="string"===typeof n[0]?n:n.map((function(e){return e.id})),l={document:{pages:i({},r,{shapes:uh({},Object.fromEntries(a.flatMap((function(e){var t=o.shapes[e],n=[[t.id,t]];if(t.parentId!==r){var i=o.shapes[t.parentId];if(!i.children)throw Error("No children in parent!");n.push([i.id,{children:i.children}])}return n})))),bindings:uh({},Object.fromEntries(Object.values(o.bindings).filter((function(e){return a.includes(e.fromId)||a.includes(e.toId)})).map((function(e){return[e.id,e]}))))})}},s={document:{pages:i({},r,{shapes:uh({},Object.fromEntries(a.flatMap((function(e){var t=o.shapes[e],n=[[t.id,void 0]];if(t.parentId!==o.id){var r=o.shapes[t.parentId];if(!r.children)throw Error("No children in parent!");n.push([r.id,{children:r.children.filter((function(e){return e!==t.id}))}])}return n}))))})}};return{before:l,after:s}}},{key:"onSessionComplete",value:function(t){var n,r,i=null==(r=(n=e.getShapeUtil(t)).onSessionComplete)?void 0:r.call(n,t);return i?uh(uh({},t),i):t}},{key:"onChildrenChange",value:function(t,n,r){var i,o;if(n.children){var a=null==(o=(i=e.getShapeUtil(n)).onChildrenChange)?void 0:o.call(i,n,n.children.map((function(n){return e.getShape(t,n,r)})));return a?uh(uh({},n),a):n}}},{key:"updateArrowBindings",value:function(t,n){var r,o,a,l,s,u,c={start:Om(n.handles.start),end:Om(n.handles.end)},d={isBound:!1,handle:n.handles.start,point:M.add(n.handles.start.point,n.point)},f={isBound:!1,handle:n.handles.end,point:M.add(n.handles.end.point,n.point)};if(n.handles.start.bindingId){var p=void 0!==(null==(r=n.decorations)?void 0:r.start),h=n.handles.start,v=t.bindings[n.handles.start.bindingId];if(!v)throw Error("Could not find a binding to match the start handle's bindingId");var g=t.shapes[v.toId],y=e.getShapeUtil(g),b=y.getBounds(g),w=y.getExpandedBounds(g),k=p?bn.expandBounds(b,v.distance):b,S=w.minX,C=w.minY,E=w.width,x=w.height,I=M.add([S,C],M.mulV([E,x],M.rotWith(v.point,[.5,.5],g.rotation||0)));d={isBound:!0,hasDecoration:p,binding:v,handle:h,point:I,util:y,target:g,bounds:b,expandedBounds:w,intersectBounds:k,center:y.getCenter(g)}}if(n.handles.end.bindingId){var P=void 0!==(null==(o=n.decorations)?void 0:o.end),_=n.handles.end,D=t.bindings[n.handles.end.bindingId];if(!D)throw Error("Could not find a binding to match the end handle's bindingId");var T=t.shapes[D.toId],O=e.getShapeUtil(T),R=O.getBounds(T),L=O.getExpandedBounds(T),B=P?bn.expandBounds(R,D.distance):R,A=L.minX,j=L.minY,z=L.width,H=L.height,F=M.add([A,j],M.mulV([z,H],M.rotWith(D.point,[.5,.5],T.rotation||0)));f={isBound:!0,hasDecoration:P,binding:D,handle:_,point:F,util:O,target:T,bounds:R,expandedBounds:L,intersectBounds:B,center:O.getCenter(T)}}for(var N,U=function(){var t=V[K],r="start"===t?d:f,o="start"===t?f:d;if(r.isBound)if(r.binding.distance){var s=M.uni(M.sub(r.point,o.point));switch(r.target.type){case"ellipse":var u=Bt(o.point,s,r.center,r.target.radius[0]+(r.hasDecoration?r.binding.distance:0),r.target.radius[1]+(r.hasDecoration?r.binding.distance:0),r.target.rotation||0).points.sort((function(e,t){return M.dist(e,o.point)-M.dist(t,o.point)}));void 0!==u[0]&&(c[t].point=M.toFixed(M.sub(u[0],n.point)));break;case"triangle":var p=r.target.point,h=bg(r.target.size,r.hasDecoration?iv:0,r.target.rotation).map((function(e){return M.add(e,p)})),v=bn.pointsToLineSegments(h,!0).map((function(e){var t=m(e,2),n=t[0],r=t[1];return Rt(o.point,s,n,r)})).filter((function(e){return e.didIntersect})).flatMap((function(e){return e.points})).sort((function(e,t){return M.dist(e,o.point)-M.dist(t,o.point)}));void 0!==v[0]&&(c[t].point=M.toFixed(M.sub(v[0],n.point)));break;default:var g=At(o.point,s,r.intersectBounds,r.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]})).sort((function(e,t){return M.dist(e,o.point)-M.dist(t,o.point)}));if(!g[0])return 0;var y=void 0;if(o.isBound){var b=At(o.point,s,o.intersectBounds,o.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]})).sort((function(e,t){return M.dist(e,o.point)-M.dist(t,o.point)}));y=b[0]}if(o.isBound&&(g.length<2||y&&g[0]&&Math.ceil(M.dist(g[0],y))<40||bn.boundsContain(r.expandedBounds,o.expandedBounds)||bn.boundsCollide(r.expandedBounds,o.expandedBounds))){var w=M.uni(M.sub(o.point,r.point)),k=At(r.point,w,r.bounds,r.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]}));if(!k[0])return 0;c[t].point=M.toFixed(M.sub(k[0],n.point)),c["start"===t?"end":"start"].point=M.toFixed(M.add(M.sub(k[0],n.point),M.mul(w,Math.min(M.dist(k[0],o.point),40*(bn.boundsContain(o.bounds,r.intersectBounds)?-1:1)))))}else{if(!o.isBound&&(g[0]&&M.dist(g[0],o.point)<40||bn.pointInBounds(o.point,r.intersectBounds))){var S=M.uni(M.sub(r.center,o.point));return{v:null==(l=(a=e.getShapeUtil(n)).onHandleChange)?void 0:l.call(a,n,i({},t,ch(uh({},n.handles[t]),{point:M.toFixed(M.add(M.sub(o.point,n.point),M.mul(S,40)))})))}}g[0]&&(c[t].point=M.toFixed(M.sub(g[0],n.point)))}}}else c[t].point=M.sub(r.point,n.point)},K=0,V=["end","start"];K<V.length;K++)if(0!==(N=U())&&N)return N.v;return null==(u=(s=e.getShapeUtil(n)).onHandleChange)?void 0:u.call(s,n,c)}},{key:"transform",value:function(t,n,r){var i=e.getShapeUtil(t).transform(t,n,r);return i?uh(uh({},t),i):t}},{key:"transformSingle",value:function(t,n,r){var i=e.getShapeUtil(t).transformSingle(t,n,r);return i?uh(uh({},t),i):t}},{key:"getRotatedShapeMutation",value:function(e,t,n,r){var i,o,a=M.sub(t,e.point),l=M.rotWith(t,n,r),s=M.toFixed(M.sub(l,a));return void 0!==e.handles?null==(o=(i=this.getShapeUtil(e)).onHandleChange)?void 0:o.call(i,ch(uh({},e),{point:s}),Object.fromEntries(Object.entries(e.handles).map((function(e){var t=m(e,2),n=t[0],i=t[1],o=M.toFixed(M.rotWith(i.point,a,r));return[n,ch(uh({},i),{point:o})]})))):{point:s,rotation:bn.clampRadians((e.rotation||0)+r)}}},{key:"updateParents",value:function(t,n,r){var i=e.getPage(t,n);if(0!==r.length){var o,a=e.getPage(t,n).shapes,l=Array.from(new Set(r.map((function(e){return a[e].parentId})).values())).filter((function(e){return e!==i.id})),s=C(l);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=a[u];if(!c.children)throw Error("A shape is parented to a shape without a children array.");e.onChildrenChange(t,c,n)}}catch(JI){s.e(JI)}finally{s.f()}e.updateParents(t,n,l)}}},{key:"getBinding",value:function(t,n,r){return e.getPage(t,r).bindings[n]}},{key:"getBindings",value:function(t,n){var r=e.getPage(t,n);return Object.values(r.bindings)}},{key:"getBindableShapeIds",value:function(t){return e.getShapes(t,t.appState.currentPageId).filter((function(t){return e.getShapeUtil(t).canBind})).sort((function(e,t){return t.childIndex-e.childIndex})).map((function(e){return e.id}))}},{key:"getBindingsWithShapeIds",value:function(t,n,r){return Array.from(new Set(e.getBindings(t,r).filter((function(e){return n.includes(e.toId)||n.includes(e.fromId)}))).values())}},{key:"getRelatedBindings",value:function(t,n,r){for(var i=new Set(n),o=e.getPage(t,r),a=Object.values(o.bindings),l=new Set(a.filter((function(e){return i.has(e.toId)||i.has(e.fromId)}))),s=l.size,u=-1;0!==u;)l.forEach((function(e){var t,n=e.fromId,r=C(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.fromId===n&&l.add(i),i.toId===n&&l.add(i)}}catch(JI){r.e(JI)}finally{r.f()}})),u=l.size-s,s=l.size;return Array.from(l.values())}},{key:"normalizeText",value:function(t){return t.replace(e.fixNewLines,"\n").split("\n").map((function(e){return e||" "})).join("\n")}},{key:"assertShapeHasProperty",value:function(e,t){if(void 0===e[t])throw new Error}},{key:"warn",value:function(e){false}},{key:"error",value:function(e){false}}]),e}(),Lm=Rm;function Bm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.currentPageId,o={},a={};t.forEach((function(e){o[e.id]=void 0,a[e.id]=e}));var l={},s={};return n.forEach((function(e){l[e.id]=void 0,s[e.id]=e})),{id:"create",before:{document:{pages:i({},r,{shapes:o,bindings:l}),pageStates:i({},r,{selectedIds:S(e.selectedIds)})}},after:{document:{pages:i({},r,{shapes:a,bindings:s}),pageStates:i({},r,{selectedIds:t.map((function(e){return e.id}))})}}}}hh(Lm,"copyStringToClipboard",(function(e){try{navigator.clipboard.writeText(e)}catch(i){var t=document.createElement("textarea");t.setAttribute("position","fixed"),t.setAttribute("top","0"),t.setAttribute("readonly","true"),t.setAttribute("contenteditable","true"),t.style.position="fixed",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{var n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n),t.setSelectionRange(0,t.value.length))}catch(JI){}finally{document.body.removeChild(t)}}})),hh(Lm,"flattenShape",(function(e,t){var n;return[t].concat(S((null!=(n=t.children)?n:[]).map((function(t){return Rm.getShape(e,t,e.appState.currentPageId)})).sort((function(e,t){return e.childIndex-t.childIndex})).flatMap((function(t){return Rm.flattenShape(e,t)}))))})),hh(Lm,"flattenPage",(function(e,t){return Object.values(e.document.pages[t].shapes).sort((function(e,t){return e.childIndex-t.childIndex})).reduce((function(t,n){return[].concat(S(t),S(Rm.flattenShape(e,n)))}),[])})),hh(Lm,"getTopChildIndex",(function(e,t){var n=Rm.getShapes(e,t);return 0===n.length?1:n.filter((function(e){return e.parentId===t})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1})),hh(Lm,"fixNewLines",/\r?\n|\r/g);function Am(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currentPageId,r=e.pageState,o=e.selectedIds,a=e.document.assets,l=function(e,t,n){var r={shapes:{},bindings:{}},o={shapes:{},bindings:{}},a=[],l=new Set,s=new Set;t.filter((function(t){return!Lm.getShape(e,t,n).isLocked})).forEach((function(t){l.add(t);var i=Lm.getShape(e,t,n);r.shapes[t]=i,o.shapes[t]=void 0,void 0!==i.children&&i.children.forEach((function(t){l.add(t);var i=Lm.getShape(e,t,n);r.shapes[t]=i,o.shapes[t]=void 0})),i.parentId!==n&&a.push(Lm.getShape(e,i.parentId,n)),i.assetId&&s.add(i.assetId)})),a.forEach((function(i){var a;t.includes(i.id)||(l.add(i.id),r.shapes[i.id]={children:i.children},o.shapes[i.id]={children:i.children.filter((function(e){return!t.includes(e)}))},0===(null==(a=o.shapes[i.id])?void 0:a.children.length)&&(o.shapes[i.id]=void 0,r.shapes[i.id]=Lm.getShape(e,i.id,n)))}));var u=Lm.getPage(e,n);return Object.values(u.bindings).filter((function(e){return l.has(e.fromId)||l.has(e.toId)})).forEach((function(e){for(var t=function(){var t=a[n];if(void 0===o.shapes[t]){r.bindings[e.id]=e,o.bindings[e.id]=void 0;var s=u.shapes[t];s&&s.handles&&Object.values(s.handles).filter((function(t){return t.bindingId===e.id})).forEach((function(n){var a,s,u,c,d,f;r.shapes[t]=ch(uh({},r.shapes[t]),{handles:ch(uh({},null==(a=r.shapes[t])?void 0:a.handles),i({},n.id,ch(uh({},null==(u=null==(s=r.shapes[t])?void 0:s.handles)?void 0:u[n.id]),{bindingId:e.id})))}),l.has(t)||(o.shapes[t]=ch(uh({},o.shapes[t]),{handles:ch(uh({},null==(c=o.shapes[t])?void 0:c.handles),i({},n.id,ch(uh({},null==(f=null==(d=o.shapes[t])?void 0:d.handles)?void 0:f[n.id]),{bindingId:void 0})))}))}))}},n=0,a=[e.toId,e.fromId];n<a.length;n++)t()})),Object.values(e.document.pages).flatMap((function(e){return Object.values(e.shapes)})).forEach((function(e){"assetId"in e&&e.assetId&&!l.has(e.id)&&s.delete(e.assetId)})),{before:r,after:o,assetsToRemove:Array.from(s)}}(e.state,t,n),s=l.before,u=l.after,c=function(e,t){var n=uh({},e);return t.forEach((function(e){return n[e]=void 0})),n}(a,l.assetsToRemove);return{id:"delete",before:{document:{assets:a,pages:i({},n,s),pageStates:i({},n,{selectedIds:S(e.selectedIds)})}},after:{document:{assets:c,pages:i({},n,u),pageStates:i({},n,{selectedIds:o.filter((function(e){return!t.includes(e)})),hoveredId:r.hoveredId&&t.includes(r.hoveredId)?void 0:r.hoveredId})}}}}function jm(e,t,n){var r=e.currentPageId,o=t.map((function(t){return e.getShape(t)})),a=Object.fromEntries(function(e,t){var n=e.map((function(e){var t=Lm.getShapeUtil(e);return{id:e.id,point:S(e.point),bounds:t.getBounds(e),center:t.getCenter(e)}})),r=n.length,i=bn.getCommonBounds(n.map((function(e){return e.bounds}))),o=[];switch(t){case"horizontal":var a=n.reduce((function(e,t){return e+t.bounds.width}),0);if(a>i.width){var l=n.sort((function(e,t){return e.bounds.minX-t.bounds.minX}))[0],s=n.sort((function(e,t){return t.bounds.maxX-e.bounds.maxX}))[0],u=n.filter((function(e){return e!==l&&e!==s})).sort((function(e,t){return e.center[0]-t.center[0]})),c=(s.center[0]-l.center[0])/(r-1),d=l.center[0]+c;u.forEach((function(e,t){var n=e.id,r=e.point,i=e.bounds;o.push({id:n,prev:r,next:[d+c*t-i.width/2,i.minY]})}))}else{var f=n.sort((function(e,t){return e.center[0]-t.center[0]})),p=i.minX,h=(i.width-a)/(r-1);f.forEach((function(e){var t=e.id,n=e.point,r=e.bounds;o.push({id:t,prev:n,next:[p,r.minY]}),p+=r.width+h}))}break;case"vertical":var v=n.reduce((function(e,t){return e+t.bounds.height}),0);if(v>i.height){var g=n.sort((function(e,t){return e.bounds.minY-t.bounds.minY}))[0],m=n.sort((function(e,t){return t.bounds.maxY-e.bounds.maxY}))[0],y=n.filter((function(e){return e!==g&&e!==m})).sort((function(e,t){return e.center[1]-t.center[1]})),b=(m.center[1]-g.center[1])/(r-1),w=g.center[1]+b;y.forEach((function(e,t){var n=e.id,r=e.point,i=e.bounds;o.push({id:n,prev:r,next:[i.minX,w+b*t-i.height/2]})}))}else{var k=n.sort((function(e,t){return e.center[1]-t.center[1]})),C=i.minY,E=(i.height-v)/(r-1);k.forEach((function(e){var t=e.id,n=e.point,r=e.bounds;o.push({id:t,prev:n,next:[r.minX,C]}),C+=r.height+E}))}}return o}(o,n).map((function(e){return[e.id,e]}))),l=Lm.mutateShapes(e.state,t.filter((function(e){return void 0!==a[e]})),(function(e){return{point:a[e.id].next}}),r),s=l.before,u=l.after;return o.forEach((function(t){if("group"===t.type){var n=D.sub(u[t.id].point,s[t.id].point);t.children.forEach((function(t){var r=e.getShape(t);s[r.id]={point:r.point},u[r.id]={point:D.add(r.point,n)}})),delete s[t.id],delete u[t.id]}})),{id:"distribute",before:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:u}),pageStates:i({},r,{selectedIds:t})}}}}function zm(e,t,n){var r=e.selectedIds,o=e.currentPageId,a=e.shapes.map((function(e){return Lm.getBounds(e)})),l=bn.getCommonBounds(a),s=Lm.mutateShapes(e.state,t,(function(e){var t=Lm.getBounds(e);switch(n){case"horizontal":var r=bn.getRelativeTransformedBoundingBox(l,l,t,!0,!1);return Lm.getShapeUtil(e).transform(e,r,{type:vn.TopLeft,scaleX:-1,scaleY:1,initialShape:e,transformOrigin:[.5,.5]});case"vertical":var i=bn.getRelativeTransformedBoundingBox(l,l,t,!1,!0);return Lm.getShapeUtil(e).transform(e,i,{type:vn.TopLeft,scaleX:1,scaleY:-1,initialShape:e,transformOrigin:[.5,.5]})}}),o),u=s.before,c=s.after;return{id:"flip",before:{document:{pages:i({},o,{shapes:u}),pageStates:i({},o,{selectedIds:r})}},after:{document:{pages:i({},o,{shapes:c}),pageStates:i({},o,{selectedIds:t})}}}}function Hm(e,t,n){var r,o,a,l=e.currentPageId,s=e.page,u=new Set(t.map((function(t){return e.getShape(t).parentId}))),c={before:{},after:{}};return Array.from(u.values()).forEach((function(i){var u=[];if(i===s.id)u=Object.values(s.shapes).sort((function(e,t){return e.childIndex-t.childIndex}));else{var d=e.getShape(i);if(!d.children)throw Error("No children in parent!");u=d.children.map((function(t){return e.getShape(t)})).sort((function(e,t){return e.childIndex-t.childIndex}))}var f=u.map((function(e){return e.id})),p=t.filter((function(e){return f.includes(e)})).map((function(e){return f.indexOf(e)})).sort((function(e,t){return e-t}));if(p.length!==f.length)switch(n){case"toBack":for(var h=0;h<f.length;h++)if(!p.includes(h)){r=h;break}o=u[r].childIndex,a=o/(p.length+1),c=Lm.mutateShapes(e.state,p.map((function(e){return u[e].id})).reverse(),(function(e,t){return{childIndex:o-(t+1)*a}}),l);break;case"toFront":for(var v=f.length-1;v>=0;v--)if(!p.includes(v)){r=v;break}o=u[r].childIndex,a=1,c=Lm.mutateShapes(e.state,p.map((function(e){return u[e].id})),(function(e,t){return{childIndex:o+(t+1)}}),l);break;case"backward":for(var g={},m=f.length-1;m>=0;m--)if(p.includes(m))for(var y=m;y>=0;y--)if(!p.includes(y)){var b=u[y].childIndex,w=void 0,k=void 0;0===y?(w=b/2,k=b/2/(m-y+1)):(w=u[y-1].childIndex,w+=k=(b-w)/(m-y+1));for(var S=0;S<m-y;S++)g[u[y+S+1].id]=w+k*S;break}Object.values(g).length>0&&(c=Lm.mutateShapes(e.state,p.map((function(e){return u[e].id})),(function(e){return{childIndex:g[e.id]}}),l));break;case"forward":for(var C={},E=0;E<f.length;E++)if(p.includes(E))for(var x=E;x<f.length;x++)if(!p.includes(x)){o=u[x].childIndex;for(var I=x===f.length-1?1:(u[x+1].childIndex-o)/(x-E+1),P=0;P<x-E;P++)C[u[E+P].id]=o+I*(P+1);break}Object.values(C).length>0&&(c=Lm.mutateShapes(e.state,p.map((function(e){return u[e].id})),(function(e){return{childIndex:C[e.id]}}),l))}})),{id:"move",before:{document:{pages:i({},l,{shapes:c.before}),pageStates:i({},l,{selectedIds:t})}},after:{document:{pages:i({},l,{shapes:c.after}),pageStates:i({},l,{selectedIds:t})}}}}function Fm(e,t,n){var r=e.currentPageId,o=Lm.mutateShapes(e.state,t,(function(t){var n,r;return null==(r=(n=e.getShapeUtil(t)).onDoubleClickBoundsHandle)?void 0:r.call(n,t)}),n),a=o.before,l=o.after;return{id:"reset_bounds",before:{document:{pages:i({},r,{shapes:a}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:l}),pageStates:i({},r,{selectedIds:t})}}}}var Nm=2*Math.PI;function Um(e,t,n){var r=e.currentPageId,o=t.map((function(t){return e.getShape(t)})).filter((function(e){return"isLocked"===n||!e.isLocked})),a=o.every((function(e){return e[n]})),l={},s={};return o.forEach((function(e){l[e.id]=i({},n,e[n]),s[e.id]=i({},n,!a)})),{id:"toggle",before:{document:{pages:i({},r,{shapes:l}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:t})}}}}var Km=b((function e(t){w(this,e),this.app=t})),Vm=function(e){f(n,e);var t=h(n);function n(e,r,o){var a,l,s,u,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w(this,n),a=t.call(this,e),hh(d(a),"type","arrow"),hh(d(a),"performanceMode"),hh(d(a),"status","translatingHandle"),hh(d(a),"newStartBindingId",bn.uniqueId()),hh(d(a),"draggedBindingId",bn.uniqueId()),hh(d(a),"didBind",!1),hh(d(a),"initialShape"),hh(d(a),"handleId"),hh(d(a),"bindableShapeIds"),hh(d(a),"initialBinding"),hh(d(a),"startBindingShapeId"),hh(d(a),"isCreate"),hh(d(a),"start",(function(){})),hh(d(a),"update",(function(){var e,t,n,r=d(a).initialShape,o=a.app,l=o.currentPoint,s=o.shiftKey,u=o.altKey,c=o.metaKey,f=o.currentGrid,p=o.settings.showGrid,h=a.app.getShape(r.id);if(!h.isLocked){var v=h.handles,g=a.handleId;if(v[g].canBind){var m=M.sub(l,v[g].point);if(s){var y=v["start"===g?"end":"start"].point,b=v[g].point,w=M.toFixed(M.sub(M.add(b,m),h.point)),k=M.angle(y,w),S=M.rotWith(w,y,bn.snapAngleToSegments(k,24)-k);m=M.add(m,M.sub(S,w))}var E=M.sub(M.add(v[g].point,m),h.point),x=ch(uh({},v[g]),{point:p?M.snap(E,f):M.toFixed(E),bindingId:void 0}),I=Tm.arrow,P=null==(e=I.onHandleChange)?void 0:e.call(I,h,i({},g,x));if(P){var _,D={shape:bn.deepMerge(h,P),bindings:{}},T=D.shape.handles[a.handleId],O=D.shape.handles["start"===a.handleId?"end":"start"];if(a.startBindingShapeId){var R,L=a.app.page.shapes[a.startBindingShapeId],B=Lm.getShapeUtil(L),A=B.getCenter(L),j=D.shape.handles.start,z=D.shape.handles.end,H=M.add(j.point,D.shape.point);M.isEqual(H,A)&&H[1]++;var F=A,N=B.hitTestPoint(L,l),U=M.uni(M.sub(H,F)),K=void 0!==a.app.getBinding(a.newStartBindingId);c||B.hitTestPoint(L,M.add(D.shape.point,z.point))||(R=a.findBindingPoint(h,L,"start",a.newStartBindingId,A,F,U,N)),R&&!K?(a.didBind=!0,D.bindings[a.newStartBindingId]=R,D.shape=bn.deepMerge(D.shape,{handles:{start:{bindingId:R.id}}})):!R&&K&&(a.didBind=!1,D.bindings[a.newStartBindingId]=void 0,D.shape=bn.deepMerge(r,{handles:{start:{bindingId:void 0}}}))}if(!c){var V,W=M.add(O.point,D.shape.point),Y=M.add(T.point,D.shape.point),X=M.uni(M.sub(Y,W)),$=M.add(D.shape.point,D.shape.handles.start.point),Z=M.add(D.shape.point,D.shape.handles.end.point),G=a.bindableShapeIds.map((function(e){return a.app.page.shapes[e]})).sort((function(e,t){return t.childIndex-e.childIndex})).filter((function(e){var t=Lm.getShapeUtil(e);return![$,Z].every((function(n){return t.hitTestPoint(e,n)}))})),q=C(G);try{for(q.s();!(V=q.n()).done;){var Q=V.value;if(_=a.findBindingPoint(h,Q,a.handleId,a.draggedBindingId,Y,W,X,u))break}}catch(JI){q.e(JI)}finally{q.f()}}if(_)a.didBind=!0,D.bindings[a.draggedBindingId]=_,D.shape=bn.deepMerge(D.shape,{handles:i({},a.handleId,{bindingId:a.draggedBindingId})});else{a.didBind=a.didBind||!1;var J=h.handles[a.handleId].bindingId;void 0!==J&&(D.bindings[J]=void 0,D.shape=bn.deepMerge(D.shape,{handles:i({},a.handleId,{bindingId:void 0})}))}var ee=null==(n=(t=Lm.getShapeUtil(D.shape)).onHandleChange)?void 0:n.call(t,D.shape,D.shape.handles);return{document:{pages:i({},a.app.currentPageId,{shapes:i({},h.id,uh(uh({},D.shape),null!=ee?ee:{})),bindings:D.bindings}),pageStates:i({},a.app.currentPageId,{bindingId:D.shape.handles[g].bindingId})}}}}}})),hh(d(a),"cancel",(function(){var e=d(a),t=e.initialShape,n=e.initialBinding,r=e.newStartBindingId,o=e.draggedBindingId,l=Lm.onSessionComplete(a.app.page.shapes[t.id]),s=a.isCreate||M.dist(l.handles.start.point,l.handles.end.point)<4,u={};return u[o]=void 0,n&&(u[n.id]=s?void 0:n),r&&(u[r]=void 0),{document:{pages:i({},a.app.currentPageId,{shapes:i({},t.id,s?void 0:t),bindings:u}),pageStates:i({},a.app.currentPageId,{selectedIds:s?[]:[t.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}}})),hh(d(a),"complete",(function(){var e=d(a),t=e.initialShape,n=e.initialBinding,r=e.newStartBindingId,o=e.startBindingShapeId,l=e.handleId,s=Lm.onSessionComplete(a.app.page.shapes[t.id]),u=s.handles[l].bindingId,c=M.dist(s.handles.start.point,s.handles.end.point);if(!u&&!n&&c<4)return a.cancel();var f={},p={};return n&&(f[n.id]=a.isCreate?void 0:n,p[n.id]=void 0),u&&(f[u]=void 0,p[u]=a.app.page.bindings[u]),o&&(f[r]=void 0,p[r]=a.app.page.bindings[r]),{id:"arrow",before:{document:{pages:i({},a.app.currentPageId,{shapes:i({},t.id,a.isCreate?void 0:t),bindings:f}),pageStates:i({},a.app.currentPageId,{selectedIds:a.isCreate?[]:[t.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}},after:{document:{pages:i({},a.app.currentPageId,{shapes:i({},t.id,s),bindings:p}),pageStates:i({},a.app.currentPageId,{selectedIds:[t.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}}}})),hh(d(a),"findBindingPoint",(function(e,t,n,r,i,o,a,l){var s=Lm.getShapeUtil(t.type).getBindingPoint(t,e,i,o,a,l);if(s)return{id:r,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:M.toFixed(s.point),distance:s.distance}})),a.isCreate=c;var f=e.state.appState.currentPageId,p=e.state.document.pages[f];a.handleId=o,a.initialShape=Om(p.shapes[r]),a.bindableShapeIds=Lm.getBindableShapeIds(e.state).filter((function(e){return!(e===a.initialShape.id||e===a.initialShape.parentId)}));var h=null==(l=a.initialShape.handles["start"===o?"end":"start"])?void 0:l.bindingId;if(h){var v=null==(s=p.bindings[h])?void 0:s.toId;v&&(a.bindableShapeIds=a.bindableShapeIds.filter((function(e){return e!==v})))}var g=a.app.originPoint;if(a.isCreate)a.startBindingShapeId=null==(u=a.bindableShapeIds.map((function(e){return p.shapes[e]})).filter((function(e){return bn.pointInBounds(g,Lm.getShapeUtil(e).getBounds(e))})).sort((function(e,t){return t.childIndex-e.childIndex}))[0])?void 0:u.id,a.startBindingShapeId&&a.bindableShapeIds.splice(a.bindableShapeIds.indexOf(a.startBindingShapeId),1);else{var m=a.initialShape.handles[a.handleId].bindingId;m?a.initialBinding=p.bindings[m]:a.initialShape.handles[a.handleId].bindingId=void 0}return a}return b(n)}(Km),Wm=function(e){f(n,e);var t=h(n);function n(e){var r;w(this,n),r=t.call(this,e),hh(d(r),"type","brush"),hh(d(r),"performanceMode"),hh(d(r),"status","brushing"),hh(d(r),"initialSelectedIds"),hh(d(r),"shapesToTest"),hh(d(r),"start",(function(){})),hh(d(r),"update",(function(){var e=d(r),t=e.initialSelectedIds,n=e.shapesToTest,o=e.app,a=o.metaKey,l=o.settings,s=o.originPoint,u=o.currentPoint,c=bn.getBoundsFromPoints([s,u]),f=l.isCadSelectMode?!a&&s[0]<u[0]:a,p=new Set,h=new Set(t);n.forEach((function(e){var t=e.id,n=e.selectId,i=r.app.getShape(t);if(!p.has(n)){var o=r.app.getShapeUtil(i);(f?bn.boundsContain(c,o.getBounds(i)):o.hitTestBounds(i,c))?(p.add(n),h.has(n)||h.add(n)):h.has(n)&&h.delete(n)}}));var v=r.app.selectedIds,g=h.size!==v.length||v.some((function(e){return!h.has(e)})),m=g?Array.from(h.values()):v;return{appState:{selectByContain:f},document:{pageStates:i({},r.app.currentPageId,{brush:c,selectedIds:m})}}})),hh(d(r),"cancel",(function(){return{appState:{selectByContain:!1},document:{pageStates:i({},r.app.currentPageId,{brush:null,selectedIds:Array.from(r.initialSelectedIds.values())})}}})),hh(d(r),"complete",(function(){return{appState:{selectByContain:!1},document:{pageStates:i({},r.app.currentPageId,{brush:null,selectedIds:S(r.app.selectedIds)})}}}));var o=e.currentPageId;return r.initialSelectedIds=new Set(r.app.selectedIds),r.shapesToTest=r.app.shapes.filter((function(e){return!(e.isLocked||e.isHidden||e.parentId!==o||r.initialSelectedIds.has(e.id)||r.initialSelectedIds.has(e.parentId))})).map((function(e){return{id:e.id,bounds:r.app.getShapeUtil(e).getBounds(e),selectId:e.id}})),r.update(),r}return b(n)}(Km),Ym=function(e){f(n,e);var t=h(n);function n(e,r){var o,a;w(this,n),o=t.call(this,e),hh(d(o),"type","draw"),hh(d(o),"performanceMode"),hh(d(o),"status","creating"),hh(d(o),"topLeft"),hh(d(o),"points"),hh(d(o),"initialShape"),hh(d(o),"lastAdjustedPoint"),hh(d(o),"shiftedPoints",[]),hh(d(o),"shapeId"),hh(d(o),"isLocked"),hh(d(o),"isExtending"),hh(d(o),"lockedDirection"),hh(d(o),"start",(function(){var e,t=o.app.originPoint,n=[0,0,null!=(e=t[2])?e:.5];o.points.push(n);var r=[Math.min(o.topLeft[0],t[0]),Math.min(o.topLeft[1],t[1])],a=M.sub(r,t);return o.topLeft=r,o.shiftedPoints=o.points.map((function(e){return M.toFixed(M.sub(e,a)).concat(e[2])})),{document:{pages:i({},o.app.currentPageId,{shapes:i({},o.shapeId,{point:o.topLeft,points:o.shiftedPoints})}),pageStates:i({},o.app.currentPageId,{selectedIds:[o.shapeId]})}}})),hh(d(o),"update",(function(){var e=d(o).shapeId,t=o.app,n=t.currentPoint,r=t.originPoint,a=t.shiftKey;if(!o.lockedDirection&&o.points.length>1){var l=bn.getBoundsFromPoints(o.points);(l.width>8||l.height>8)&&(o.lockedDirection=l.width>l.height?"horizontal":"vertical")}if(a){if(!o.isLocked&&o.points.length>2){if(!o.lockedDirection){var s=bn.getBoundsFromPoints(o.points);o.lockedDirection=s.width>s.height?"horizontal":"vertical"}o.isLocked=!0;var u=S(o.lastAdjustedPoint);"vertical"===o.lockedDirection?u[0]=0:u[1]=0,o.points.push(u.concat(n[2]))}}else o.isLocked&&(o.isLocked=!1);o.isLocked&&("vertical"===o.lockedDirection?n[0]=r[0]:n[1]=r[1]);var c=o.addPoint(n);if(c)return{document:{pages:i({},o.app.currentPageId,{shapes:i({},e,c)}),pageStates:i({},o.app.currentPageId,{selectedIds:[e]})}}})),hh(d(o),"cancel",(function(){var e=d(o).shapeId,t=o.app.currentPageId;return{document:{pages:i({},t,{shapes:i({},e,o.isExtending?o.initialShape:void 0)}),pageStates:i({},t,{selectedIds:[]})}}})),hh(d(o),"complete",(function(){var e=d(o).shapeId,t=o.app.currentPageId,n=o.app.getShape(e);return{id:"create_draw",before:{document:{pages:i({},t,{shapes:i({},e,o.isExtending?o.initialShape:void 0)}),pageStates:i({},t,{selectedIds:[]})}},after:{document:{pages:i({},t,{shapes:i({},e,ch(uh({},n),{point:M.toFixed(n.point),points:n.points.map((function(e){return M.toFixed(e)})),isComplete:!0}))}),pageStates:i({},o.app.currentPageId,{selectedIds:[]})}}}})),hh(d(o),"addPoint",(function(e){var t=o.app.originPoint,n=M.toFixed(M.sub(e,t)).concat(e[2]);if(!M.isEqual(o.lastAdjustedPoint,n)){o.points.push(n),o.lastAdjustedPoint=n;var r,i=S(o.topLeft),a=[Math.min(o.topLeft[0],e[0]),Math.min(o.topLeft[1],e[1])],l=M.sub(a,t);return i[0]!==a[0]||i[1]!==a[1]?(o.topLeft=a,r=o.points.map((function(e){return M.toFixed(M.sub(e,l)).concat(e[2])}))):r=[].concat(S(o.shiftedPoints),[M.sub(n,l).concat(n[2])]),o.shiftedPoints=r,{point:o.topLeft,points:r}}}));var l=o.app.originPoint;o.shapeId=r,o.initialShape=o.app.getShape(r),o.topLeft=S(o.initialShape.point);var s=[0,0,null!=(a=l[2])?a:.5],u=M.sub(l,o.topLeft),c=o.initialShape.points.map((function(e){return M.sub(e,u).concat(e[2])}));o.isExtending=c.length>0;var f=[];if(o.isExtending){var p=c[c.length-1];f.push(p,p);for(var h=Math.ceil(M.dist(p,s)/16),v=0;v<h;v++){var g=v/(h-1);f.push(M.lrp(p,s,g).concat(p[2]))}}else f.push(s);return o.points=[].concat(S(c),f),o.shiftedPoints=o.points.map((function(e){return M.add(e,u).concat(e[2])})),o.lastAdjustedPoint=o.points[o.points.length-1],o}return b(n)}(Km),Xm=function(e){f(n,e);var t=h(n);function n(e,r,o){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move_handle";w(this,n),a=t.call(this,e),hh(d(a),"type","handle"),hh(d(a),"performanceMode"),hh(d(a),"status","translatingHandle"),hh(d(a),"commandId"),hh(d(a),"topLeft"),hh(d(a),"shiftKey",!1),hh(d(a),"initialShape"),hh(d(a),"handleId"),hh(d(a),"start",(function(){})),hh(d(a),"update",(function(){var e,t,n=d(a),r=n.initialShape,o=n.app,l=o.currentPageId,s=o.currentPoint,u=(o.shiftKey,o.altKey,o.metaKey,a.app.getShape(r.id));if(!u.isLocked){var c=u.handles,f=a.handleId,p=M.sub(s,c[f].point),h=ch(uh({},c[f]),{point:M.sub(M.add(c[f].point,p),u.point)}),v=null==(t=(e=Lm.getShapeUtil(u)).onHandleChange)?void 0:t.call(e,u,i({},f,h));if(v)return{document:{pages:i({},l,{shapes:i({},u.id,v)})}}}})),hh(d(a),"cancel",(function(){var e=d(a),t=e.initialShape;return{document:{pages:i({},e.app.currentPageId,{shapes:i({},t.id,t)})}}})),hh(d(a),"complete",(function(){var e=d(a),t=e.initialShape,n=e.app.currentPageId;return{id:a.commandId,before:{document:{pages:i({},n,{shapes:i({},t.id,t)})}},after:{document:{pages:i({},n,{shapes:i({},t.id,Lm.onSessionComplete(a.app.getShape(a.initialShape.id)))})}}}}));var s=e.originPoint;return a.topLeft=S(s),a.handleId=o,a.initialShape=a.app.getShape(r),a.commandId=l,a}return b(n)}(Km),$m=function(e){f(n,e);var t=h(n);function n(e){var r;w(this,n),r=t.call(this,e),hh(d(r),"type","rotate"),hh(d(r),"status","transforming"),hh(d(r),"performanceMode"),hh(d(r),"delta",[0,0]),hh(d(r),"commonBoundsCenter"),hh(d(r),"initialAngle"),hh(d(r),"initialShapes"),hh(d(r),"changes",{}),hh(d(r),"start",(function(){})),hh(d(r),"update",(function(){var e=d(r),t=e.commonBoundsCenter,n=e.initialShapes,o=e.app,a=o.currentPageId,l=o.currentPoint,s=o.shiftKey,u={},c=M.angle(t,l)-r.initialAngle;return s&&(c=bn.snapAngleToSegments(c,24)),n.forEach((function(e){var n=e.center,r=e.shape,i=r.rotation,o=void 0===i?0:i,a=0;s&&(a=bn.snapAngleToSegments(o,24)-o);var l=Lm.getRotatedShapeMutation(r,n,t,s?c+a:c);l&&(u[r.id]=l)})),r.changes=u,{document:{pages:i({},a,{shapes:u})}}})),hh(d(r),"cancel",(function(){var e=d(r),t=e.initialShapes,n=e.app.currentPageId,o={};return t.forEach((function(e){var t=e.shape;return o[t.id]=t})),{document:{pages:i({},n,{shapes:o})}}})),hh(d(r),"complete",(function(){var e=d(r),t=e.initialShapes,n=e.app.currentPageId,o={},a=r.changes;return t.forEach((function(e){var t=e.shape,n=t.id,r=t.point,i=t.rotation,a=t.handles;o[n]={point:r,rotation:i,handles:a}})),{id:"rotate",before:{document:{pages:i({},n,{shapes:o})}},after:{document:{pages:i({},n,{shapes:a})}}}}));var o=d(r).app,a=o.currentPageId,l=o.pageState,s=o.originPoint,u=Lm.getSelectedBranchSnapshot(e.state,a).filter((function(e){return!e.isLocked}));if(0===u.length)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===l.selectedIds){if(void 0===e.rotationInfo.center)throw Error("We should have a center for rotation!");r.commonBoundsCenter=e.rotationInfo.center}else r.commonBoundsCenter=bn.getBoundsCenter(bn.getCommonBounds(u.map(Lm.getBounds))),e.rotationInfo.selectedIds=l.selectedIds,e.rotationInfo.center=r.commonBoundsCenter;return r.initialShapes=u.filter((function(e){return void 0===e.children})).map((function(e){return{shape:e,center:r.app.getShapeUtil(e).getCenter(e)}})),r.initialAngle=M.angle(r.commonBoundsCenter,s),r}return b(n)}(Km),Zm=function(e){f(n,e);var t=h(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn.BottomRight,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w(this,n),(r=t.call(this,e)).transformType=o,r.isCreate=a,hh(d(r),"type","transform"),hh(d(r),"performanceMode"),hh(d(r),"status","transforming"),hh(d(r),"scaleX",1),hh(d(r),"scaleY",1),hh(d(r),"initialShapes"),hh(d(r),"initialShapeIds"),hh(d(r),"initialSelectedIds"),hh(d(r),"shapeBounds"),hh(d(r),"hasUnlockedShapes"),hh(d(r),"isAllAspectRatioLocked"),hh(d(r),"initialCommonBounds"),hh(d(r),"snapInfo",{state:"empty"}),hh(d(r),"prevPoint",[0,0]),hh(d(r),"speed",1),hh(d(r),"start",(function(){r.snapInfo={state:"ready",bounds:r.app.shapes.filter((function(e){return!r.initialShapeIds.includes(e.id)})).map((function(e){return bn.getBoundsWithCenter(Lm.getRotatedBounds(e))}))}})),hh(d(r),"update",(function(){var e=d(r),t=e.transformType,n=e.shapeBounds,o=e.initialCommonBounds,a=e.isAllAspectRatioLocked,l=e.app,s=l.currentPageId,u=l.pageState.camera,c=l.viewport,f=l.currentPoint,p=l.previousPoint,h=l.originPoint,v=l.shiftKey,g=l.altKey,m=l.metaKey,y=l.currentGrid,b=l.settings,w=b.isSnapping,k=b.showGrid,S={},C=g?M.mul(M.sub(f,h),2):M.sub(f,h),E=bn.getTransformedBoundingBox(o,t,C,0,v||a);g&&(E=uh(uh({},E),bn.centerBounds(E,bn.getBoundsCenter(o)))),k&&(E=uh(uh({},E),bn.snapBoundsToGrid(E,y)));var x=M.dist(f,p)-r.speed;r.speed=r.speed+x*(x>1?.5:.15);var I=[];if((w&&!m||!w&&m)&&r.speed*u.zoom<10&&"ready"===r.snapInfo.state){var P=bn.getSnapPoints(bn.getBoundsWithCenter(E),r.snapInfo.bounds.filter((function(e){return bn.boundsContain(c,e)||bn.boundsCollide(c,e)})),5/u.zoom);P&&(I=P.snapLines,E=bn.getTransformedBoundingBox(o,t,M.sub(C,P.offset),0,v||a))}return r.scaleX=E.scaleX,r.scaleY=E.scaleY,n.forEach((function(e){var t=e.initialShape,n=e.initialShapeBounds,i=e.transformOrigin,a=bn.getRelativeTransformedBoundingBox(E,o,n,r.scaleX<0,r.scaleY<0);k&&(a=bn.snapBoundsToGrid(a,y));var l=Lm.transform(r.app.getShape(t.id),a,{type:r.transformType,initialShape:t,scaleX:r.scaleX,scaleY:r.scaleY,transformOrigin:i});S[t.id]=l})),{appState:{snapLines:I},document:{pages:i({},s,{shapes:S})}}})),hh(d(r),"cancel",(function(){var e=d(r),t=e.shapeBounds,n=e.app.currentPageId,o={};return r.isCreate?t.forEach((function(e){return o[e.initialShape.id]=void 0})):t.forEach((function(e){return o[e.initialShape.id]=e.initialShape})),{appState:{snapLines:[]},document:{pages:i({},n,{shapes:o}),pageStates:i({},n,{selectedIds:r.isCreate?[]:t.map((function(e){return e.initialShape.id}))})}}})),hh(d(r),"complete",(function(){var e=d(r),t=e.isCreate,n=e.shapeBounds,o=e.hasUnlockedShapes,a=e.app.currentPageId;if(o){if(r.isCreate&&M.dist(r.app.originPoint,r.app.currentPoint)<2)return r.cancel();var l,s,u={},c={};return t?(l=[],s=[],n.forEach((function(e){var t=e.initialShape;u[t.id]=void 0,c[t.id]=r.app.getShape(t.id)}))):(l=r.initialSelectedIds,s=r.initialSelectedIds,n.forEach((function(e){var t=e.initialShape;u[t.id]=t,c[t.id]=r.app.getShape(t.id)}))),{id:"transform",before:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:u}),pageStates:i({},a,{selectedIds:l,hoveredId:void 0,editingId:void 0})}},after:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:c}),pageStates:i({},a,{selectedIds:s,hoveredId:void 0,editingId:void 0})}}}}})),r.initialSelectedIds=S(r.app.selectedIds),r.app.rotationInfo.selectedIds=S(r.initialSelectedIds),r.initialShapes=Lm.getSelectedBranchSnapshot(r.app.state,r.app.currentPageId).filter((function(e){return!e.isLocked})),r.initialShapeIds=r.initialShapes.map((function(e){return e.id})),r.hasUnlockedShapes=r.initialShapes.length>0,r.isAllAspectRatioLocked=r.initialShapes.every((function(e){return e.isAspectRatioLocked||Lm.getShapeUtil(e).isAspectRatioLocked}));var l=Object.fromEntries(r.initialShapes.map((function(e){return[e.id,Lm.getBounds(e)]}))),s=Object.values(l);r.initialCommonBounds=bn.getCommonBounds(s);var u=bn.getBoundsFromPoints(s.map(bn.getBoundsCenter));return r.shapeBounds=r.initialShapes.map((function(e){var t=l[e.id],n=bn.getBoundsCenter(t);return{initialShape:e,initialShapeBounds:t,transformOrigin:[(n[0]-u.minX)/u.width,(n[1]-u.minY)/u.height]}})),r}return b(n)}(Km),Gm=function(e){f(n,e);var t=h(n);function n(e,r,o){var a,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w(this,n),a=t.call(this,e),hh(d(a),"type","transformSingle"),hh(d(a),"status","transforming"),hh(d(a),"performanceMode"),hh(d(a),"transformType"),hh(d(a),"scaleX",1),hh(d(a),"scaleY",1),hh(d(a),"isCreate"),hh(d(a),"initialShape"),hh(d(a),"initialShapeBounds"),hh(d(a),"initialCommonBounds"),hh(d(a),"snapInfo",{state:"empty"}),hh(d(a),"prevPoint",[0,0]),hh(d(a),"speed",1),hh(d(a),"start",(function(){a.snapInfo={state:"ready",bounds:a.app.shapes.filter((function(e){return e.id!==a.initialShape.id})).map((function(e){return bn.getBoundsWithCenter(Lm.getRotatedBounds(e))}))}})),hh(d(a),"update",(function(){var e=d(a),t=e.transformType,n=e.initialShape,r=e.initialShapeBounds,o=e.app,l=o.settings,s=l.isSnapping,u=l.showGrid,c=o.currentPageId,f=o.pageState.camera,p=o.viewport,h=o.currentPoint,v=o.previousPoint,g=o.originPoint,m=o.currentGrid,y=o.shiftKey,b=o.altKey,w=o.metaKey;if(!n.isLocked){var k={},S=b?M.mul(M.sub(h,g),2):M.sub(h,g),C=a.app.getShape(n.id),E=Lm.getShapeUtil(C),x=bn.getTransformedBoundingBox(r,t,S,C.rotation,y||C.isAspectRatioLocked||E.isAspectRatioLocked);b&&(x=uh(uh({},x),bn.centerBounds(x,bn.getBoundsCenter(r)))),u&&(x=uh(uh({},x),bn.snapBoundsToGrid(x,m)));var I=M.dist(h,v)-a.speed;a.speed=a.speed+I*(I>1?.5:.15);var P=[];if((s&&!w||!s&&w)&&!n.rotation&&a.speed*f.zoom<10&&"ready"===a.snapInfo.state){var _=bn.getSnapPoints(bn.getBoundsWithCenter(x),a.snapInfo.bounds.filter((function(e){return bn.boundsContain(p,e)||bn.boundsCollide(p,e)})),5/f.zoom);_&&(P=_.snapLines,x=bn.getTransformedBoundingBox(r,t,M.sub(S,_.offset),C.rotation,y||C.isAspectRatioLocked||E.isAspectRatioLocked))}var D=Lm.getShapeUtil(C).transformSingle(C,x,{initialShape:n,type:a.transformType,scaleX:x.scaleX,scaleY:x.scaleY,transformOrigin:[.5,.5]});return D&&(k[C.id]=D),u&&D&&D.point&&(D.point=M.snap(D.point,m)),{appState:{snapLines:P},document:{pages:i({},c,{shapes:k})}}}})),hh(d(a),"cancel",(function(){var e=d(a),t=e.initialShape,n=e.app.currentPageId,r={};return a.isCreate?r[t.id]=void 0:r[t.id]=t,{appState:{snapLines:[]},document:{pages:i({},n,{shapes:r}),pageStates:i({},n,{selectedIds:a.isCreate?[]:[t.id]})}}})),hh(d(a),"complete",(function(){var e=d(a),t=e.initialShape,n=e.app.currentPageId;if(!t.isLocked){if(a.isCreate&&M.dist(a.app.originPoint,a.app.currentPoint)<2)return a.cancel();var r={},o={};return r[t.id]=a.isCreate?void 0:t,o[t.id]=Lm.onSessionComplete(a.app.getShape(t.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:i({},n,{shapes:r}),pageStates:i({},n,{selectedIds:a.isCreate?[]:[t.id],editingId:void 0,hoveredId:void 0})}},after:{appState:{snapLines:[]},document:{pages:i({},n,{shapes:o}),pageStates:i({},n,{selectedIds:[t.id],editingId:void 0,hoveredId:void 0})}}}}})),a.isCreate=l,a.transformType=o;var s=a.app.getShape(r);return a.initialShape=s,a.initialShapeBounds=Lm.getBounds(s),a.initialCommonBounds=Lm.getRotatedBounds(s),a.app.rotationInfo.selectedIds=[s.id],a}return b(n)}(Km),qm=function(e){f(n,e);var t=h(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w(this,n),r=t.call(this,e),hh(d(r),"performanceMode"),hh(d(r),"type","translate"),hh(d(r),"status","translating"),hh(d(r),"delta",[0,0]),hh(d(r),"prev",[0,0]),hh(d(r),"prevPoint",[0,0]),hh(d(r),"speed",1),hh(d(r),"cloneInfo",{state:"empty"}),hh(d(r),"snapInfo",{state:"empty"}),hh(d(r),"snapLines",[]),hh(d(r),"isCloning",!1),hh(d(r),"isCreate"),hh(d(r),"link"),hh(d(r),"initialIds"),hh(d(r),"hasUnlockedShapes"),hh(d(r),"initialSelectedIds"),hh(d(r),"initialCommonBounds"),hh(d(r),"initialShapes"),hh(d(r),"initialParentChildren"),hh(d(r),"bindingsToDelete"),hh(d(r),"start",(function(){var e=d(r),t=e.bindingsToDelete,n=e.initialIds,o=e.app,a=o.currentPageId,l=o.page,s=[],u=[];if(Object.values(l.shapes).forEach((function(e){var t=bn.getBoundsWithCenter(Lm.getRotatedBounds(e));s.push(t),n.has(e.id)||u.push(t)})),r.snapInfo={state:"ready",bounds:s,others:u},0!==t.length){var c={};return t.forEach((function(e){return c[e.id]=void 0})),{document:{pages:i({},a,{bindings:c})}}}})),hh(d(r),"update",(function(){var e=d(r),t=e.initialParentChildren,n=e.initialShapes,o=e.initialCommonBounds,a=e.bindingsToDelete,l=e.app,s=l.pageState.camera,u=l.settings,c=u.isSnapping,f=u.showGrid,p=l.currentPageId,h=l.viewport,v=l.selectedIds,g=l.currentPoint,m=l.previousPoint,y=l.originPoint,b=l.altKey,w=l.shiftKey,k=l.metaKey,E=l.currentGrid,x={},I={},P={},_=M.sub(g,y),D=!1;r.isCreate||(b&&!r.isCloning?(r.isCloning=!0,D=!0):!b&&r.isCloning&&(r.isCloning=!1,D=!0)),w&&(Math.abs(_[0])<Math.abs(_[1])?_[0]=0:_[1]=0);var T=M.dist(g,m)-r.speed;if(r.speed=r.speed+T*(T>1?.5:.15),r.snapLines=[],(c&&!k||!c&&k)&&r.speed*s.zoom<10&&"ready"===r.snapInfo.state){var O=bn.getSnapPoints(bn.getBoundsWithCenter(f?bn.snapBoundsToGrid(bn.translateBounds(o,_),E):bn.translateBounds(o,_)),(r.isCloning?r.snapInfo.bounds:r.snapInfo.others).filter((function(e){return bn.boundsContain(h,e)||bn.boundsCollide(h,e)})),5/s.zoom);O&&(r.snapLines=O.snapLines,_=M.sub(_,O.offset))}if(r.prev=_,r.isCloning)if(D){if("empty"===r.cloneInfo.state&&r.createCloneInfo(),"empty"===r.cloneInfo.state)throw Error;var R=r.cloneInfo,L=R.clones,B=R.clonedBindings;r.isCloning=!0,a.forEach((function(e){return x[e.id]=e})),n.forEach((function(e){return I[e.id]={point:e.point}})),L.forEach((function(e){var n;if(I[e.id]=uh({},e),e.parentId!==p&&!v.includes(e.parentId)){var r=(null==(n=I[e.parentId])?void 0:n.children)||t[e.parentId];r.includes(e.id)||(I[e.parentId]=ch(uh({},I[e.parentId]),{children:[].concat(S(r),[e.id])}))}}));var A,j=C(B);try{for(j.s();!(A=j.n()).done;){var z=A.value;x[z.id]=z}}catch(JI){j.e(JI)}finally{j.f()}P.selectedIds=L.map((function(e){return e.id})),L.forEach((function(e){I[e.id]=ch(uh({},e),{point:f?M.snap(M.toFixed(M.add(e.point,_)),E):M.toFixed(M.add(e.point,_))})}))}else{if("empty"===r.cloneInfo.state)throw Error;r.cloneInfo.clones.forEach((function(e){I[e.id]={point:f?M.snap(M.toFixed(M.add(e.point,_)),E):M.toFixed(M.add(e.point,_))}}))}else if(D){if("empty"===r.cloneInfo.state)throw Error;var H=r.cloneInfo,F=H.clones,N=H.clonedBindings;r.isCloning=!1,a.forEach((function(e){return x[e.id]=void 0})),F.forEach((function(e){e.parentId!==p&&(I[e.parentId]=ch(uh({},I[e.parentId]),{children:t[e.parentId]}))})),F.forEach((function(e){return I[e.id]=void 0})),n.forEach((function(e){I[e.id]={point:f?M.snap(M.toFixed(M.add(e.point,_)),E):M.toFixed(M.add(e.point,_))}}));var U,K=C(N);try{for(K.s();!(U=K.n()).done;){var V=U.value;x[V.id]=void 0}}catch(JI){K.e(JI)}finally{K.f()}P.selectedIds=n.map((function(e){return e.id}))}else n.forEach((function(e){I[e.id]={point:f?M.snap(M.toFixed(M.add(e.point,_)),E):M.toFixed(M.add(e.point,_))}}));return{appState:{snapLines:r.snapLines},document:{pages:i({},p,{shapes:I,bindings:x}),pageStates:i({},p,P)}}})),hh(d(r),"cancel",(function(){var e=d(r),t=e.initialShapes,n=e.initialSelectedIds,o=e.bindingsToDelete,a=e.app.currentPageId,l={},s={},u={editingId:void 0,hoveredId:void 0};if(o.forEach((function(e){return l[e.id]=e})),r.isCreate?(t.forEach((function(e){var t=e.id;return s[t]=void 0})),u.selectedIds=[]):(t.forEach((function(e){var t=e.id,n=e.point;return s[t]=ch(uh({},s[t]),{point:n})})),u.selectedIds=n),"ready"===r.cloneInfo.state){var c=r.cloneInfo,f=c.clones,p=c.clonedBindings;f.forEach((function(e){return s[e.id]=void 0})),p.forEach((function(e){return l[e.id]=void 0}))}return{appState:{snapLines:[]},document:{pages:i({},a,{shapes:s,bindings:l}),pageStates:i({},a,u)}}})),hh(d(r),"complete",(function(){var e=d(r),t=e.initialShapes,n=e.initialParentChildren,o=e.bindingsToDelete,a=e.app.currentPageId,l={},s={},u={},c={};if(r.isCloning){if("empty"===r.cloneInfo.state&&r.createCloneInfo(),"ready"!==r.cloneInfo.state)throw Error;var f=r.cloneInfo,p=f.clones,h=f.clonedBindings;p.forEach((function(e){s[e.id]=void 0,c[e.id]=r.app.getShape(e.id),e.parentId!==a&&(s[e.parentId]=ch(uh({},s[e.parentId]),{children:n[e.parentId]}),c[e.parentId]=ch(uh({},c[e.parentId]),{children:r.app.getShape(e.parentId).children}))})),h.forEach((function(e){l[e.id]=void 0,u[e.id]=r.app.getBinding(e.id)}))}else t.forEach((function(e){s[e.id]=r.isCreate?void 0:ch(uh({},s[e.id]),{point:e.point}),c[e.id]=uh(uh({},c[e.id]),r.isCreate?r.app.getShape(e.id):{point:r.app.getShape(e.id).point})}));return o.forEach((function(e){l[e.id]=e;for(var t=function(){var t=i[n],o=r.app.getShape(t);if(!o.handles)return 1;Object.values(o.handles).filter((function(t){return t.bindingId===e.id})).forEach((function(n){s[t]=ch(uh({},s[t]),{handles:{}}),c[t]=ch(uh({},c[t]),{handles:{}}),s[t].handles[n.id]={bindingId:e.id},c[t].handles[n.id]={bindingId:void 0}}))},n=0,i=[e.toId,e.fromId];n<i.length;n++)t()})),{id:"translate",before:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:s,bindings:l}),pageStates:i({},a,{selectedIds:r.isCreate?[]:S(r.initialSelectedIds)})}},after:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:c,bindings:u}),pageStates:i({},a,{selectedIds:S(r.app.selectedIds)})}}}})),hh(d(r),"createCloneInfo",(function(){var e=d(r),t=e.initialShapes,n=e.initialParentChildren,i=e.app,o=i.selectedIds,a=i.currentPageId,l=i.page,s={},u={},c=[],f=[];t.forEach((function(e){var t=bn.uniqueId();n[t]=n[e.id],s[e.id]=t;var i=ch(uh({},bn.deepClone(e)),{id:t,parentId:e.parentId,childIndex:Lm.getChildIndexAbove(r.app.state,e.id,a)});if("video"===i.type){var o=document.getElementById(e.id+"_video");o&&(i.currentTime=(o.currentTime+16)%o.duration)}f.push(i)})),f.forEach((function(e){void 0!==e.children&&(e.children=e.children.map((function(e){return s[e]})))})),f.forEach((function(e){o.includes(e.parentId)&&(e.parentId=s[e.parentId])}));var p=new Set(Object.keys(s));Object.values(l.bindings).filter((function(e){return p.has(e.fromId)||p.has(e.toId)})).forEach((function(e){if(p.has(e.fromId)&&p.has(e.toId)){var t=bn.uniqueId(),n=ch(uh({},bn.deepClone(e)),{id:t,fromId:s[e.fromId]||e.fromId,toId:s[e.toId]||e.toId});u[e.id]=t,c.push(n)}})),f.forEach((function(e){if(e.handles&&e.handles)for(var t in e.handles){var n=e.handles[t];n.bindingId=n.bindingId?u[n.bindingId]:void 0}})),f.forEach((function(e){if(l.shapes[e.id])throw Error("uh oh, we didn't clone correctly")})),r.cloneInfo={state:"ready",clones:f,cloneMap:s,clonedBindings:c}})),r.isCreate=o,r.link=a;var l=r.app,s=l.currentPageId,u=l.selectedIds,c=l.page;r.initialSelectedIds=S(u);var f=(a?Lm.getLinkedShapeIds(r.app.state,s,a,!1):u).map((function(e){return r.app.getShape(e)})).filter((function(e){return!e.isLocked})),p=new Set(f.map((function(e){return e.id})));return r.hasUnlockedShapes=f.length>0,r.initialShapes=Array.from(new Set(f.filter((function(e){return!p.has(e.parentId)})).flatMap((function(e){return e.children?[e].concat(S(e.children.map((function(e){return r.app.getShape(e)})))):[e]}))).values()),r.initialIds=new Set(r.initialShapes.map((function(e){return e.id}))),r.bindingsToDelete=[],Object.values(c.bindings).filter((function(e){return r.initialIds.has(e.fromId)||r.initialIds.has(e.toId)})).forEach((function(e){r.initialIds.has(e.fromId)&&(r.initialIds.has(e.toId)||r.bindingsToDelete.push(e))})),r.initialParentChildren={},r.initialShapes.map((function(e){return e.parentId})).filter((function(e){return e!==c.id})).forEach((function(e){r.initialParentChildren[e]=r.app.getShape(e).children})),r.initialCommonBounds=bn.getCommonBounds(r.initialShapes.map(Lm.getRotatedBounds)),r.app.rotationInfo.selectedIds=S(r.app.selectedIds),r}return b(n)}(Km),Qm=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),r=t.call(this,e),hh(d(r),"type","draw"),hh(d(r),"performanceMode"),hh(d(r),"status","creating"),hh(d(r),"isLocked"),hh(d(r),"lockedDirection"),hh(d(r),"erasedShapes",new Set),hh(d(r),"erasedBindings",new Set),hh(d(r),"initialSelectedShapes"),hh(d(r),"erasableShapes"),hh(d(r),"prevPoint"),hh(d(r),"start",(function(){})),hh(d(r),"update",(function(){var e=r.app,t=e.page,n=e.shiftKey,o=e.originPoint,a=e.currentPoint;if(n){if(!r.isLocked&&M.dist(o,a)>4){if(!r.lockedDirection){var l=M.sub(a,o);r.lockedDirection=l[0]>l[1]?"horizontal":"vertical"}r.isLocked=!0}}else r.isLocked&&(r.isLocked=!1);r.isLocked&&("vertical"===r.lockedDirection?a[0]=o[0]:a[1]=o[1]);var s=M.toFixed(M.add(o,M.sub(a,o))),u=new Set([]);r.erasableShapes.forEach((function(e){if(!r.erasedShapes.has(e)&&r.app.getShapeUtil(e).hitTestLineSegment(e,r.prevPoint,s)&&(r.erasedShapes.add(e),u.add(e.id),void 0!==e.children)){var t,n=C(e.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.erasedShapes.add(r.app.getShape(i)),u.add(i)}}catch(JI){n.e(JI)}finally{n.f()}}})),Object.values(t.bindings).forEach((function(e){for(var t=0,n=[e.toId,e.fromId];t<n.length;t++){var i=n[t];u.has(i)&&r.erasedBindings.add(e)}})),r.erasedShapes.forEach((function(e){r.app.getShape(e.id)||(r.erasedShapes.delete(e),r.erasableShapes.delete(e),u.delete(e.id))}));var c=Array.from(r.erasedShapes.values());return r.prevPoint=s,{document:{pages:i({},t.id,{shapes:Object.fromEntries(c.map((function(e){return[e.id,{isGhost:!0}]})))})}}})),hh(d(r),"cancel",(function(){var e=r.app.page;r.erasedShapes.forEach((function(e){r.app.getShape(e.id)||(r.erasedShapes.delete(e),r.erasableShapes.delete(e))}));var t=Array.from(r.erasedShapes.values());return{document:{pages:i({},e.id,{shapes:Object.fromEntries(t.map((function(e){return[e.id,{isGhost:!1}]})))}),pageStates:i({},e.id,{selectedIds:r.initialSelectedShapes.map((function(e){return e.id}))})}}})),hh(d(r),"complete",(function(){var e=r.app.page;r.erasedShapes.forEach((function(e){r.app.getShape(e.id)||(r.erasedShapes.delete(e),r.erasableShapes.delete(e))})),r.erasedBindings.forEach((function(e){r.app.getBinding(e.id)||r.erasedBindings.delete(e)}));var t=Array.from(r.erasedShapes.values()),n=Array.from(r.erasedBindings.values()),o=t.map((function(e){return e.id})),a=n.map((function(e){return e.id})),l={shapes:Object.fromEntries(t.map((function(e){return[e.id,e]}))),bindings:Object.fromEntries(n.map((function(e){return[e.id,e]})))},s={shapes:Object.fromEntries(t.map((function(e){return[e.id,void 0]}))),bindings:Object.fromEntries(n.map((function(e){return[e.id,void 0]})))};return r.app.shapes.forEach((function(e){e.handles&&!s.shapes[e.id]&&Object.values(e.handles).forEach((function(t){var n,r;t.bindingId&&a.includes(t.bindingId)&&(l.shapes[e.id]=ch(uh({},l.shapes[e.id]),{handles:ch(uh({},null==(n=l.shapes[e.id])?void 0:n.handles),i({},t.id,t))}),o.includes(e.id)||(s.shapes[e.id]=ch(uh({},s.shapes[e.id]),{handles:ch(uh({},null==(r=s.shapes[e.id])?void 0:r.handles),i({},t.id,ch(uh({},t),{bindingId:void 0})))})))}))})),{id:"erase",before:{document:{pages:i({},e.id,l),pageStates:i({},e.id,{selectedIds:r.initialSelectedShapes.filter((function(e){return!!r.app.getShape(e.id)})).map((function(e){return e.id}))})}},after:{document:{pages:i({},e.id,s),pageStates:i({},e.id,{selectedIds:r.initialSelectedShapes.filter((function(e){return!!r.app.getShape(e.id)})).filter((function(e){return!o.includes(e.id)})).map((function(e){return e.id}))})}}}})),r.prevPoint=S(e.originPoint),r.initialSelectedShapes=r.app.selectedIds.map((function(e){return r.app.getShape(e)})),r.erasableShapes=new Set(r.app.shapes.filter((function(e){return!e.isLocked}))),r}return b(n)}(Km),Jm=function(e){f(n,e);var t=h(n);function n(e,r){var o,a;return w(this,n),o=t.call(this,e),hh(d(o),"type","grid"),hh(d(o),"performanceMode"),hh(d(o),"status","translating"),hh(d(o),"shape"),hh(d(o),"bounds"),hh(d(o),"initialSelectedIds"),hh(d(o),"initialSiblings"),hh(d(o),"grid",{}),hh(d(o),"columns",1),hh(d(o),"rows",1),hh(d(o),"isCopying",!1),hh(d(o),"start",(function(){})),hh(d(o),"update",(function(){var e=o.app,t=e.currentPageId,n=e.altKey,r=e.shiftKey,a=e.currentPoint,l={},s=bn.getBoundsCenter(o.bounds),u=M.sub(a,s);r&&(Math.abs(u[0])<Math.abs(u[1])?u[0]=0:u[1]=0);var c=o.bounds.width+32,d=o.bounds.height+32,f=Math.ceil(u[0]/c),p=Math.ceil(u[1]/d),h=Math.min(f,0),v=Math.min(p,0),g=Math.max(f,1),y=Math.max(p,1),b=new Set,w=n;w!==o.isCopying&&(Object.values(o.grid).filter((function(e){return e!==o.shape.id})).forEach((function(e){return l[e]=void 0})),o.grid={"0_0":o.shape.id},o.isCopying=w);for(var k=h;k<g;k++)for(var C=v;C<y;C++){var E="".concat(k,"_").concat(C);if(b.add(E),!o.grid[E]&&(0!==k||0!==C)){var x=o.getClone(M.add(o.shape.point,[k*c,C*d]),w);l[x.id]=x,o.grid[E]=x.id}}if(Object.entries(o.grid).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];b.has(n)||(l[r]=void 0,delete o.grid[n])})),0!==Object.values(l).length)return o.initialSiblings&&(l[o.shape.parentId]={children:[].concat(S(o.initialSiblings),S(Object.values(o.grid)))}),{document:{pages:i({},t,{shapes:l}),pageStates:i({},t,{})}}})),hh(d(o),"cancel",(function(){var e=o.app.currentPageId,t={};return Object.values(o.grid).forEach((function(e){t[e]=void 0})),t[o.shape.id]=ch(uh({},t[o.shape.id]),{point:o.shape.point}),o.initialSiblings&&(t[o.shape.parentId]={children:[].concat(S(o.initialSiblings),[o.shape.id])}),{document:{pages:i({},e,{shapes:t}),pageStates:i({},e,{selectedIds:[o.shape.id]})}}})),hh(d(o),"complete",(function(){var e=o.app.currentPageId,t={},n={},r=[];if(Object.values(o.grid).forEach((function(e){t[e]=void 0,n[e]=o.app.getShape(e),r.push(e)})),t[o.shape.id]=o.shape,o.initialSiblings&&(t[o.shape.parentId]={children:[].concat(S(o.initialSiblings),[o.shape.id])},n[o.shape.parentId]={children:[].concat(S(o.initialSiblings),S(Object.values(o.grid)))}),1!==r.length)return{id:"grid",before:{document:{pages:i({},e,{shapes:t}),pageStates:i({},e,{selectedIds:[],hoveredId:void 0})}},after:{document:{pages:i({},e,{shapes:n}),pageStates:i({},e,{selectedIds:r,hoveredId:void 0})}}}})),hh(d(o),"getClone",(function(e,t){var n=ch(uh({},o.shape),{id:bn.uniqueId(),point:e});return t||"sticky"===n.type&&(n.text=""),n})),o.shape=o.app.getShape(r),o.grid["0_0"]=o.shape.id,o.bounds=o.app.getShapeBounds(r),o.initialSelectedIds=S(o.app.selectedIds),o.shape.parentId!==o.app.currentPageId&&(o.initialSiblings=null==(a=o.app.getShape(o.shape.parentId).children)?void 0:a.filter((function(e){return e!==o.shape.id}))),o}return b(n)}(Km),ey=(i(zp={},"arrow",Vm),i(zp,"brush",Wm),i(zp,"draw",Ym),i(zp,"erase",Qm),i(zp,"handle",Xm),i(zp,"rotate",$m),i(zp,"transform",Zm),i(zp,"transformSingle",Gm),i(zp,"translate",qm),i(zp,"grid",Jm),zp),ty=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this)).app=e,hh(d(r),"type","select"),hh(d(r),"previous"),hh(d(r),"status","idle"),hh(d(r),"setStatus",(function(e){r.status=e,r.app.setStatus(r.status)})),hh(d(r),"onEnter",(function(){r.setStatus("idle")})),hh(d(r),"onExit",(function(){r.setStatus("idle")})),hh(d(r),"onCancel",(function(){"idle"===r.status?r.app.selectTool("select"):r.setStatus("idle"),r.app.cancelSession()})),hh(d(r),"getNextChildIndex",(function(){var e=r.app,t=e.shapes,n=e.appState.currentPageId;return 0===t.length?1:t.filter((function(e){return e.parentId===n})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1})),hh(d(r),"onPinchStart",(function(){r.app.cancelSession(),r.setStatus("pinching")})),hh(d(r),"onPinchEnd",(function(){bn.isMobileSafari()&&r.app.undoSelect(),r.setStatus("idle")})),hh(d(r),"onPinch",(function(e,t){var n;"pinching"===r.status&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(r.app.pinchZoom(e.point,e.delta,e.delta[2]),null==(n=r.onPointerMove)||n.call(d(r),e,t)))})),hh(d(r),"onKeyDown",(function(e){"Escape"!==e?"Meta"!==e&&"Control"!==e&&"Alt"!==e||r.app.updateSession():r.onCancel()})),hh(d(r),"onKeyUp",(function(e){"Meta"!==e&&"Control"!==e&&"Alt"!==e||r.app.updateSession()})),hh(d(r),"onPointerMove",(function(){"creating"===r.status&&r.app.updateSession()})),hh(d(r),"onPointerUp",(function(){"creating"===r.status&&(r.app.completeSession(),r.app.appState.isToolLocked||r.app.selectTool("select"));r.setStatus("idle")})),r}return b(n)}(qh),ny=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","select"),hh(d(e),"pointedId"),hh(d(e),"selectedGroupId"),hh(d(e),"pointedHandleId"),hh(d(e),"pointedBoundsHandle"),hh(d(e),"pointedLinkHandleId"),hh(d(e),"onEnter",(function(){e.setStatus("idle")})),hh(d(e),"onExit",(function(){e.setStatus("idle")})),hh(d(e),"clonePaint",(function(t){if(0!==e.app.selectedIds.length){var n=e.app.selectedIds.map((function(t){return e.app.getShape(t)})),r=bn.expandBounds(bn.getCommonBounds(n.map(Lm.getBounds)),16),i=bn.getBoundsCenter(r),o=[r.width,r.height],a=[i[0]+o[0]*Math.floor((t[0]+o[0]/2-i[0])/o[0]),i[1]+o[1]*Math.floor((t[1]+o[1]/2-i[1])/o[1])],l=bn.centerBounds(r,a);e.app.shapes.some((function(e){return Lm.getShapeUtil(e).hitTestBounds(e,l)}))||e.app.duplicate(e.app.selectedIds,a)}})),hh(d(e),"getShapeClone",(function(t,n){var r=e.app.getShape(t),i=Lm.getShapeUtil(r);if(i.canClone){var o=i.getBounds(r),a=i.getCenter(r),l={top:[o.minX,o.minY-(o.height+ov)],right:[o.maxX+ov,o.minY],bottom:[o.minX,o.maxY+ov],left:[o.minX-(o.width+ov),o.minY],topLeft:[o.minX-(o.width+ov),o.minY-(o.height+ov)],topRight:[o.maxX+ov,o.minY-(o.height+ov)],bottomLeft:[o.minX-(o.width+ov),o.maxY+ov],bottomRight:[o.maxX+ov,o.maxY+ov]}[n];if(0!==r.rotation){var s=D.add(l,[o.width/2,o.height/2]),u=D.rotWith(s,a,r.rotation||0);l=D.sub(u,[o.width/2,o.height/2])}var c=bn.uniqueId(),d=ch(uh({},r),{id:c,point:l});return"sticky"===d.type&&(d.text=""),d}})),hh(d(e),"onCancel",(function(){e.app.pageState.editingId?e.app.setEditingId():e.selectNone(),e.app.cancelSession(),e.setStatus("idle")})),hh(d(e),"onKeyDown",(function(t,n,r){switch(t){case"Escape":e.onCancel();break;case"Tab":if(!e.app.pageState.editingId&&"idle"===e.status&&1===e.app.selectedIds.length){var i=m(e.app.selectedIds,1)[0],o=e.getShapeClone(i,"right");o&&(e.app.createShapes(o),e.setStatus("idle"),"sticky"===o.type&&(e.app.select(o.id),e.app.setEditingId(o.id)))}break;case"Meta":case"Control":case"Alt":e.app.updateSession();break;case"Enter":var a=e.app.pageState;1!==a.selectedIds.length||a.editingId||(e.app.setEditingId(a.selectedIds[0]),r.preventDefault())}})),hh(d(e),"onKeyUp",(function(t,n){"clonePainting"!==e.status||n.altKey&&n.shiftKey?"Meta"!==t&&"Control"!==t&&"Alt"!==t||e.app.updateSession():e.setStatus("idle")})),hh(d(e),"onPointerMove",(function(t,n){var r=e.app,i=r.originPoint,o=r.currentPoint;switch(e.status){case"pointingBoundsHandle":if(!e.pointedBoundsHandle)throw Error("No pointed bounds handle");if(D.dist(i,o)>3){if("rotate"===e.pointedBoundsHandle)e.setStatus("rotating"),e.app.startSession("rotate");else if("center"===e.pointedBoundsHandle||"left"===e.pointedBoundsHandle||"right"===e.pointedBoundsHandle)e.setStatus("translating"),e.app.startSession("translate",!1,e.pointedBoundsHandle);else{e.setStatus("transforming");var a=e.app.selectedIds.flatMap((function(t){return Lm.getDocumentBranch(e.app.state,t,e.app.currentPageId)}));1===a.length?e.app.startSession("transformSingle",a[0],e.pointedBoundsHandle):e.app.startSession("transform",e.pointedBoundsHandle)}e.app.updateSession()}break;case"pointingCanvas":D.dist(i,o)>3&&(e.app.startSession("brush"),e.setStatus("brushing"));break;case"pointingClone":D.dist(i,o)>3&&(e.setStatus("translatingClone"),e.app.startSession("translate"),e.app.updateSession());break;case"pointingBounds":D.dist(i,o)>3&&(e.setStatus("translating"),e.app.startSession("translate"),e.app.updateSession());break;case"pointingHandle":if(!e.pointedHandleId)throw Error("No pointed handle");if(D.dist(i,o)>3){e.setStatus("translatingHandle");var l=e.app.getShape(e.app.selectedIds[0]);l&&("bend"===e.pointedHandleId?(e.app.startSession("handle",l.id,e.pointedHandleId),e.app.updateSession()):(e.app.startSession("arrow",l.id,e.pointedHandleId,!1),e.app.updateSession()))}break;case"clonePainting":e.clonePaint(o);break;default:if(e.app.session){e.app.updateSession();break}}})),hh(d(e),"onPointerDown",(function(t,n){if("canvas"===t.target&&"idle"===e.status){var r=e.app.currentPoint;if(t.spaceKey&&1===n.buttons)return;if("idle"===e.status&&t.altKey&&t.shiftKey)return e.setStatus("clonePainting"),void e.clonePaint(r);if(!t.shiftKey){if(e.app.onShapeBlur(),t.altKey&&e.app.selectedIds.length>0)return void e.app.duplicate(e.app.selectedIds,r);e.selectNone()}e.setStatus("pointingCanvas")}})),hh(d(e),"onPointerUp",(function(t){if("translatingClone"===e.status||"pointingClone"===e.status)return e.pointedId&&(e.app.completeSession(),e.app.setEditingId(e.pointedId)),e.setStatus("idle"),void(e.pointedId=void 0);if("pointingBounds"===e.status)if("bounds"===t.target)e.selectNone();else if(e.app.isSelected(t.target))t.shiftKey?e.pointedId!==t.target&&e.deselect(t.target):e.pointedId!==t.target&&e.app.selectedIds.length>1&&e.select(t.target);else if(e.pointedId===t.target){if(e.app.getShape(t.target).isLocked)return;t.shiftKey?e.pushSelect(t.target):e.select(t.target)}e.app.completeSession(),e.setStatus("idle"),e.pointedBoundsHandle=void 0,e.pointedHandleId=void 0,e.pointedId=void 0})),hh(d(e),"onDoubleClickCanvas",(function(){})),hh(d(e),"onPointShape",(function(t,n){if((!t.spaceKey||1!==n.buttons)&&!e.app.getShape(t.target).isLocked){var r=e.app.pageState,i=r.editingId,o=r.hoveredId;if(i&&t.target!==i&&e.app.onShapeBlur(),("idle"===e.status||"pointingBounds"===e.status)&&t.metaKey&&t.shiftKey&&o)return e.pointedId=o,void(e.app.isSelected(o)?e.deselect(o):(e.pushSelect(o),e.setStatus("pointingBounds")));if("pointingBounds"!==e.status){if("idle"===e.status){if(e.setStatus("pointingBounds"),t.metaKey)return t.shiftKey||e.selectNone(),e.app.startSession("brush"),void e.setStatus("brushing");var a,l=e.app.getShape(t.target).parentId;l===e.app.currentPageId?(a=t.target,e.selectedGroupId=void 0):l===e.selectedGroupId?a=t.target:(a=l,e.selectedGroupId=void 0),e.app.isSelected(a)||(e.pointedId=a,t.shiftKey?e.pushSelect(a):e.select(a))}}else{var s=e.app.getShape(t.target).parentId;e.pointedId=s===e.app.currentPageId?t.target:s}}})),hh(d(e),"onDoubleClickShape",(function(t){var n=e.app.getShape(t.target);n.isLocked||(!Lm.getShapeUtil(n.type).canEdit||n.parentId!==e.app.currentPageId&&n.parentId!==e.selectedGroupId||e.app.setEditingId(t.target),n.parentId!==e.app.currentPageId&&(e.selectedGroupId=n.parentId)),e.app.select(t.target)})),hh(d(e),"onRightPointShape",(function(t){e.app.isSelected(t.target)||e.app.select(t.target)})),hh(d(e),"onHoverShape",(function(t){e.app.setHoveredId(t.target)})),hh(d(e),"onUnhoverShape",(function(t){var n=e.app.currentPageId;requestAnimationFrame((function(){n===e.app.currentPageId&&e.app.pageState.hoveredId===t.target&&e.app.setHoveredId(void 0)}))})),hh(d(e),"onPointBounds",(function(t){if(t.metaKey)return t.shiftKey||e.selectNone(),e.app.startSession("brush"),void e.setStatus("brushing");e.setStatus("pointingBounds")})),hh(d(e),"onRightPointBounds",(function(e,t){t.stopPropagation()})),hh(d(e),"onReleaseBounds",(function(){"translating"!==e.status&&"brushing"!==e.status||e.app.completeSession(),e.setStatus("idle")})),hh(d(e),"onPointBoundsHandle",(function(t){e.pointedBoundsHandle=t.target,e.setStatus("pointingBoundsHandle")})),hh(d(e),"onDoubleClickBoundsHandle",(function(t){switch(t.target){case"center":case"left":case"right":var n;(n=e.app).select.apply(n,S(Lm.getLinkedShapeIds(e.app.state,e.app.currentPageId,t.target,t.shiftKey)));break;default:if(1===e.app.selectedIds.length){e.app.resetBounds(e.app.selectedIds);var r=e.app.getShape(e.app.selectedIds[0]);"label"in r&&e.app.setEditingId(r.id)}}})),hh(d(e),"onReleaseBoundsHandle",(function(){e.setStatus("idle")})),hh(d(e),"onPointHandle",(function(t){e.pointedHandleId=t.target,e.setStatus("pointingHandle")})),hh(d(e),"onDoubleClickHandle",(function(t){if("bend"!==t.target)e.app.toggleDecoration(t.target);else{var n=e.app.selectedIds;if(1!==n.length)return;var r=e.app.getShape(n[0]);!Lm.getShapeUtil(r.type).canEdit||r.parentId!==e.app.currentPageId&&r.parentId!==e.selectedGroupId||e.app.setEditingId(r.id)}})),hh(d(e),"onReleaseHandle",(function(){e.setStatus("idle")})),hh(d(e),"onShapeClone",(function(t){var n=e.app.selectedIds[0],r=e.getShapeClone(n,t.target);"left"===t.target||"right"===t.target||"top"===t.target||"bottom"===t.target?r&&(e.app.createShapes(r),e.pointedId=r.id,e.setStatus("pointingClone")):(e.setStatus("gridCloning"),e.app.startSession("grid",n))})),e}return b(n,[{key:"deselect",value:function(e){var t;(t=this.app).select.apply(t,S(this.app.selectedIds.filter((function(t){return t!==e}))))}},{key:"select",value:function(e){this.app.select(e)}},{key:"pushSelect",value:function(e){var t,n=this.app.getShape(e);(t=this.app).select.apply(t,S(this.app.selectedIds.filter((function(e){return e!==n.parentId}))).concat([e]))}},{key:"selectNone",value:function(){this.app.selectNone()}}]),n}(ty),ry=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","erase"),hh(d(e),"status","idle"),hh(d(e),"onPointerDown",(function(){"idle"===e.status&&e.setStatus("pointing")})),hh(d(e),"onPointerMove",(function(t){switch(e.status){case"pointing":D.dist(t.origin,t.point)>3&&(e.app.startSession("erase"),e.app.updateSession(),e.setStatus("erasing"));break;case"erasing":e.app.updateSession()}})),hh(d(e),"onPointerUp",(function(){switch(e.status){case"pointing":var t=e.app.shapes.filter((function(e){return!e.isLocked})).filter((function(t){return e.app.getShapeUtil(t).hitTestPoint(t,e.app.currentPoint)})).flatMap((function(e){return e.children?[e.id].concat(S(e.children)):e.id}));e.app.delete(t);break;case"erasing":e.app.completeSession()}e.setStatus("idle")})),hh(d(e),"onCancel",(function(){"idle"===e.status?e.previous?e.app.selectTool(e.previous):e.app.selectTool("select"):e.setStatus("idle"),e.app.cancelSession()})),e}return b(n)}(ty),iy=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","text"),hh(d(e),"stopEditingShape",(function(){e.setStatus("idle"),e.app.appState.isToolLocked||e.app.selectTool("select")})),hh(d(e),"onKeyUp",(function(){})),hh(d(e),"onKeyDown",(function(){})),hh(d(e),"onPointerDown",(function(){if("creating"!==e.status){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid;return e.app.createTextShapeAtPoint(i?D.snap(n,r):n),void e.setStatus("creating")}}else e.stopEditingShape()})),hh(d(e),"onPointerUp",(function(){})),hh(d(e),"onPointShape",(function(t){var n=e.app.getShape(t.target);"text"===n.type&&(e.setStatus("idle"),e.app.setEditingId(n.id))})),hh(d(e),"onShapeBlur",(function(){e.stopEditingShape()})),e}return b(n)}(ty),oy=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","draw"),hh(d(e),"lastShapeId"),hh(d(e),"onEnter",(function(){e.lastShapeId=void 0})),hh(d(e),"onCancel",(function(){if("idle"===e.status)e.app.selectTool("select");else e.setStatus("idle");e.app.cancelSession()})),hh(d(e),"onPointerDown",(function(t){if("idle"===e.status){var n=e.app,r=n.currentPoint,i=n.appState,o=i.currentPageId,a=i.currentStyle,l=e.lastShapeId&&e.app.getShape(e.lastShapeId);if(t.shiftKey&&l)e.app.startSession("draw",l.id),e.setStatus("extending");else{var s=e.getNextChildIndex(),u=bn.uniqueId(),c=Em.create({id:u,parentId:o,childIndex:s,point:r,style:uh({},a)});e.lastShapeId=u,e.app.patchCreate([c]),e.app.startSession("draw",u),e.setStatus("creating")}}})),hh(d(e),"onPointerMove",(function(){switch(e.status){case"extending":case"creating":e.app.updateSession()}})),hh(d(e),"onPointerUp",(function(){e.app.completeSession(),e.setStatus("idle")})),e}return b(n)}(ty),ay=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","ellipse"),hh(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,l=o.currentStyle,s=e.getNextChildIndex(),u=bn.uniqueId(),c=Cm.create({id:u,parentId:a,childIndex:s,point:i?D.snap(n,r):n,style:uh({},l)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,vn.BottomRight,!0),e.setStatus("creating")}})),e}return b(n)}(ty),ly=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","rectangle"),hh(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,l=o.currentStyle,s=e.getNextChildIndex(),u=bn.uniqueId(),c=km.create({id:u,parentId:a,childIndex:s,point:i?D.snap(n,r):n,style:uh({},l)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,vn.BottomRight,!0),e.setStatus("creating")}})),e}return b(n)}(ty),sy=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","triangle"),hh(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,l=o.currentStyle,s=e.getNextChildIndex(),u=bn.uniqueId(),c=Sm.create({id:u,parentId:a,childIndex:s,point:i?D.snap(n,r):n,style:uh({},l)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,vn.BottomRight,!0),e.setStatus("creating")}})),e}return b(n)}(ty),uy=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","line"),hh(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,l=o.currentStyle,s=e.getNextChildIndex(),u=bn.uniqueId(),c=xm.create({id:u,parentId:a,childIndex:s,point:i?D.snap(n,r):n,decorations:{start:void 0,end:void 0},style:uh({},l)});e.app.patchCreate([c]),e.app.startSession("arrow",c.id,"end",!0),e.setStatus("creating")}})),e}return b(n)}(ty),cy=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","arrow"),hh(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,l=o.currentStyle,s=e.getNextChildIndex(),u=bn.uniqueId(),c=xm.create({id:u,parentId:a,childIndex:s,point:i?D.snap(n,r):n,style:uh({},l)});e.app.patchCreate([c]),e.app.startSession("arrow",c.id,"end",!0),e.setStatus("creating")}})),e}return b(n)}(ty),dy=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),e=t.apply(this,arguments),hh(d(e),"type","sticky"),hh(d(e),"shapeId"),hh(d(e),"onPointerDown",(function(){if("creating"===e.status)return e.setStatus("idle"),void(e.app.appState.isToolLocked||e.app.selectTool("select"));if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,l=o.currentStyle,s=e.getNextChildIndex(),u=bn.uniqueId();e.shapeId=u;var c=_m.create({id:u,parentId:a,childIndex:s,point:i?D.snap(n,r):n,style:uh({},l)}),d=_m.getBounds(c);c.point=D.sub(c.point,[d.width/2,d.height/2]),e.app.createShapes(c),e.app.startSession("translate"),e.setStatus("creating")}})),hh(d(e),"onPointerUp",(function(){"creating"===e.status&&(e.setStatus("idle"),e.app.completeSession(),e.app.selectTool("select"),e.app.setEditingId(e.shapeId))})),e}return b(n)}(ty),fy=function(){function e(t,n,r,i){var o=this;w(this,e),hh(this,"_idbId"),hh(this,"initialState"),hh(this,"store"),hh(this,"pointer",-1),hh(this,"_state"),hh(this,"_status","loading"),hh(this,"stack",[]),hh(this,"_snapshot"),hh(this,"useStore"),hh(this,"ready"),hh(this,"isPaused",!1),hh(this,"persist",(function(e){if("ready"===o._status)return o.onPersist&&o.onPersist(o._state,e),o._idbId?Pi(o._idbId,o._state).catch((function(e){return console.error(e)})):void 0})),hh(this,"applyPatch",(function(e,t){var n=o._state,r=bn.deepMerge(o._state,e),i=o.cleanup(r,n,e,t);return o.onStateWillChange&&o.onStateWillChange(i,t),o._state=i,o.store.setState(o._state,!0),o.onStateDidChange&&o.onStateDidChange(o._state,t),o})),hh(this,"cleanup",(function(e,t,n,r){return e})),hh(this,"onStateWillChange"),hh(this,"onStateDidChange"),hh(this,"patchState",(function(e,t){return o.applyPatch(e,t),o.onPatch&&o.onPatch(o._state,t),o})),hh(this,"replaceState",(function(e,t){var n=o.cleanup(e,o._state,e,t);return o.onStateWillChange&&o.onStateWillChange(n,"replace"),o._state=n,o.store.setState(o._state,!0),o.onStateDidChange&&o.onStateDidChange(o._state,"replace"),o})),hh(this,"setState",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.id;return o.pointer<o.stack.length-1&&(o.stack=o.stack.slice(0,o.pointer+1)),o.stack.push(ch(uh({},e),{id:t})),o.pointer=o.stack.length-1,o.applyPatch(e.after,t),o.onCommand&&o.onCommand(o._state,t),o.persist(t),o})),hh(this,"onReady"),hh(this,"onPatch"),hh(this,"onCommand"),hh(this,"onPersist"),hh(this,"onReplace"),hh(this,"onReset"),hh(this,"onResetHistory"),hh(this,"onUndo"),hh(this,"onRedo"),hh(this,"reset",(function(){return o.onStateWillChange&&o.onStateWillChange(o.initialState,"reset"),o._state=o.initialState,o.store.setState(o._state,!0),o.resetHistory(),o.persist("reset"),o.onStateDidChange&&o.onStateDidChange(o._state,"reset"),o.onReset&&o.onReset(o._state),o})),hh(this,"replaceHistory",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1;return o.stack=e,o.pointer=t,o.onReplace&&o.onReplace(o._state),o})),hh(this,"resetHistory",(function(){return o.stack=[],o.pointer=-1,o.onResetHistory&&o.onResetHistory(o._state),o})),hh(this,"undo",(function(){if(!o.isPaused){if(!o.canUndo)return o;var e=o.stack[o.pointer];o.pointer--,o.applyPatch(e.before,"undo"),o.persist("undo")}return o.onUndo&&o.onUndo(o._state),o})),hh(this,"redo",(function(){if(!o.isPaused){if(!o.canRedo)return o;o.pointer++;var e=o.stack[o.pointer];o.applyPatch(e.after,"redo"),o.persist("undo")}return o.onRedo&&o.onRedo(o._state),o})),hh(this,"setSnapshot",(function(){return o._snapshot=uh({},o._state),o})),hh(this,"forceUpdate",(function(){o.store.setState(o._state,!0)})),this._idbId=n,this._state=Om(t),this._snapshot=Om(t),this.initialState=Om(t),this.store=_i((function(){return o._state})),this.useStore=function(e){var t="function"===typeof e?Mi(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=m((0,E.useReducer)((function(e){return e+1}),0),2)[1],o=t.getState(),a=(0,E.useRef)(o),l=(0,E.useRef)(n),s=(0,E.useRef)(r),u=(0,E.useRef)(!1),c=(0,E.useRef)();void 0===c.current&&(c.current=n(o));var d=!1;(a.current!==o||l.current!==n||s.current!==r||u.current)&&(e=n(o),d=!r(c.current,e)),Di((function(){d&&(c.current=e),a.current=o,l.current=n,s.current=r,u.current=!1}));var f=(0,E.useRef)(o);Di((function(){var e=function(){try{var e=t.getState(),n=l.current(e);s.current(c.current,n)||(a.current=e,c.current=n,i())}catch(r){u.current=!0,i()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n}),[]);var p=d?e:c.current;return(0,E.useDebugValue)(p),p};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}(this.store),this.ready=new Promise((function(e){var a="none";o._idbId?(a="restored",Ii(o._idbId).then((function(l){return vh(o,null,k().mark((function o(){var s,u,c;return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!l){o.next=16;break}if(s=l,!r){o.next=7;break}return o.next=5,Ii(n+"_version");case 5:(u=o.sent)&&u<r&&(s=i?i(l,t,u):t,a="migrated");case 7:return o.next=9,Pi(n+"_version",r||-1);case 9:c=this._state.appState.isEmptyCanvas,this._state=Om(s),this._snapshot=Om(s),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0),o.next=18;break;case 16:return o.next=18,Pi(n+"_version",r||-1);case 18:this._status="ready",e(a);case 20:case"end":return o.stop()}}),o,this)})))})).catch((function(e){return console.error(e)}))):(o._status="ready",e(a))})).then((function(e){return o.onReady&&o.onReady(e),e}))}return b(e,[{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused=!1}},{key:"canUndo",get:function(){return this.pointer>-1}},{key:"canRedo",get:function(){return this.pointer<this.stack.length-1}},{key:"state",get:function(){return this._state}},{key:"status",get:function(){return this._status}},{key:"snapshot",get:function(){return this._snapshot}}]),e}(),py=bn.uniqueId(),hy=function(e){f(n,e);var t=h(n);function n(e){var r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(this,n),o=t.call(this,n.defaultState,e,n.version,(function(e,t,r){return ch(uh({},t),{document:nv(ch(uh(uh({},t.document),e.document),{version:r}),n.version)})})),hh(d(o),"callbacks",{}),hh(d(o),"tools",(i(r={select:new ny(d(o)),erase:new ry(d(o))},"text",new iy(d(o))),i(r,"draw",new oy(d(o))),i(r,"ellipse",new ay(d(o))),i(r,"rectangle",new ly(d(o))),i(r,"triangle",new sy(d(o))),i(r,"line",new uy(d(o))),i(r,"arrow",new cy(d(o))),i(r,"sticky",new dy(d(o))),r)),hh(d(o),"currentTool",o.tools.select),hh(d(o),"session"),hh(d(o),"readOnly",!1),hh(d(o),"isDirty",!1),hh(d(o),"isCreating",!1),hh(d(o),"originPoint",[0,0]),hh(d(o),"currentPoint",[0,0]),hh(d(o),"previousPoint",[0,0]),hh(d(o),"shiftKey",!1),hh(d(o),"altKey",!1),hh(d(o),"metaKey",!1),hh(d(o),"ctrlKey",!1),hh(d(o),"spaceKey",!1),hh(d(o),"isPointing",!1),hh(d(o),"isForcePanning",!1),hh(d(o),"editingStartTime",-1),hh(d(o),"fileSystemHandle",null),hh(d(o),"viewport",bn.getBoundsFromPoints([[0,0],[100,100]])),hh(d(o),"rendererBounds",bn.getBoundsFromPoints([[0,0],[100,100]])),hh(d(o),"selectHistory",{stack:[[]],pointer:0}),hh(d(o),"clipboard"),hh(d(o),"rotationInfo",{selectedIds:[],center:[0,0]}),hh(d(o),"pasteInfo",{center:[0,0],offset:[0,0]}),hh(d(o),"onReady",(function(){var e,t;o.loadDocument(o.document),function(){return vh(this,null,k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Window&&"_location"in Window){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ii("Tldraw_file_handle_".concat(window.location.origin));case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))}().then((function(e){o.fileSystemHandle=e}));try{o.patchState({appState:{status:"idle"},document:nv(o.document,n.version)})}catch(r){console.error("The data appears to be corrupted. Resetting!",r),localStorage.setItem(o.document.id+"_corrupted",JSON.stringify(o.document)),o.patchState(ch(uh({},n.defaultState),{appState:ch(uh({},n.defaultState.appState),{status:"idle"})}))}null==(t=(e=o.callbacks).onMount)||t.call(e,d(o))})),hh(d(o),"cleanup",(function(e,t){var n,r=uh({},e);r.document!==t.document&&Object.entries(r.document.pages).forEach((function(e){var n=m(e,2),i=n[0],o=n[1];if(void 0===o)return delete r.document.pages[i],void delete r.document.pageStates[i];var a=t.document.pages[i],l={};if(!a||o.shapes!==a.shapes||o.bindings!==a.bindings){o.shapes=uh({},o.shapes),o.bindings=uh({},o.bindings);var s=new Set;Object.entries(o.shapes).forEach((function(e){var t,n,u=m(e,2),c=u[0],d=u[1];(d?n=d.parentId:(n=null==(t=null==a?void 0:a.shapes[c])?void 0:t.parentId,delete o.shapes[c]),o.id===r.appState.currentPageId&&(null==a?void 0:a.shapes[c])!==d&&(l[c]=d),n&&n!==i)&&(void 0!==o.shapes[n]&&s.add(o.shapes[n]))})),Object.keys(o.bindings).forEach((function(e){o.bindings[e]||delete o.bindings[e]})),r.document.pages[i]=o;var u=Lm.getRelatedBindings(r,Object.keys(l),i),c=new Set;u.forEach((function(e){if(o.bindings[e.id]){var t=o.shapes[e.toId],n=o.shapes[e.fromId];if(t&&n){if(!c.has(n)){var a=Lm.updateArrowBindings(o,n);if(c.add(n),a){var l=uh(uh({},n),a);o.shapes[n.id]=l}}}else delete r.document.pages[i].bindings[e.id]}})),s.forEach((function(e){if(!e)throw Error("no group!");var t=e.children.filter((function(e){return void 0!==o.shapes[e]})),n=bn.getCommonBounds(t.map((function(e){return o.shapes[e]})).filter(Boolean).map((function(e){return Lm.getRotatedBounds(e)})));o.shapes[e.id]=ch(uh({},e),{point:[n.minX,n.minY],size:[n.width,n.height],children:t})}))}var d=uh({},r.document.pageStates[i]);d.brush||delete d.brush,d.hoveredId&&!o.shapes[d.hoveredId]&&delete d.hoveredId,d.bindingId&&!o.bindings[d.bindingId]&&(Lm.warn("Could not find the binding of ".concat(i)),delete d.bindingId),d.editingId&&!o.shapes[d.editingId]&&(Lm.warn("Could not find the editing shape!"),delete d.editingId),r.document.pageStates[i]=d})),Object.keys(null!=(n=r.document.assets)?n:{}).forEach((function(e){var t,n;(null==(t=r.document.assets)?void 0:t[e])||null==(n=r.document.assets)||delete n[e]}));var i=r.appState.currentPageId,a=r.document.pageStates[i];if(r.room&&r.room!==t.room){var l=ch(uh({},r.room),{users:uh({},r.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach((function(e){void 0===l.users[e.id]&&delete l.users[e.id]})),r.room=l}return r.room&&(r.room.users[r.room.userId]=ch(uh({},r.room.users[r.room.userId]),{point:o.currentPoint,selectedIds:a.selectedIds})),o.readOnly&&(r.document.pages=t.document.pages),r})),hh(d(o),"onPatch",(function(e,t){var n,r;null==(r=(n=o.callbacks).onPatch)||r.call(n,d(o),t)})),hh(d(o),"onCommand",(function(e,t){var n,r;o.clearSelectHistory(),o.isDirty=!0,null==(r=(n=o.callbacks).onCommand)||r.call(n,d(o),t)})),hh(d(o),"onReplace",(function(){o.clearSelectHistory(),o.isDirty=!1})),hh(d(o),"onUndo",(function(){var e,t;o.rotationInfo.selectedIds=S(o.selectedIds),null==(t=(e=o.callbacks).onUndo)||t.call(e,d(o))})),hh(d(o),"onRedo",(function(){var e,t;o.rotationInfo.selectedIds=S(o.selectedIds),null==(t=(e=o.callbacks).onRedo)||t.call(e,d(o))})),hh(d(o),"onPersist",(function(){var e,t;o.callbacks.onChangePage&&o.broadcastPageChanges(),null==(t=(e=o.callbacks).onPersist)||t.call(e,d(o))})),hh(d(o),"prevSelectedIds",o.selectedIds),hh(d(o),"onStateDidChange",(function(e,t){var n,r,i,a;null==(r=(n=o.callbacks).onChange)||r.call(n,d(o),t),o.room&&o.selectedIds!==o.prevSelectedIds&&(null==(a=(i=o.callbacks).onChangePresence)||a.call(i,d(o),ch(uh({},o.room.users[o.room.userId]),{selectedIds:o.selectedIds})),o.prevSelectedIds=o.selectedIds)})),hh(d(o),"justSent",!1),hh(d(o),"prevShapes",o.page.shapes),hh(d(o),"prevBindings",o.page.bindings),hh(d(o),"prevAssets",o.document.assets),hh(d(o),"broadcastPageChanges",(function(){var e,t,n=new Set,r={},i={},a={};o.shapes.forEach((function(e){n.add(e.id),o.prevShapes[e.id]!==e&&(r[e.id]=e)})),Object.keys(o.prevShapes).filter((function(e){return!n.has(e)})).forEach((function(e){r[e]=void 0})),o.bindings.forEach((function(e){n.add(e.id),o.prevBindings[e.id]!==e&&(i[e.id]=e)})),Object.keys(o.prevBindings).filter((function(e){return!n.has(e)})).forEach((function(e){i[e]=void 0})),o.assets.forEach((function(e){n.add(e.id),o.prevAssets[e.id]!==e&&(a[e.id]=e)})),Object.keys(o.prevAssets).filter((function(e){return!n.has(e)})).forEach((function(e){a[e]=void 0})),(Object.keys(i).length>0||Object.keys(r).length>0||Object.keys(a).length>0)&&(o.justSent=!0,null==(t=(e=o.callbacks).onChangePage)||t.call(e,d(o),r,i,a),o.prevShapes=o.page.shapes,o.prevBindings=o.page.bindings,o.prevAssets=o.document.assets)})),hh(d(o),"getReservedContent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=o.document.pages[t].bindings,r={},i={},a=Object.values(n),l=[new Map(a.map((function(e){return[e.toId,e]}))),new Map(a.map((function(e){return[e.fromId,e]})))],s=[];o.session&&e.forEach((function(e){return s.push(e)})),o.pageState.editingId&&s.push(o.pageState.editingId);for(var u=new Set(s),c=new Set,d=function(){var e=s.pop();if(!e)return 0;if(c.has(e))return 1;c.add(e);var n=o.getShape(e);r[e]=n,n.parentId!==t&&s.push(n.parentId),n.children&&s.push.apply(s,S(n.children)),l.map((function(e){return e.get(n.id)})).filter(Boolean).forEach((function(e){i[e.id]=e,s.push(e.toId,e.fromId)}))};s.length>0&&0!==d(););return{reservedShapes:r,reservedBindings:i,strongReservedShapeIds:u}})),hh(d(o),"replacePageContent",(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.currentPageId;if(o.justSent)return o.justSent=!1,d(o);var a=o.document.pages[o.currentPageId];return Object.values(e).forEach((function(t){t.parentId===r||a.shapes[t.parentId]||e[t.parentId]||(console.warn("Added a shape without a parent on the page"),t.parentId=r)})),o.useStore.setState((function(a){var l=a.document.pageStates[r],s=l.hoveredId,u=l.editingId,c=l.bindingId,d=l.selectedIds,f=S(d),p=u&&a.document.pages[o.currentPageId].shapes[u];p&&f.push(p.id);var h=o.getReservedContent(f,o.currentPageId),v=h.reservedShapes,g=h.reservedBindings,m=h.strongReservedShapeIds;Object.values(v).filter((function(e){return!("text"in e)})).forEach((function(t){var n=e[t.id];n&&("arrow"===t.type||m.has(t.id)?("decorations"in n&&"decorations"in t&&(e[t.id]=ch(uh({},t),{decorations:n.decorations})),t.style=n.style):e[t.id]=n)})),o.prevShapes=e,o.prevBindings=t,o.prevAssets=n;var y=uh(uh({},e),v);p&&(y[p.id]=p);var b=uh(uh({},t),g),w=uh({},n),k=ch(uh({},a),{document:ch(uh({},a.document),{pages:i({},r,ch(uh({},a.document.pages[r]),{shapes:y,bindings:b})),assets:w,pageStates:ch(uh({},a.document.pageStates),i({},r,ch(uh({},a.document.pageStates[r]),{selectedIds:d.filter((function(e){return void 0!==y[e]})),hoveredId:s?void 0===y[s]?void 0:s:void 0,editingId:u,bindingId:c?void 0===b[c]?void 0:c:void 0})))})}),C=k.document.pages[r],E=Lm.getRelatedBindings(k,Object.keys(y),r),x=new Set;return E.forEach((function(e){if(C.bindings[e.id]){var t=C.shapes[e.fromId];if(!x.has(t)){var n=Lm.updateArrowBindings(C,t);if(x.add(t),n){var r=uh(uh({},t),n);C.shapes[t.id]=r}}}})),Object.values(y).forEach((function(e){if("group"===e.type){var t=e.children.filter((function(e){return void 0!==C.shapes[e]})),n=bn.getCommonBounds(t.map((function(e){return C.shapes[e]})).filter(Boolean).map((function(e){return Lm.getRotatedBounds(e)})));C.shapes[e.id]=ch(uh({},e),{point:[n.minX,n.minY],size:[n.width,n.height],children:t})}})),o.state.document=k.document,k}),!0),d(o)})),hh(d(o),"updateBounds",(function(e){o.rendererBounds=e;var t=o.pageState.camera,n=t.point,r=t.zoom;o.updateViewport(n,r),!o.readOnly&&o.session&&o.session.update()})),hh(d(o),"updateViewport",(function(e,t){var n=o.rendererBounds,r=n.width,i=n.height,a=m(M.sub(M.div([0,0],t),e),2),l=a[0],s=a[1],u=m(M.sub(M.div([r,i],t),e),2),c=u[0],d=u[1];o.viewport={minX:l,minY:s,maxX:c,maxY:d,height:c-l,width:d-s}})),hh(d(o),"setEditingId",(function(e){o.readOnly||(o.editingStartTime=performance.now(),o.patchState({document:{pageStates:i({},o.currentPageId,{editingId:e})}},"set_editing_id"))})),hh(d(o),"setHoveredId",(function(e){o.patchState({document:{pageStates:i({},o.currentPageId,{hoveredId:e})}},"set_hovered_id")})),hh(d(o),"setSetting",(function(e,t){return o.session||(o.patchState({settings:i({},e,"function"===typeof t?t(o.settings[e]):t)},"settings:".concat(e)),o.persist()),d(o)})),hh(d(o),"toggleFocusMode",(function(){return o.session||(o.patchState({settings:{isFocusMode:!o.settings.isFocusMode}},"settings:toggled_focus_mode"),o.persist()),d(o)})),hh(d(o),"togglePenMode",(function(){return o.session||(o.patchState({settings:{isPenMode:!o.settings.isPenMode}},"settings:toggled_pen_mode"),o.persist()),d(o)})),hh(d(o),"toggleDarkMode",(function(){return o.session||(o.patchState({settings:{isDarkMode:!o.settings.isDarkMode}},"settings:toggled_dark_mode"),o.persist()),d(o)})),hh(d(o),"toggleZoomSnap",(function(){return o.session||(o.patchState({settings:{isZoomSnap:!o.settings.isZoomSnap}},"settings:toggled_zoom_snap"),o.persist()),d(o)})),hh(d(o),"toggleDebugMode",(function(){return o.session||(o.patchState({settings:{isDebugMode:!o.settings.isDebugMode}},"settings:toggled_debug"),o.persist()),d(o)})),hh(d(o),"setMenuOpen",(function(e){return o.patchState({appState:{isMenuOpen:e}},"ui:toggled_menu_opened"),o.persist(),d(o)})),hh(d(o),"setIsLoading",(function(e){return o.patchState({appState:{isLoading:e}},"ui:toggled_is_loading"),o.persist(),d(o)})),hh(d(o),"setDisableAssets",(function(e){return o.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),d(o)})),hh(d(o),"toggleGrid",(function(){return o.session||(o.patchState({settings:{showGrid:!o.settings.showGrid}},"settings:toggled_grid"),o.persist()),d(o)})),hh(d(o),"selectTool",(function(e){if(o.readOnly||o.session)return d(o);o.isPointing=!1;var t=o.tools[e];return t===o.currentTool?(o.patchState({appState:{isToolLocked:!1}}),d(o)):(o.currentTool.onExit(),t.previous=o.currentTool.type,o.currentTool=t,o.currentTool.onEnter(),o.patchState({appState:{activeTool:e,isToolLocked:!1}},"selected_tool:".concat(e)))})),hh(d(o),"toggleToolLock",(function(){return o.session?d(o):o.patchState({appState:{isToolLocked:!o.appState.isToolLocked}},"toggled_tool_lock")})),hh(d(o),"resetDocument",(function(){return o.session||(o.session=void 0,o.pasteInfo.offset=[0,0],o.currentTool=o.tools.select,o.resetHistory().clearSelectHistory().loadDocument(nv(n.defaultDocument,n.version)).persist()),d(o)})),hh(d(o),"updateUsers",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.patchState({room:{users:Object.fromEntries(e.map((function(e){return[e.id,e]})))}},t?"room:self:update":"room:user:update")})),hh(d(o),"removeUser",(function(e){o.patchState({room:{users:i({},e,void 0)}})})),hh(d(o),"mergeDocument",(function(e){if(o.document.id!==e.id)return o.replaceState(ch(uh({},o.state),{appState:ch(uh({},o.appState),{currentPageId:Object.keys(e.pages)[0]}),document:nv(e,n.version)})),d(o);var t=uh({},o.document.pageStates),r=ch(uh({},o.appState),{currentPageId:e.pages[o.currentPageId]?o.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((function(e,t){return{id:e.id,name:e.name,childIndex:e.childIndex||t}}))});o.resetHistory(),Object.keys(o.document.pages).forEach((function(n){e.pages[n]||(n===o.appState.currentPageId&&(o.cancelSession(),o.selectNone()),t[n]=void 0)})),o.session&&o.selectedIds.filter((function(t){return!e.pages[o.currentPageId].shapes[t]})).forEach((function(t){return e.pages[o.currentPageId].shapes[t]=o.page.shapes[t]})),Object.entries(t).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];i.selectedIds=i.selectedIds.filter((function(t){return!!e.pages[r].shapes[t]}))}));var i=o.pageState.editingId;return i&&(e.pages[o.currentPageId].shapes[i]=o.page.shapes[i],t[o.currentPageId].selectedIds=[i]),o.replaceState(ch(uh({},o.state),{appState:r,document:ch(uh({},nv(e,n.version)),{pageStates:t})}),"merge")})),hh(d(o),"updateDocument",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"updated_document",n=o.state,r=ch(uh({},n),{document:uh({},n.document)});e.pages[o.currentPageId]||(r.appState=ch(uh({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));for(var i=1,a=0,l=Object.values(e.pages);a<l.length;a++){var s=l[a];s!==n.document.pages[s.id]&&(r.document.pages[s.id]=s,s.name||(r.document.pages[s.id].name="Page ".concat(i+1),i++))}for(var u=function(){var t=d[c];if(t!==n.document.pageStates[t.id]){r.document.pageStates[t.id]=t;for(var i=e.pages[t.id],o=0,a=["bindingId","editingId","hoveredId","pointedId"];o<a.length;o++){var l=a[o];i.shapes[l]||(t[l]=void 0)}t.selectedIds=t.selectedIds.filter((function(t){return!!e.pages[i.id].shapes[t]}))}},c=0,d=Object.values(e.pageStates);c<d.length;c++)u();return r.document=nv(r.document,r.document.version||0),o.replaceState(r,"".concat(t,":").concat(e.id))})),hh(d(o),"loadRoom",(function(e){return o.patchState({room:{id:e,userId:py,users:i({},py,{id:py,color:cv[Math.floor(Math.random()*cv.length)],point:[100,100],selectedIds:[],activeShapes:[]})}}),d(o)})),hh(d(o),"loadDocument",(function(e){o.selectNone(),o.resetHistory(),o.clearSelectHistory(),o.session=void 0,o.replaceState(ch(uh({},n.defaultState),{settings:uh({},o.state.settings),document:nv(e,n.version),appState:ch(uh(uh({},n.defaultState.appState),o.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:o.disableAssets})}),"loaded_document");var t=o.pageState.camera,r=t.point,i=t.zoom;return o.updateViewport(r,i),d(o)})),hh(d(o),"newProject",(function(){o.isLocal&&(o.fileSystemHandle=null,o.resetDocument())})),hh(d(o),"saveProject",(function(){return vh(d(o),null,k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.readOnly){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,mv(nv(this.document,n.version),this.fileSystemHandle);case 5:t=e.sent,this.fileSystemHandle=t,this.persist(),this.isDirty=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:return e.abrupt("return",this);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})))})),hh(d(o),"saveProjectAs",(function(){return vh(d(o),null,k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mv(this.document,null);case 3:t=e.sent,this.fileSystemHandle=t,this.persist(),this.isDirty=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})))})),hh(d(o),"openProject",(function(){return vh(d(o),null,k().mark((function e(){var t,n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLocal){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,yv();case 5:if(t=e.sent){e.next=8;break}throw Error();case 8:n=t.fileHandle,r=t.document,this.loadDocument(r),this.fileSystemHandle=n,this.zoomToFit(),this.persist(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0);case 18:return e.prev=18,this.persist(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})))})),hh(d(o),"openAsset",(function(){return vh(d(o),null,k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.disableAssets){e.next=16;break}return e.prev=1,e.next=4,bv();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:this.addMediaFromFile(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,this.persist(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])})))})),hh(d(o),"signOut",(function(){})),hh(d(o),"getAppState",(function(){return o.appState})),hh(d(o),"getPage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return Lm.getPage(o.state,e||o.currentPageId)})),hh(d(o),"getShapes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return Lm.getShapes(o.state,e||o.currentPageId)})),hh(d(o),"getBindings",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return Lm.getBindings(o.state,e||o.currentPageId)})),hh(d(o),"getShape",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return Lm.getShape(o.state,e,t)})),hh(d(o),"getShapeBounds",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return Lm.getBounds(o.getShape(e,t))})),hh(d(o),"getBinding",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return Lm.getBinding(o.state,e,t)})),hh(d(o),"getPageState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return Lm.getPageState(o.state,e||o.currentPageId)})),hh(d(o),"getPagePoint",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=o.getPageState(t).camera;return M.sub(M.div(e,n.zoom),n.point)})),hh(d(o),"createPage",(function(e){if(o.readOnly)return d(o);var t=o.rendererBounds,n=t.width,r=t.height;return o.setState(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn.uniqueId(),r=e.currentPageId,o=Object.values(e.state.document.pages).sort((function(e,t){return(t.childIndex||0)-(e.childIndex||0)}))[0],a={id:n,name:"New Page",childIndex:(null==o?void 0:o.childIndex)?(null==o?void 0:o.childIndex)+1:1,shapes:{},bindings:{}},l={id:n,selectedIds:[],camera:{point:t,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:r},document:{pages:i({},n,void 0),pageStates:i({},n,void 0)}},after:{appState:{currentPageId:a.id},document:{pages:i({},n,a),pageStates:i({},n,l)}}}}(d(o),[-n/2,-r/2],e))})),hh(d(o),"changePage",(function(e){return o.setState(function(e,t){return{id:"change_page",before:{appState:{currentPageId:e.currentPageId}},after:{appState:{currentPageId:t}}}}(d(o),e))})),hh(d(o),"renamePage",(function(e,t){return o.readOnly?d(o):o.setState(function(e,t,n){return{id:"rename_page",before:{document:{pages:i({},t,{name:e.page.name})}},after:{document:{pages:i({},t,{name:n})}}}}(d(o),e,t))})),hh(d(o),"duplicatePage",(function(e){return o.readOnly?d(o):o.setState(function(e,t){var n=bn.uniqueId(),r=e.currentPageId,o=e.page,a=e.pageState.camera,l=ch(uh({},o),{id:n,name:o.name+" Copy",shapes:Object.fromEntries(Object.entries(o.shapes).map((function(e){var r=m(e,2),i=r[0],o=r[1];return[i,ch(uh({},o),{parentId:o.parentId===t?n:o.parentId})]})))});return{id:"duplicate_page",before:{appState:{currentPageId:r},document:{pages:i({},n,void 0),pageStates:i({},n,void 0)}},after:{appState:{currentPageId:n},document:{pages:i({},n,l),pageStates:i({},n,ch(uh({},o),{id:n,selectedIds:[],camera:uh({},a),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0}))}}}}(d(o),e))})),hh(d(o),"deletePage",(function(e){return o.readOnly||Object.values(o.document.pages).length<=1?d(o):o.setState(function(e,t){var n,r=e.currentPageId,o=e.document,a=o.pages,l=o.pageStates,s=Object.values(a).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)})),u=s.findIndex((function(e){return e.id===t}));return n=t===r?u===s.length-1?s[s.length-2].id:s[u+1].id:r,{id:"delete_page",before:{appState:{currentPageId:t},document:{pages:i({},t,uh({},a[t])),pageStates:i({},t,uh({},l[t]))}},after:{appState:{currentPageId:n},document:{pages:i({},t,void 0),pageStates:i({},t,void 0)}}}}(d(o),e||o.currentPageId))})),hh(d(o),"copy",(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds).flatMap((function(e){return Lm.getDocumentBranch(o.state,e,o.currentPageId)})),t=e.map((function(e){return bn.deepClone(o.getShape(e,o.currentPageId))}));if(0===t.length)return d(o);var n=Object.values(o.page.bindings).filter((function(t){return e.includes(t.fromId)&&e.includes(t.toId)})),r=t.map((function(e){if(e.assetId)return o.document.assets[e.assetId]})).filter(Boolean);o.clipboard={shapes:t,bindings:n,assets:r};try{var i=JSON.stringify(uh({type:"tldr/clipboard"},o.clipboard));navigator.clipboard.writeText(i).then((function(){}),(function(){}))}catch(a){}return o.pasteInfo.offset=[0,0],o.pasteInfo.center=[0,0],d(o)})),hh(d(o),"cut",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return o.copy(e),o.delete(e),d(o)})),hh(d(o),"paste",(function(e){if(!o.readOnly){var t=function(t,n,r){var i={},a=r.filter((function(e){return void 0===o.document.assets[e.id]}));a.length&&o.patchState({document:{assets:Object.fromEntries(a.map((function(e){return[e.id,e]})))}}),t.forEach((function(e){return i[e.id]=bn.uniqueId()})),n.forEach((function(e){return i[e.id]=bn.uniqueId()}));var l=Lm.getTopChildIndex(o.state,o.currentPageId),s=t.sort((function(e,t){return e.childIndex-t.childIndex})).map((function(e){var t=i[e.parentId],n=ch(uh({},e),{id:i[e.id],parentId:t||o.currentPageId});return e.children&&(n.children=e.children.map((function(e){return i[e]}))),t||(n.childIndex=l,l++),n.handles&&Object.values(n.handles).forEach((function(e){e.bindingId&&(e.bindingId=i[e.bindingId])})),n})),u=n.map((function(e){return ch(uh({},e),{id:i[e.id],toId:i[e.toId],fromId:i[e.fromId]})})),c=bn.getCommonBounds(s.map(Lm.getBounds)),d=M.toFixed(o.getPagePoint(e||o.centerPoint));M.dist(d,o.pasteInfo.center)<2||M.dist(d,M.toFixed(bn.getBoundsCenter(c)))<2?(d=M.add(d,o.pasteInfo.offset),o.pasteInfo.offset=M.add(o.pasteInfo.offset,[8,8])):(o.pasteInfo.center=d,o.pasteInfo.offset=[0,0]);var f=bn.centerBounds(c,d),p=M.sub(bn.getBoundsCenter(f),bn.getBoundsCenter(c));o.create(s.map((function(e){return Lm.getShapeUtil(e.type).create(ch(uh({},e),{point:M.toFixed(M.add(e.point,p)),parentId:e.parentId||o.currentPageId}))})),u)};return"clipboard"in navigator&&navigator.clipboard.readText?(navigator.clipboard.readText().then((function(e){var n=JSON.parse(e);if("tldr/clipboard"===n.type)t(n.shapes,n.bindings,n.assets);else{Lm.warn("The selected shape was not a tldraw shape, treating as text.");var r=bn.uniqueId();o.createShapes({id:r,type:"text",parentId:o.appState.currentPageId,text:Lm.normalizeText(e),point:o.getPagePoint(o.centerPoint,o.currentPageId),style:uh({},o.appState.currentStyle)}),o.select(r)}})).catch((function(){Lm.warn("Read permissions denied!"),o.clipboard&&t(o.clipboard.shapes,o.clipboard.bindings,o.clipboard.assets)})),d(o)):(Lm.warn("This browser does not support the Clipboard API!"),void(o.clipboard&&t(o.clipboard.shapes,o.clipboard.bindings,o.clipboard.assets)))}})),hh(d(o),"copySvg",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(0===e.length&&(e=Object.keys(o.page.shapes)),0!==e.length){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=document.createElementNS("http://www.w3.org/2000/svg","style");i.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');",r.appendChild(i),n.appendChild(r);var a=e.map((function(e){return o.getShape(e,t)})).sort((function(e,t){return e.childIndex-t.childIndex})),l=bn.getCommonBounds(a.map(Lm.getRotatedBounds)),s=function(e){var t=Lm.getShapeUtil(e),n=t.getBounds(e),r=t.getSvgElement(e);if(r)return"image"===e.type?r.setAttribute("xlink:href",o.document.assets[e.assetId].src):"video"===e.type&&r.setAttribute("xlink:href",o.serializeVideo(e.id)),r.setAttribute("transform","translate(".concat(16+e.point[0]-l.minX,", ").concat(16+e.point[1]-l.minY,") rotate(").concat(180*(e.rotation||0)/Math.PI,", ").concat(n.width/2,", ").concat(n.height/2,")")),r};a.forEach((function(e){var r;if(null==(r=e.children)?void 0:r.length){var i=document.createElementNS("http://www.w3.org/2000/svg","g");return e.children.forEach((function(e){var n=o.getShape(e,t),r=s(n);r&&i.appendChild(r)})),void n.appendChild(i)}var a=s(e);a&&n.appendChild(a)})),n.setAttribute("viewBox",[0,0,l.width+32,l.height+32].join(" ")),n.setAttribute("width",String(l.width)),n.setAttribute("height",String(l.height)),n.setAttribute("fill","transparent"),n.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach((function(e){return e.remove()}));var u=(new XMLSerializer).serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1");return Lm.copyStringToClipboard(u),u}})),hh(d(o),"copyJson",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(0===e.length&&(e=Object.keys(o.page.shapes)),0!==e.length){var n=e.map((function(e){return o.getShape(e,t)})),r=JSON.stringify(n,null,2);return Lm.copyStringToClipboard(r),r}})),hh(d(o),"setCamera",(function(e,t,n){return o.updateViewport(e,t),o.patchState({document:{pageStates:i({},o.currentPageId,{camera:{point:e,zoom:t}})}},n),d(o)})),hh(d(o),"resetCamera",(function(){return o.setCamera(o.centerPoint,1,"reset_camera")})),hh(d(o),"pan",(function(e){var t=o.pageState.camera;return o.setCamera(M.toFixed(M.sub(t.point,e)),t.zoom,"panned")})),hh(d(o),"pinchZoom",(function(e,t,n){var r=o.pageState.camera,i=M.sub(r.point,M.div(t,r.zoom)),a=n,l=M.sub(M.div(e,r.zoom),i),s=M.sub(M.div(e,a),i);return o.setCamera(M.toFixed(M.add(i,M.sub(s,l))),a,"pinch_zoomed")})),hh(d(o),"zoomTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.centerPoint,n=o.pageState.camera,r=n.zoom,i=n.point,a=M.sub(M.div(t,r),i),l=M.sub(M.div(t,e),i);return o.setCamera(M.toFixed(M.add(i,M.sub(l,a))),e,"zoomed_camera")})),hh(d(o),"zoomIn",(function(){var e=Math.round(100*o.pageState.camera.zoom/25),t=Lm.getCameraZoom(.25*(e+1));return o.zoomTo(t)})),hh(d(o),"zoomOut",(function(){var e=Math.round(100*o.pageState.camera.zoom/25),t=Lm.getCameraZoom(.25*(e-1));return o.zoomTo(t)})),hh(d(o),"zoomToFit",(function(){var e=d(o),t=e.shapes,n=e.pageState.camera;if(0===t.length)return d(o);var r=d(o).rendererBounds,i=bn.getCommonBounds(t.map(Lm.getBounds)),a=Lm.getCameraZoom(Math.min((r.width-av)/i.width,(r.height-av)/i.height));a=n.zoom===a||n.zoom<1?Math.min(1,a):a;var l=(r.width-i.width*a)/2/a,s=(r.height-i.height*a)/2/a;return o.setCamera(M.toFixed(M.sub([l,s],[i.minX,i.minY])),a,"zoomed_to_fit")})),hh(d(o),"zoomToSelection",(function(){if(0===o.selectedIds.length)return d(o);var e=d(o).rendererBounds,t=Lm.getSelectedBounds(o.state),n=Lm.getCameraZoom(Math.min((e.width-av)/t.width,(e.height-av)/t.height));n=o.pageState.camera.zoom===n||o.pageState.camera.zoom<1?Math.min(1,n):n;var r=(e.width-t.width*n)/2/n,i=(e.height-t.height*n)/2/n;return o.setCamera(M.toFixed(M.sub([r,i],[t.minX,t.minY])),n,"zoomed_to_selection")})),hh(d(o),"zoomToContent",(function(){var e=o.shapes,t=o.pageState;if(0===e.length)return d(o);var n=d(o).rendererBounds,r=t.camera.zoom,i=bn.getCommonBounds(e.map(Lm.getBounds)),a=(n.width-i.width*r)/2/r,l=(n.height-i.height*r)/2/r;return o.setCamera(M.toFixed(M.sub([a,l],[i.minX,i.minY])),o.pageState.camera.zoom,"zoomed_to_content")})),hh(d(o),"resetZoom",(function(){return o.zoomTo(1)})),hh(d(o),"zoomBy",bn.throttle((function(e,t){var n=o.pageState.camera.zoom,r=Lm.getCameraZoom(n-e*n);return o.zoomTo(r,t)}),16)),hh(d(o),"clearSelectHistory",(function(){return o.selectHistory.pointer=0,o.selectHistory.stack=[o.selectedIds],d(o)})),hh(d(o),"addToSelectHistory",(function(e){return o.selectHistory.pointer<o.selectHistory.stack.length&&(o.selectHistory.stack=o.selectHistory.stack.slice(0,o.selectHistory.pointer+1)),o.selectHistory.pointer++,o.selectHistory.stack.push(e),d(o)})),hh(d(o),"setSelectedIds",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?[].concat(S(o.pageState.selectedIds),S(e)):S(e);return o.patchState({appState:{activeTool:"select"},document:{pageStates:i({},o.currentPageId,{selectedIds:t})}},"selected")})),hh(d(o),"undoSelect",(function(){return o.selectHistory.pointer>0&&(o.selectHistory.pointer--,o.setSelectedIds(o.selectHistory.stack[o.selectHistory.pointer])),d(o)})),hh(d(o),"redoSelect",(function(){return o.selectHistory.pointer<o.selectHistory.stack.length-1&&(o.selectHistory.pointer++,o.setSelectedIds(o.selectHistory.stack[o.selectHistory.pointer])),d(o)})),hh(d(o),"select",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){if(!o.page.shapes[e])throw Error("That shape does not exist on page ".concat(o.currentPageId))})),o.setSelectedIds(t),o.addToSelectHistory(t),d(o)})),hh(d(o),"selectAll",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return o.session||(o.setSelectedIds(Object.values(o.document.pages[e].shapes).filter((function(t){return t.parentId===e})).map((function(e){return e.id}))),o.addToSelectHistory(o.selectedIds),o.selectTool("select")),d(o)})),hh(d(o),"selectNone",(function(){return o.setSelectedIds([]),o.addToSelectHistory(o.selectedIds),d(o)})),hh(d(o),"startSession",(function(e){if(o.readOnly&&"brush"!==e)return d(o);o.session&&(Lm.warn("Already in a session! (".concat(o.session.constructor.name,")")),o.cancelSession());for(var t=function(e){return ey[e]}(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o.session=c(t,[d(o)].concat(r));var a=o.session.start();return a&&o.patchState(a,"session:start_".concat(o.session.constructor.name)),d(o)})),hh(d(o),"updateSession",(function(){var e=d(o).session;if(!e)return d(o);var t=e.update();return t?o.patchState(t,"session:".concat(null==e?void 0:e.constructor.name)):d(o)})),hh(d(o),"cancelSession",(function(){var e=d(o).session;if(!e)return d(o);o.session=void 0;var t=e.cancel();return t&&o.patchState(t,"session:cancel:".concat(e.constructor.name)),d(o)})),hh(d(o),"completeSession",(function(){var e,t,n,r,a,l,s,u=d(o).session;if(!u)return d(o);o.session=void 0;var c=u.complete();if(void 0===c)return o.isCreating=!1,o.patchState({appState:{status:"idle"},document:{pageStates:i({},o.currentPageId,{editingId:void 0,bindingId:void 0,hoveredId:void 0})}},"session:complete:".concat(u.constructor.name));if("after"in c){if(o.isCreating){if(c.before={appState:ch(uh({},c.before.appState),{status:"idle"}),document:{pages:i({},o.currentPageId,{shapes:Object.fromEntries(o.selectedIds.map((function(e){return[e,void 0]})))}),pageStates:i({},o.currentPageId,{selectedIds:[],editingId:null,bindingId:null,hoveredId:null})}},o.appState.isToolLocked)((null==(n=null==(t=null==(e=c.after)?void 0:e.document)?void 0:t.pageStates)?void 0:n[o.currentPageId])||{}).selectedIds=[];o.isCreating=!1}c.after.appState=ch(uh({},c.after.appState),{status:"idle"}),c.after.document=ch(uh({},c.after.document),{pageStates:ch(uh({},null==(r=c.after.document)?void 0:r.pageStates),i({},o.currentPageId,ch(uh({},((null==(a=c.after.document)?void 0:a.pageStates)||{})[o.currentPageId]),{editingId:null})))}),o.setState(c,"session:complete:".concat(u.constructor.name))}else o.patchState(ch(uh({},c),{appState:ch(uh({},c.appState),{status:"idle"}),document:ch(uh({},c.document),{pageStates:i({},o.currentPageId,ch(uh({},null==(s=null==(l=c.document)?void 0:l.pageStates)?void 0:s[o.currentPageId]),{editingId:null}))})}),"session:complete:".concat(u.constructor.name));return d(o)})),hh(d(o),"createShapes",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?d(o):o.create(t.map((function(e){return Lm.getShapeUtil(e.type).create(uh({parentId:o.currentPageId},e))})))})),hh(d(o),"updateShapes",(function(){for(var e=o.document.pages[o.currentPageId].shapes,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter((function(t){return e[t.id]}));return 0===a.length?d(o):o.setState(function(e,t,n){var r=t.map((function(e){return e.id})),o=Lm.mutateShapes(e.state,r.filter((function(t){return!e.getShape(t,n).isLocked})),(function(e,n){return t[n]}),n);return{id:"update",before:{document:{pages:i({},n,{shapes:o.before})}},after:{document:{pages:i({},n,{shapes:o.after})}}}}(d(o),a,o.currentPageId),"updated_shapes")})),hh(d(o),"create",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?d(o):o.setState(Bm(d(o),e,t))})),hh(d(o),"patchCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?d(o):o.patchState(Bm(d(o),e,t).after)})),hh(d(o),"delete",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;if(0===n.length)return d(o);var r=Am(d(o),n);if(o.callbacks.onAssetDelete&&(null==(e=r.before.document)?void 0:e.assets)&&(null==(t=r.after.document)?void 0:t.assets)){var i=Object.keys(r.before.document.assets).filter((function(e){return!!r.before.document.assets[e]})),a=Object.keys(r.after.document.assets).filter((function(e){return!!r.after.document.assets[e]})),l=i.filter((function(e){return!a.includes(e)}));l.forEach((function(e){return o.callbacks.onAssetDelete(e)}))}return o.setState(r)})),hh(d(o),"deleteAll",(function(){return o.selectAll(),o.delete(),d(o)})),hh(d(o),"style",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return o.setState(function(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=t.flatMap((function(t){return Lm.getDocumentBranch(e.state,t,r)})).filter((function(t){return!e.getShape(t).isLocked})),l={},s={};return a.map((function(t){return e.getShape(t)})).filter((function(e){return!e.isLocked})).forEach((function(t){l[t.id]={style:uh({},Object.fromEntries(Object.keys(n).map((function(e){return[e,t.style[e]]}))))},s[t.id]={style:n},"text"===t.type&&(l[t.id].point=t.point,s[t.id].point=M.toFixed(M.add(t.point,M.sub(e.getShapeUtil(t).getCenter(t),e.getShapeUtil(t).getCenter(ch(uh({},t),{style:uh(uh({},t.style),n)}))))))})),{id:"style",before:{document:{pages:i({},r,{shapes:l}),pageStates:i({},r,{selectedIds:o})},appState:{currentStyle:uh({},e.appState.currentStyle)}},after:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:t})},appState:{currentStyle:n}}}}(d(o),t,e))})),hh(d(o),"align",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<2?d(o):o.setState(function(e,t,n){var r=e.currentPageId,o=t.map((function(t){return e.getShape(t)})),a=o.map((function(e){return{id:e.id,point:S(e.point),bounds:Lm.getBounds(e)}})),l=bn.getCommonBounds(a.map((function(e){return e.bounds}))),s=l.minX+l.width/2,u=l.minY+l.height/2,c=Object.fromEntries(a.map((function(e){var t,r=e.id,o=e.point,a=e.bounds;return[r,{prev:o,next:(t={},i(t,"centerVertical",[o[0],u-a.height/2]),i(t,"centerHorizontal",[s-a.width/2,o[1]]),i(t,"top",[o[0],l.minY]),i(t,"bottom",[o[0],l.maxY-a.height]),i(t,"left",[l.minX,o[1]]),i(t,"right",[l.maxX-a.width,o[1]]),t)[n]}]}))),d=Lm.mutateShapes(e.state,t,(function(e){return c[e.id]?{point:c[e.id].next}:e}),r),f=d.before,p=d.after;return o.forEach((function(t){if("group"===t.type){var n=M.sub(p[t.id].point,f[t.id].point);t.children.forEach((function(t){var r=e.getShape(t);f[r.id]={point:r.point},p[r.id]={point:M.add(r.point,n)}})),delete f[t.id],delete p[t.id]}})),{id:"align",before:{document:{pages:i({},r,{shapes:f}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:p}),pageStates:i({},r,{selectedIds:t})}}}}(d(o),t,e))})),hh(d(o),"distribute",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<3?d(o):o.setState(jm(d(o),t,e))})),hh(d(o),"stretch",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<2?d(o):o.setState(function(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=t.map((function(t){return e.getShape(t)})),l=a.map((function(e){return Lm.getBounds(e)})),s=bn.getCommonBounds(l),u=t.flatMap((function(t){var n=e.getShape(t);return n.children?n.children:n.id})).filter((function(t){return!e.getShape(t).isLocked})),c=Lm.mutateShapes(e.state,u,(function(e){var t=Lm.getBounds(e);switch(n){case"horizontal":var r=ch(uh({},t),{minX:s.minX,maxX:s.maxX,width:s.width});return Lm.getShapeUtil(e).transformSingle(e,r,{type:vn.TopLeft,scaleX:r.width/t.width,scaleY:1,initialShape:e,transformOrigin:[.5,.5]});case"vertical":var i=ch(uh({},t),{minY:s.minY,maxY:s.maxY,height:s.height});return Lm.getShapeUtil(e).transformSingle(e,i,{type:vn.TopLeft,scaleX:1,scaleY:i.height/t.height,initialShape:e,transformOrigin:[.5,.5]})}}),r),d=c.before,f=c.after;return a.forEach((function(e){"group"===e.type&&(delete d[e.id],delete f[e.id])})),{id:"stretch",before:{document:{pages:i({},r,{shapes:d}),pageStates:i({},r,{selectedIds:o})}},after:{document:{pages:i({},r,{shapes:f}),pageStates:i({},r,{selectedIds:t})}}}}(d(o),t,e))})),hh(d(o),"flipHorizontal",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(zm(d(o),e,"horizontal"))})),hh(d(o),"flipVertical",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(zm(d(o),e,"vertical"))})),hh(d(o),"moveToPage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.selectedIds;if(0===n.length)return d(o);var r=d(o).rendererBounds;return o.setState(function(e,t,n,r,o){var a,l,s,u,c=e.page,d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},f={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},p=new Set,h=new Set;t.map((function(t){return e.getShape(t,r)})).filter((function(e){return!e.isLocked})).forEach((function(t){p.add(t.id),h.add(t),void 0!==t.children&&t.children.forEach((function(t){p.add(t),h.add(e.getShape(t,r))}))}));var v=Lm.getTopChildIndex(e.state,o),g=Array.from(h.values());g.forEach((function(t,n){if(d.before.shapes[t.id]=t,d.after.shapes[t.id]=void 0,f.before.shapes[t.id]=void 0,f.after.shapes[t.id]=t,!p.has(t.parentId)&&(f.after.shapes[t.id]=ch(uh({},t),{parentId:o,childIndex:v+n}),t.parentId!==r)){var i=e.getShape(t.parentId,r);d.before.shapes[i.id]={children:i.children},d.after.shapes[i.id]={children:i.children.filter((function(e){return e!==t.id}))}}})),Object.values(c.bindings).filter((function(e){return p.has(e.fromId)||p.has(e.toId)})).forEach((function(t){d.before.bindings[t.id]=t,d.after.bindings[t.id]=void 0;var n=e.getShape(t.fromId,r);if(p.has(t.fromId)&&p.has(t.toId))f.before.bindings[t.id]=void 0,f.after.bindings[t.id]=t;else if(p.has(t.fromId)){var o=e.getShape(t.fromId,r),a=Object.values(n.handles).find((function(e){return e.bindingId===t.id})).id,l=f.after.shapes[o.id];l.handles=ch(uh({},l.handles),i({},a,ch(uh({},l.handles[a]),{bindingId:void 0})))}else{var s=e.getShape(t.fromId,r),u=Object.values(n.handles).find((function(e){return e.bindingId===t.id}));d.before.shapes[s.id]={handles:i({},u.id,{bindingId:t.id})},d.after.shapes[s.id]={handles:i({},u.id,{bindingId:void 0})}}}));var m=e.state.document.pageStates[o],y=bn.getCommonBounds(g.map((function(e){return Lm.getBounds(e)}))),b=Lm.getCameraZoom(n.width<n.height?(n.width-128)/y.width:(n.height-128)/y.height),w=(n.width-y.width*b)/2/b,k=(n.height-y.height*b)/2/b,S=M.toFixed(M.add([-y.minX,-y.minY],[w,k]));return{id:"move_to_page",before:{appState:{currentPageId:r},document:{pages:(a={},i(a,r,d.before),i(a,o,f.before),a),pageStates:(l={},i(l,r,{selectedIds:t}),i(l,o,{selectedIds:m.selectedIds,camera:m.camera}),l)}},after:{appState:{currentPageId:o},document:{pages:(s={},i(s,r,d.after),i(s,o,f.after),s),pageStates:(u={},i(u,r,{selectedIds:[]}),i(u,o,{selectedIds:t,camera:{zoom:b,point:S}}),u)}}}}(d(o),n,r,t,e)),d(o)})),hh(d(o),"moveToBack",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Hm(d(o),e,"toBack"))})),hh(d(o),"moveBackward",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Hm(d(o),e,"backward"))})),hh(d(o),"moveForward",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Hm(d(o),e,"forward"))})),hh(d(o),"moveToFront",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Hm(d(o),e,"toFront"))})),hh(d(o),"nudge",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.selectedIds;if(0===n.length)return d(o);var r=t?o.settings.showGrid?4*o.currentGrid:10:o.settings.showGrid?o.currentGrid:1;return o.setState(function(e,t,n){var r=e.currentPageId,o=e.selectedIds;e.rotationInfo.selectedIds=S(o);var a={shapes:{},bindings:{}},l={shapes:{},bindings:{}},s=t.flatMap((function(t){var n=e.getShape(t);return n.children?n.children:n.id})).filter((function(t){return!e.getShape(t).isLocked})),u=Lm.mutateShapes(e.state,s,(function(e){return{point:M.toFixed(M.add(e.point,n))}}),r);return a.shapes=u.before,l.shapes=u.after,Lm.getBindings(e.state,r).filter((function(e){return t.includes(e.fromId)&&!t.includes(e.toId)})).forEach((function(t){a.bindings[t.id]=t,l.bindings[t.id]=void 0;for(var n=function(){var n=o[r],s=e.getShape(n);if(!s.handles)return 1;Object.values(s.handles).filter((function(e){return e.bindingId===t.id})).forEach((function(e){var r,o;a.shapes[n]=ch(uh({},a.shapes[n]),{handles:ch(uh({},null==(r=a.shapes[n])?void 0:r.handles),i({},e.id,{bindingId:t.id}))}),l.shapes[n]=ch(uh({},l.shapes[n]),{handles:ch(uh({},null==(o=l.shapes[n])?void 0:o.handles),i({},e.id,{bindingId:void 0}))})}))},r=0,o=[t.toId,t.fromId];r<o.length;r++)n()})),{id:"translate",before:{document:{pages:i({},r,a),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,l),pageStates:i({},r,{selectedIds:t})}}}}(d(o),n,M.mul(e,r)))})),hh(d(o),"duplicate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1?arguments[1]:void 0;return o.readOnly||0===e.length?d(o):o.setState(function(e,t,n){var r=e.selectedIds,o=e.currentPageId,a=e.page,l=(e.shapes,{shapes:{},bindings:{}}),s={shapes:{},bindings:{}},u={},c=t.map((function(t){return e.getShape(t)})).filter((function(e){return!t.includes(e.parentId)}));c.forEach((function(t){var n=bn.uniqueId();if(l.shapes[n]=void 0,s.shapes[n]=ch(uh({},bn.deepClone(t)),{id:n,childIndex:Lm.getChildIndexAbove(e.state,t.id,o)}),t.children&&(s.shapes[n].children=[]),t.parentId!==o){var r=e.getShape(t.parentId);l.shapes[r.id]=ch(uh({},l.shapes[r.id]),{children:r.children}),s.shapes[r.id]=ch(uh({},s.shapes[r.id]),{children:[].concat(S((s.shapes[r.id]||r).children),[n])})}u[t.id]=n})),c.forEach((function(t){t.children&&t.children.forEach((function(n){var r,i,a=e.getShape(n),c=bn.uniqueId(),d=u[t.id];l.shapes[c]=void 0,s.shapes[c]=ch(uh({},bn.deepClone(a)),{id:c,parentId:d,childIndex:Lm.getChildIndexAbove(e.state,a.id,o)}),u[n]=c,null==(i=null==(r=s.shapes[u[t.id]])?void 0:r.children)||i.push(c)}))}));var d=new Set(Object.keys(u));Object.values(a.bindings).filter((function(e){return d.has(e.fromId)||d.has(e.toId)})).forEach((function(e){if(d.has(e.fromId))if(d.has(e.toId)){var t=bn.uniqueId(),n=ch(uh({},bn.deepClone(e)),{id:t,fromId:u[e.fromId],toId:u[e.toId]});l.bindings[t]=void 0,s.bindings[t]=n;var r=s.shapes[n.fromId];Object.values(r.handles).forEach((function(n){n.bindingId===e.id&&(n.bindingId=t)}))}else{var i=s.shapes[u[e.fromId]];Object.values(i.handles).forEach((function(t){t.bindingId===e.id&&(t.bindingId=void 0)}))}}));var f=Object.values(s.shapes);if(n){var p=bn.getCommonBounds(f.map((function(e){return Lm.getBounds(e)}))),h=bn.getBoundsCenter(p);f.forEach((function(e){e.point&&(e.point=M.sub(n,M.sub(h,e.point)))}))}else{var v=[16,16];f.forEach((function(e){e.point&&(e.point=M.add(e.point,v))}))}return f.forEach((function(e){e.isLocked&&(e.isLocked=!1)})),{id:"duplicate",before:{document:{pages:i({},o,l),pageStates:i({},o,{selectedIds:r})}},after:{document:{pages:i({},o,s),pageStates:i({},o,{selectedIds:Array.from(d.values()).map((function(e){return u[e]}))})}}}}(d(o),e,t))})),hh(d(o),"resetBounds",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=Fm(d(o),e,o.currentPageId);return o.setState(Fm(d(o),e,o.currentPageId),t.id)})),hh(d(o),"toggleHidden",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Um(d(o),e,"isHidden"))})),hh(d(o),"toggleLocked",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Um(d(o),e,"isLocked"))})),hh(d(o),"toggleAspectRatioLocked",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(Um(d(o),e,"isAspectRatioLocked"))})),hh(d(o),"toggleDecoration",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return 0===t.length||"start"!==e&&"end"!==e?d(o):o.setState(function(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=Object.fromEntries(t.map((function(t){var r;return[t,{decorations:i({},n,null==(r=e.getShape(t).decorations)?void 0:r[n])}]}))),l=Object.fromEntries(t.filter((function(t){return!e.getShape(t).isLocked})).map((function(t){var r;return[t,{decorations:i({},n,(null==(r=e.getShape(t).decorations)?void 0:r[n])?void 0:"arrow")}]})));return{id:"toggle_decorations",before:{document:{pages:i({},r,{shapes:a}),pageStates:i({},r,{selectedIds:o})}},after:{document:{pages:i({},r,{shapes:l}),pageStates:i({},r,{selectedIds:t})}}}}(d(o),t,e))})),hh(d(o),"setShapeProps",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return o.setState(function(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=t.map((function(t){return e.getShape(t)})).filter((function(e){return!!n.isLocked||!e.isLocked})),l={},s={},u=Object.keys(n);return a.forEach((function(e){l[e.id]=Object.fromEntries(u.map((function(t){return[t,e[t]]}))),s[e.id]=n})),{id:"set_props",before:{document:{pages:i({},r,{shapes:l}),pageStates:i({},r,{selectedIds:o})}},after:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:o})}}}}(d(o),t,e))})),hh(d(o),"rotate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-.5*Math.PI,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;if(0===t.length)return d(o);var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Nm/4,r=e.currentPageId,o={},a={},l=t.flatMap((function(t){var n=e.getShape(t);return n.children?n.children.map((function(t){return e.getShape(t)})):n})).filter((function(e){return!e.isLocked})),s=bn.getBoundsCenter(bn.getCommonBounds(l.map((function(e){return Lm.getBounds(e)}))));return l.forEach((function(e){var t=Lm.getRotatedShapeMutation(e,Lm.getCenter(e),s,n);t&&(o[e.id]=Lm.getBeforeShape(e,t),a[e.id]=t)})),{id:"rotate",before:{document:{pages:i({},r,{shapes:o}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:a}),pageStates:i({},r,{selectedIds:t})}}}}(d(o),t,e);return n?o.setState(n):d(o)})),hh(d(o),"group",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn.uniqueId(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.currentPageId;if(o.readOnly)return d(o);if(1===e.length&&"group"===o.getShape(e[0],n).type)return o.ungroup(e,n);if(e.length<2)return d(o);var r=function(e,t,n,r){var o,a;if(!(t.length<2)){var l,s={},u={},c={},d={},f=S(t),p=[],h=[],v=[],g=C(t);try{for(g.s();!(l=g.n()).done;){var m=l.value,y=e.getShape(m);if(!y.isLocked)if(void 0===y.children)p.push(y);else{var b=y.children.filter((function(t){return!e.getShape(t).isLocked}));v.push(y),f.push.apply(f,S(b)),p.push.apply(p,S(b.map((function(t){return e.getShape(t)})).filter(Boolean)))}}}catch(JI){g.e(JI)}finally{g.f()}if(p.every((function(e){return e.parentId===p[0].parentId}))&&p[0].parentId!==r&&(null==(o=e.getShape(p[0].parentId).children)?void 0:o.length)===f.length)return;var w=Lm.flattenPage(e.state,r),k=Object.fromEntries(p.map((function(e){return[e.id,w.indexOf(e)]}))),E=p.sort((function(e,t){return k[e.id]-k[t.id]})),x=r,I=(E.filter((function(e){return e.parentId===r}))[0]||E[0]).childIndex,P=bn.getCommonBounds(p.map((function(e){return Lm.getBounds(e)})));for(s[n]=void 0,u[n]=Lm.getShapeUtil("group").create({id:n,childIndex:I,parentId:x,point:[P.minX,P.minY],size:[P.width,P.height],children:E.map((function(e){return e.id}))}),E.forEach((function(t,i){if(t.parentId!==r){var o=e.getShape(t.parentId);v.push(o)}s[t.id]=ch(uh({},s[t.id]),{parentId:t.parentId,childIndex:t.childIndex}),u[t.id]=ch(uh({},u[t.id]),{parentId:n,childIndex:i+1})}));v.length>0;){var _=v.pop();if(!_)break;var M=((null==(a=s[_.id])?void 0:a.children)||_.children).filter((function(e){return e&&!(f.includes(e)||h.includes(e))}));0===M.length?(s[_.id]=_,u[_.id]=void 0,_.parentId!==r&&(h.push(_.id),v.push(e.getShape(_.parentId)))):(s[_.id]=ch(uh({},s[_.id]),{children:_.children}),u[_.id]=ch(uh({},u[_.id]),{children:M}))}var D=e.bindings,T=new Set(h);return D.forEach((function(t){for(var n=function(){var n=o[r];if(T.has(n)){c[t.id]=t,d[t.id]=void 0;var a=e.getShape(n);a.handles&&Object.values(a.handles).filter((function(e){return e.bindingId===t.id})).forEach((function(e){var r,o;s[n]=ch(uh({},s[n]),{handles:ch(uh({},null==(r=s[n])?void 0:r.handles),i({},e.id,{bindingId:t.id}))}),h.includes(n)||(u[n]=ch(uh({},u[n]),{handles:ch(uh({},null==(o=u[n])?void 0:o.handles),i({},e.id,{bindingId:void 0}))}))}))}},r=0,o=[t.toId,t.fromId];r<o.length;r++)n()})),{id:"group",before:{document:{pages:i({},r,{shapes:s,bindings:c}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:u,bindings:c}),pageStates:i({},r,{selectedIds:[n]})}}}}}(d(o),e,t,n);return r?o.setState(r):d(o)})),hh(d(o),"ungroup",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(o.readOnly)return d(o);var n=e.map((function(e){return o.getShape(e,t)})).filter((function(e){return"group"===e.type}));if(0===n.length)return d(o);var r=function(e,t,n,r){var o=e.bindings,a={},l={},s={},u={},c=t,d=t.filter((function(e){return!n.find((function(t){return t.id===e}))}));return n.filter((function(e){return!e.isLocked})).forEach((function(t){var n=[],c=[];a[t.id]=t,l[t.id]=void 0,t.children.forEach((function(t){d.push(t);var i=e.getShape(t,r);n.push(i)}));var f=t.childIndex,p=(Lm.getChildIndexAbove(e.state,t.id,r)-f)/n.length,h=n.sort((function(e,t){return e.childIndex-t.childIndex}));h.forEach((function(e,t){a[e.id]={parentId:e.parentId,childIndex:e.childIndex},l[e.id]={parentId:r,childIndex:f+p*t}})),o.filter((function(e){return e.toId===t.id||e.fromId===t.id})).forEach((function(t){for(var n=function(){var n=d[o];if(void 0===l[n]){s[t.id]=t,u[t.id]=void 0;var f=e.getShape(n,r);f.handles&&Object.values(f.handles).filter((function(e){return e.bindingId===t.id})).forEach((function(e){var r,o;a[n]=ch(uh({},a[n]),{handles:ch(uh({},null==(r=a[n])?void 0:r.handles),i({},e.id,{bindingId:t.id}))}),c.includes(n)||(l[n]=ch(uh({},l[n]),{handles:ch(uh({},null==(o=l[n])?void 0:o.handles),i({},e.id,{bindingId:void 0}))}))}))}},o=0,d=[t.toId,t.fromId];o<d.length;o++)n()}))})),{id:"ungroup",before:{document:{pages:i({},r,{shapes:a,bindings:s}),pageStates:i({},r,{selectedIds:c})}},after:{document:{pages:i({},r,{shapes:l,bindings:s}),pageStates:i({},r,{selectedIds:d})}}}}(d(o),e,n,t);return r?o.setState(r):d(o)})),hh(d(o),"cancel",(function(){var e,t;return null==(t=(e=o.currentTool).onCancel)||t.call(e),d(o)})),hh(d(o),"addMediaFromFile",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vh(d(o),[e].concat(n),(function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.centerPoint;return k().mark((function r(){var o,a,l,s,u,c,d,f,p,h,v,g,m,y,b,w;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.setIsLoading(!0),o=bn.uniqueId(),a=t.getPagePoint(n),l=e.name.match(/\.[0-9a-z]+$/i)){r.next=6;break}throw Error("No extension");case 6:if(s=fv.includes(l[0].toLowerCase()),u=pv.includes(l[0].toLowerCase()),s||u){r.next=10;break}throw Error("Wrong extension");case 10:if(c=s?"image":"video",d=s?"image":"video",r.prev=12,!t.callbacks.onAssetCreate){r.next=22;break}return r.next=16,t.callbacks.onAssetCreate(e,o);case 16:if(p=r.sent){r.next=19;break}throw Error("Asset creation callback returned false");case 19:f=p,r.next=25;break;case 22:return r.next=24,wv(e);case 24:f=r.sent;case 25:if("string"!==typeof f){r.next=46;break}if(h=[0,0],!s){r.next=40;break}if(".svg"!=l[0]){r.next=34;break}return r.next=31,kv(e);case 31:g=r.sent,(m=t.getViewboxFromSVG(g))&&(v=m.split(" "),h[0]=parseFloat(v[2]),h[1]=parseFloat(v[3]));case 34:if(!M.isEqual(h,[0,0])){r.next=38;break}return r.next=37,Sv(f);case 37:h=r.sent;case 38:r.next=43;break;case 40:return r.next=42,Cv(f);case 42:h=r.sent;case 43:y=Object.values(t.document.assets).find((function(e){return e.type===d&&e.src===f})),y?b=y.id:(b=bn.uniqueId(),w={id:b,type:d,src:f,size:h},t.patchState({document:{assets:i({},b,w)}})),t.createImageOrVideoShapeAtPoint(o,c,a,h,b);case 46:r.next=53;break;case 48:return r.prev=48,r.t0=r.catch(12),console.warn(r.t0),t.setIsLoading(!1),r.abrupt("return",t);case 53:return t.setIsLoading(!1),r.abrupt("return",t);case 55:case"end":return r.stop()}}),r,null,[[12,48]])}))()}))})),hh(d(o),"getViewboxFromSVG",(function(e){if("string"===typeof e){var t=e.match(/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/);return t&&t.length>=2?t[1]:null}return console.warn("could not get viewbox from svg string"),o.setIsLoading(!1),null})),hh(d(o),"onKeyDown",(function(e,t,n){var r,i;switch(n.key){case"/":if("idle"===o.status&&!o.pageState.editingId){var a=d(o),l=a.shiftKey,s=a.metaKey,u=a.altKey,c=a.ctrlKey,f=a.spaceKey;o.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:l,ctrlKey:c,metaKey:s,altKey:u,spaceKey:f},{shiftKey:l,altKey:u,ctrlKey:c,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break;case"Escape":o.cancel();break;case"Meta":o.metaKey=!0;break;case"Alt":o.altKey=!0;break;case"Control":o.ctrlKey=!0;break;case" ":o.isForcePanning=!0,o.spaceKey=!0}return null==(i=(r=o.currentTool).onKeyDown)||i.call(r,e,t,n),d(o)})),hh(d(o),"onKeyUp",(function(e,t,n){var r,i;if(t){switch(n.key){case"/":var a=d(o),l=a.currentPoint,s=a.shiftKey,u=a.metaKey,c=a.altKey,f=a.ctrlKey,p=a.spaceKey;o.onPointerUp({target:"canvas",pointerId:0,origin:l,point:l,delta:[0,0],pressure:.5,shiftKey:s,ctrlKey:f,metaKey:u,altKey:c,spaceKey:p},{shiftKey:s,altKey:c,ctrlKey:f,pointerId:0,clientX:l[0],clientY:l[1]});break;case"Meta":o.metaKey=!1;break;case"Alt":o.altKey=!1;break;case"Control":o.ctrlKey=!1;break;case" ":o.isForcePanning=!1,o.spaceKey=!1}null==(i=(r=o.currentTool).onKeyUp)||i.call(r,e,t,n)}})),hh(d(o),"refreshBoundingBoxes",(function(){var e=o.shapes.map((function(e){return[e.id,uh({point:S(e.point)},"label"in e&&{label:""})]})),t=o.shapes.map((function(e){return[e.id,uh({point:S(e.point)},"label"in e&&{label:e.label})]}));Xv="",o.patchState({document:{pages:i({},o.currentPageId,{shapes:Object.fromEntries(e)})}}),o.patchState({document:{pages:i({},o.currentPageId,{shapes:Object.fromEntries(t)})}})})),hh(d(o),"onDragOver",(function(e){e.preventDefault()})),hh(d(o),"onDrop",(function(e){return vh(d(o),null,k().mark((function t(){var n,r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!this.disableAssets){t.next=3;break}return t.abrupt("return",this);case 3:return(null==(n=e.dataTransfer.files)?void 0:n.length)&&(r=e.dataTransfer.files[0],this.addMediaFromFile(r,[e.clientX,e.clientY])),t.abrupt("return",this);case 5:case"end":return t.stop()}}),t,this)})))})),hh(d(o),"onPinchStart",(function(e,t){var n,r;null==(r=(n=o.currentTool).onPinchStart)||r.call(n,e,t)})),hh(d(o),"onPinchEnd",(function(e,t){var n,r;return null==(r=(n=o.currentTool).onPinchEnd)?void 0:r.call(n,e,t)})),hh(d(o),"onPinch",(function(e,t){var n,r;return null==(r=(n=o.currentTool).onPinch)?void 0:r.call(n,e,t)})),hh(d(o),"onPan",(function(e,t){if("pinching"!==o.appState.status){var n=M.div(e.delta,o.pageState.camera.zoom),r=o.pageState.camera.point,i=M.sub(r,n);M.isEqual(i,r)||(o.pan(n),o.isForcePanning||o.onPointerMove(e,t))}})),hh(d(o),"onZoom",(function(e,t){if("idle"===o.state.appState.status){var n=e.delta[2]/50;o.zoomBy(n,e.point),o.onPointerMove(e,t)}})),hh(d(o),"updateInputs",(function(e){o.currentPoint=o.getPagePoint(e.point).concat(e.pressure),o.shiftKey=e.shiftKey,o.altKey=e.altKey,o.ctrlKey=e.ctrlKey,o.metaKey=e.metaKey})),hh(d(o),"onPointerMove",(function(e,t){var n,r,i,a,l;if(o.previousPoint=o.currentPoint,o.updateInputs(e,t),o.isForcePanning&&o.isPointing)null==(n=o.onPan)||n.call(d(o),ch(uh({},e),{delta:M.neg(e.delta)}),t);else if(null==(i=(r=o.currentTool).onPointerMove)||i.call(r,e,t),o.state.room){var s=o.state.room,u=s.users,c=s.userId;null==(l=(a=o.callbacks).onChangePresence)||l.call(a,d(o),ch(uh({},u[c]),{point:o.getPagePoint(e.point)}))}})),hh(d(o),"onPointerDown",(function(e,t){var n,r;if(4===t.buttons)o.isForcePanning=!0;else if(o.isPointing)return;o.isPointing=!0,o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),o.isForcePanning||null==(r=(n=o.currentTool).onPointerDown)||r.call(n,e,t)})),hh(d(o),"onPointerUp",(function(e,t){var n,r;o.isPointing=!1,o.shiftKey||(o.isForcePanning=!1),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointerUp)||r.call(n,e,t)})),hh(d(o),"onPointCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointCanvas)||r.call(n,e,t)})),hh(d(o),"onDoubleClickCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickCanvas)||r.call(n,e,t)})),hh(d(o),"onRightPointCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointCanvas)||r.call(n,e,t)})),hh(d(o),"onDragCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragCanvas)||r.call(n,e,t)})),hh(d(o),"onReleaseCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseCanvas)||r.call(n,e,t)})),hh(d(o),"onPointShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointShape)||r.call(n,e,t)})),hh(d(o),"onReleaseShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseShape)||r.call(n,e,t)})),hh(d(o),"onDoubleClickShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickShape)||r.call(n,e,t)})),hh(d(o),"onRightPointShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointShape)||r.call(n,e,t)})),hh(d(o),"onDragShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragShape)||r.call(n,e,t)})),hh(d(o),"onHoverShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverShape)||r.call(n,e,t)})),hh(d(o),"onUnhoverShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverShape)||r.call(n,e,t)})),hh(d(o),"onPointBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointBounds)||r.call(n,e,t)})),hh(d(o),"onDoubleClickBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickBounds)||r.call(n,e,t)})),hh(d(o),"onRightPointBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointBounds)||r.call(n,e,t)})),hh(d(o),"onDragBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragBounds)||r.call(n,e,t)})),hh(d(o),"onHoverBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverBounds)||r.call(n,e,t)})),hh(d(o),"onUnhoverBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverBounds)||r.call(n,e,t)})),hh(d(o),"onReleaseBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseBounds)||r.call(n,e,t)})),hh(d(o),"onPointBoundsHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointBoundsHandle)||r.call(n,e,t)})),hh(d(o),"onDoubleClickBoundsHandle",(function(e,t){var n,r;if(o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickBoundsHandle)||r.call(n,e,t),1===o.selectedIds.length){var i=o.getShape(o.selectedIds[0]);if("image"===i.type||"video"===i.type){var a=o.document.assets[i.assetId],l=Lm.getShapeUtil(i),s=l.getCenter(i),u=l.getCenter(ch(uh({},i),{size:a.size})),c=M.sub(u,s);o.updateShapes({id:i.id,point:M.sub(i.point,c),size:a.size})}}})),hh(d(o),"onRightPointBoundsHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointBoundsHandle)||r.call(n,e,t)})),hh(d(o),"onDragBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragBoundsHandle)||r.call(n,e,t)})),hh(d(o),"onHoverBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverBoundsHandle)||r.call(n,e,t)})),hh(d(o),"onUnhoverBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverBoundsHandle)||r.call(n,e,t)})),hh(d(o),"onReleaseBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseBoundsHandle)||r.call(n,e,t)})),hh(d(o),"onPointHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointHandle)||r.call(n,e,t)})),hh(d(o),"onDoubleClickHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickHandle)||r.call(n,e,t)})),hh(d(o),"onRightPointHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointHandle)||r.call(n,e,t)})),hh(d(o),"onDragHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragHandle)||r.call(n,e,t)})),hh(d(o),"onHoverHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverHandle)||r.call(n,e,t)})),hh(d(o),"onUnhoverHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverHandle)||r.call(n,e,t)})),hh(d(o),"onReleaseHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseHandle)||r.call(n,e,t)})),hh(d(o),"onShapeChange",(function(e){o.updateShapes(e)})),hh(d(o),"onShapeBlur",(function(){var e,t;if(!(performance.now()-o.editingStartTime<50)){var n=o.pageState.editingId,r=o.getAppState().isToolLocked;if(n){var i=o.getShape(n);o.setEditingId(),"text"===i.type&&(i.text.trim().length<=0?o.patchState(Am(d(o),[n]).after,"delete_empty_text"):r||o.select(n))}null==(t=(e=o.currentTool).onShapeBlur)||t.call(e)}})),hh(d(o),"onShapeClone",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onShapeClone)||r.call(n,e,t)})),hh(d(o),"onRenderCountChange",(function(e){var t=o.getAppState();t.isEmptyCanvas&&e.length>0?o.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&o.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")})),hh(d(o),"onError",(function(){})),hh(d(o),"getShapeUtil",Lm.getShapeUtil),o.callbacks=a,o}return b(n,[{key:"setStatus",value:function(e){return this.patchState({appState:{status:e}},"set_status:".concat(e))}},{key:"isMenuOpen",get:function(){return this.appState.isMenuOpen}},{key:"isLoading",get:function(){return this.appState.isLoading}},{key:"disableAssets",get:function(){return this.appState.disableAssets}},{key:"history",get:function(){return this.stack.slice(0,this.pointer+1)},set:function(e){this.replaceHistory(e)}},{key:"document",get:function(){return this.state.document}},{key:"settings",get:function(){return this.state.settings}},{key:"appState",get:function(){return this.state.appState}},{key:"currentPageId",get:function(){return this.state.appState.currentPageId}},{key:"page",get:function(){return this.state.document.pages[this.currentPageId]}},{key:"shapes",get:function(){return Object.values(this.page.shapes)}},{key:"bindings",get:function(){return Object.values(this.page.bindings)}},{key:"assets",get:function(){return Object.values(this.document.assets)}},{key:"pageState",get:function(){return this.state.document.pageStates[this.currentPageId]}},{key:"selectedIds",get:function(){return this.pageState.selectedIds}},{key:"createTextShapeAtPoint",value:function(e,t){var n=this.shapes,r=this.appState,i=r.currentPageId,o=r.currentStyle,a=0===n.length?1:n.filter((function(e){return e.parentId===i})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1,l=Tm.text,s=l.create({id:t||bn.uniqueId(),parentId:i,childIndex:a,point:e,style:uh({},o)}),u=l.getBounds(s);return s.point=M.sub(s.point,[u.width/2,u.height/2]),this.createShapes(s),this.setEditingId(s.id),this}},{key:"createImageOrVideoShapeAtPoint",value:function(e,t,n,r,i){var o=this.shapes,a=this.appState,l=a.currentPageId,s=a.currentStyle,u=0===o.length?1:o.filter((function(e){return e.parentId===l})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1,c=Tm[t],d=c.create({id:e,parentId:l,childIndex:u,point:n,size:r,style:uh({},s),assetId:i}),f=c.getBounds(d);return d.point=M.sub(d.point,[f.width/2,f.height/2]),this.createShapes(d),this}},{key:"isSelected",value:function(e){return this.selectedIds.includes(e)}},{key:"serializeVideo",value:function(e){var t=document.getElementById(e+"_video");if(t){var n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}throw new Error("Video with id "+e+" not found")}},{key:"serializeImage",value:function(e){var t=document.getElementById(e+"_image");if(t){var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}throw new Error("Image with id "+e+" not found")}},{key:"patchAssets",value:function(e){this.document.assets=uh(uh({},this.document.assets),e)}},{key:"exportAllShapesAs",value:function(e){return vh(this,null,k().mark((function t(){var n,r,i,o,a;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=S(this.selectedIds),this.selectAll(),r=bn.expandBounds(Lm.getSelectedBounds(this.state),64),i=r.width,o=r.height,a=Lm.getAllEffectedShapeIds(this.state,this.selectedIds,this.currentPageId),this.setSelectedIds(n),t.next=7,this.exportShapesAs(a,[i,o],e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"exportSelectedShapesAs",value:function(e){return vh(this,null,k().mark((function t(){var n,r,i,o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=bn.expandBounds(Lm.getSelectedBounds(this.state),64),r=n.width,i=n.height,o=Lm.getAllEffectedShapeIds(this.state,this.selectedIds,this.currentPageId),t.next=4,this.exportShapesAs(o,[r,i],e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"exportShapesAs",value:function(e,t,n){return vh(this,null,k().mark((function r(){var i,o,a,l,s,u=this;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.callbacks.onExport){r.next=2;break}return r.abrupt("return");case 2:return this.setIsLoading(!0),r.prev=3,o={},a=e.map((function(e){var t=uh({},u.getShape(e));if(t.assetId){var n=uh({},u.document.assets[t.assetId]);n.src.toLowerCase().endsWith("gif")&&(n.src=u.serializeImage(t.id)),"video"===t.type&&(n.src=u.serializeVideo(t.id),n.type="image",t.type="image"),o[t.assetId]=n}return t})),"svg"===n?l=this.copySvg(e):"json"===n&&(l=this.copyJson(e)),s={currentPageId:this.currentPageId,name:null!=(i=this.page.name)?i:"export",shapes:a,assets:o,type:n,serialized:l,size:"png"===n?M.mul(t,2):t},r.next=10,this.callbacks.onExport(s);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.error(r.t0);case 15:return r.prev=15,this.setIsLoading(!1),r.finish(15);case 18:case"end":return r.stop()}}),r,this,[[3,12,15,18]])})))}},{key:"room",get:function(){return this.state.room}},{key:"isLocal",get:function(){return void 0===this.state.room||"local"===this.state.room.id}},{key:"status",get:function(){return this.appState.status}},{key:"currentUser",get:function(){if(this.state.room)return this.state.room.users[this.state.room.userId]}},{key:"centerPoint",get:function(){var e=this.rendererBounds,t=e.width,n=e.height;return M.toFixed([t/2,n/2])}},{key:"currentGrid",get:function(){var e=this.pageState.camera.zoom;return e<.15?128:e<1?32:8}}]),n}(fy),vy=hy;hh(vy,"version",15.3),hh(vy,"defaultDocument",{id:"doc",name:"New Document",version:hy.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),hh(vy,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:Uv,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,snapLines:[],isLoading:!1,disableAssets:!1},document:hy.defaultDocument});i(Hp={select:ny,erase:ry},"text",iy),i(Hp,"draw",oy),i(Hp,"ellipse",ay),i(Hp,"rectangle",ly),i(Hp,"triangle",sy),i(Hp,"line",uy),i(Hp,"arrow",cy),i(Hp,"sticky",dy);var gy=E.createContext({});function my(){return E.useContext(gy)}var yy=new Map,by="Tldraw-fonts";function wy(){var e=this,t=my();return{onNewProject:E.useCallback((function(n){return vh(e,null,k().mark((function e(){var r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t.callbacks.onOpenProject&&n.preventDefault(),null==(i=(r=t.callbacks).onNewProject)||i.call(r,t);case 2:case"end":return e.stop()}}),e)})))}),[t]),onSaveProject:E.useCallback((function(e){var n,r;e&&t.callbacks.onOpenProject&&e.preventDefault(),null==(r=(n=t.callbacks).onSaveProject)||r.call(n,t)}),[t]),onSaveProjectAs:E.useCallback((function(e){var n,r;e&&t.callbacks.onOpenProject&&e.preventDefault(),null==(r=(n=t.callbacks).onSaveProjectAs)||r.call(n,t)}),[t]),onOpenProject:E.useCallback((function(n){return vh(e,null,k().mark((function e(){var r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t.callbacks.onOpenProject&&n.preventDefault(),null==(i=(r=t.callbacks).onOpenProject)||i.call(r,t);case 2:case"end":return e.stop()}}),e)})))}),[t]),onOpenMedia:E.useCallback((function(n){return vh(e,null,k().mark((function e(){var r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t.callbacks.onOpenMedia&&n.preventDefault(),null==(i=(r=t.callbacks).onOpenMedia)||i.call(r,t);case 2:case"end":return e.stop()}}),e)})))}),[t])}}var ky={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"},Sy=function(e){return e.appState.status},Cy=function(e){return e.appState.activeTool};function Ey(){var e=my(),t=e.useStore(Sy),n=e.useStore(Cy);return E.createElement(xy,{bp:ky,id:"TD-StatusBar"},E.createElement(Iy,null,n," | ",t))}var xy=Zh("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),Iy=Zh("div",{whiteSpace:"nowrap",overflow:"hidden"}),Py=function(){return bn.isDarwin()?"\u2318":"Ctrl"};function _y(e){var t=e.variant,n=e.children;return E.createElement(My,{variant:t},n.split("").map((function(e,t){return E.createElement("span",{key:t},e.replace("#",Py()))})))}var My=Zh("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}}),Dy=Zh("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}}),Ty=E.forwardRef((function(e,t){var n=e,r=n.onClick,i=n.isActive,o=void 0!==i&&i,a=n.isWarning,l=void 0!==a&&a,s=n.hasIndicator,u=void 0!==s&&s,c=n.hasArrow,d=void 0!==c&&c,f=n.disabled,p=void 0!==f&&f,h=n.isSponsor,v=void 0!==h&&h,g=n.variant,m=n.kbd,y=n.children,b=dh(n,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","isSponsor","variant","kbd","children"]);return E.createElement(Ry,uh({ref:t,bp:ky,isWarning:l,isActive:o,isSponsor:v,disabled:p,onClick:r,variant:g},b),E.createElement(Oy,null,y,m?E.createElement(_y,{variant:"menu"},m):void 0,u&&E.createElement(Yu,{dir:"ltr"},E.createElement(Dy,null,E.createElement(kc,null))),d&&E.createElement(Dy,null,E.createElement(Cc,null))))})),Oy=Zh("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1}}),Ry=Zh("button",(i(Fp={position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3}},"&:focus:not(:disabled) ".concat(Oy),{backgroundColor:"$hover"}),i(Fp,"& a",{textDecoration:"none",color:"$text"}),i(Fp,"variants",{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isSponsor:{true:{color:"#eb30a2"},false:{}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}),i(Fp,"compoundVariants",[{isActive:!1,isSponsor:!0,bp:"small",css:i({},"&:hover:not(:disabled) ".concat(Oy),{backgroundColor:"$sponsorContrast",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}})},{isActive:!1,isSponsor:!1,bp:"small",css:i({},"&:hover:not(:disabled) ".concat(Oy),{backgroundColor:"$hover",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}})}]),Fp)),Ly=Zh("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:180,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",variants:{size:{small:{minWidth:72}}}}),By=function(e){return e.appState.isEmptyCanvas&&Object.keys(e.document.pages[e.appState.currentPageId].shapes).length>0},Ay=E.memo((function(){var e=my();return e.useStore(By)?E.createElement(jy,{id:"TD-Tools-Back_to_content"},E.createElement(Ty,{onClick:e.zoomToContent},"Back to content")):null})),jy=Zh(Ly,{pointerEvents:"all",width:"fit-content",minWidth:0,gridRow:1,flexGrow:2,display:"block"});function zy(e){var t=e.children,n=e.label,r=e.kbd,i=e.id,o=e.side,a=void 0===o?"top":o;return E.createElement("span",{id:i},E.createElement(Gd,null,E.createElement(qd,{dir:"ltr",asChild:!0},E.createElement("span",null,t)),E.createElement(Hy,{dir:"ltr",side:a,sideOffset:8},n,r?E.createElement(_y,{variant:"tooltip"},r):null,E.createElement(Fy,null))))}var Hy=Zh(Qd,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),Fy=Zh(Jd,{fill:"$tooltip",margin:"0 8px"}),Ny=E.forwardRef((function(e,t){var n=e,r=n.onSelect,i=n.onClick,o=n.onDoubleClick,a=n.variant,l=n.children,s=n.isToolLocked,u=void 0!==s&&s,c=n.disabled,d=void 0!==c&&c,f=n.isActive,p=void 0!==f&&f,h=n.isSponsor,v=void 0!==h&&h,g=n.onKeyDown,m=n.id,y=dh(n,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","isSponsor","onKeyDown","id"]);return E.createElement(Vy,uh({ref:t,isActive:p,isSponsor:v,variant:a,onClick:i,disabled:d,onPointerDown:r,onDoubleClick:o,onKeyDown:g,bp:ky,id:m},y),E.createElement(Ky,null,l),u&&E.createElement(Wy,null))}));function Uy(e){var t=e,n=t.label,r=t.kbd,i=t.isLocked,o=dh(t,["label","kbd","isLocked"]),a=my(),l=E.useCallback((function(){a.toggleToolLock()}),[]),s=E.useCallback((function(e){" "===e.key&&a.isForcePanning&&e.preventDefault()}),[]);return E.createElement(zy,{label:n[0].toUpperCase()+n.slice(1),kbd:r},E.createElement(Ny,ch(uh({},o),{variant:"primary",isToolLocked:i&&o.isActive,onDoubleClick:l,onKeyDown:s})))}var Ky=Zh("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent"}),Vy=Zh("button",(i(Kp={position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",border:"none",height:"40px",width:"40px"},"&:disabled ".concat(Ky),{opacity:.618}),i(Kp,"variants",{variant:{primary:{marginTop:"0"},icon:i({},"& ".concat(Ky),{display:"grid","& > *":{gridRow:1,gridColumn:1}}),text:i({width:"auto"},"& ".concat(Ky),{fontSize:"$1",padding:"0 $3",gap:"$3"}),circle:(Np={padding:"$2"},i(Np,"& ".concat(Ky),{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"}),i(Np,"& ".concat(Ky," > svg"),{width:14,height:14}),Np)},isSponsor:{true:i({},"".concat(Ky),{backgroundColor:"$sponsorContrast"})},isActive:{true:{},false:{}},bp:{mobile:{},small:{}}}),i(Kp,"compoundVariants",[{variant:"primary",bp:"mobile",css:i({height:"40px",width:"40px"},"& ".concat(Ky," > svg"),{width:16,height:16})},{variant:"primary",bp:"small",css:i({height:"44px",width:"44px"},"& ".concat(Ky," > svg"),{width:20,height:20})},{isActive:!0,isSponsor:!1,css:i({},"".concat(Ky),{backgroundColor:"$selected",color:"$selectedContrast"})},{isActive:!1,isSponsor:!1,bp:"small",css:(Up={},i(Up,"&:hover:not(:disabled) ".concat(Ky),{backgroundColor:"$hover",border:"1px solid $panel"}),i(Up,"&:focus:not(:disabled) ".concat(Ky),{backgroundColor:"$hover"}),Up)}]),Kp)),Wy=Zh("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100}),Yy=Zh("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,variants:{side:{center:{borderRadius:"$4"},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:"$1",borderBottomRightRadius:"$3",borderBottomLeftRadius:"$1"},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:"$1",borderBottomLeftRadius:"$3",borderBottomRightRadius:"$1"}}}});function Xy(e){var t=e,n=t.size,r=void 0===n?16:n,i=dh(t,["size"]);return E.createElement("svg",uh({width:24,height:24},i),E.createElement("circle",{cx:12,cy:12,r:r/2}))}function $y(){return E.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},E.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:5.026548}))}var Zy="".concat(1.256637," ").concat(5.026548);function Gy(){return E.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},E.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:Zy}))}function qy(){return E.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}function Qy(){return E.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},E.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}function Jy(e){return E.createElement("svg",uh({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M4.32978 8.5081C4.32978 10.1923 5.70009 11.5625 7.38418 11.5625H8.46539C8.64456 11.5625 8.78975 11.4173 8.78975 11.2382V11.13C8.78975 10.9508 8.64457 10.8057 8.46539 10.8057H7.38418C6.11736 10.8057 5.08662 9.77492 5.08662 8.5081C5.08662 7.24128 6.11736 6.21054 7.38418 6.21054H9.37894L8.00515 7.58433C7.8576 7.73183 7.8576 7.97195 8.00515 8.11944C8.14833 8.26251 8.39751 8.2623 8.54036 8.11944L10.56 6.09971C10.6315 6.02824 10.6709 5.93321 10.6709 5.8321C10.6709 5.73106 10.6315 5.63598 10.56 5.56454L8.54025 3.54472C8.3974 3.40176 8.14801 3.40176 8.00513 3.54472C7.85758 3.69218 7.85758 3.93234 8.00513 4.07979L9.37892 5.45368H7.38418C5.70009 5.45368 4.32978 6.82393 4.32978 8.5081Z"}))}function eb(e){return E.createElement("svg",uh({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}function tb(e){return E.createElement("svg",uh({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}function nb(e){return E.createElement("svg",uh({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}function rb(e){return E.createElement("svg",uh({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}function ib(e){return E.createElement("svg",uh({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}function ob(){return E.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),E.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),E.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}function ab(){return E.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.73545 0.0494623C5.93029 -0.0395285 6.15915 -0.00663838 6.32104 0.133622L14.8111 7.48911C14.9804 7.63581 15.0432 7.87091 14.9696 8.08249C14.8959 8.29408 14.7007 8.4394 14.4769 8.44927L11.4564 8.58248L13.2249 12.4682C13.35 12.7431 13.2286 13.0675 12.9537 13.1927L10.9304 14.1145C10.6554 14.2397 10.331 14.1184 10.2057 13.8435L8.43441 9.95846L6.42883 12.0731L7.0482 13.434C7.17335 13.709 7.05195 14.0333 6.77702 14.1586L5.03829 14.9506C4.76335 15.0759 4.43894 14.9546 4.31361 14.6797L2.83886 11.445L1.13458 13.242C0.980476 13.4045 0.742914 13.4566 0.534904 13.3737C0.326893 13.2907 0.19043 13.0894 0.19043 12.8654V3.2218C0.19043 3.0076 0.315424 2.81309 0.510266 2.7241C0.705108 2.63511 0.933961 2.668 1.09586 2.80826L5.41561 6.55076V0.547159C5.41561 0.332956 5.54061 0.138453 5.73545 0.0494623ZM6.74741 10.147L6.50992 10.3974V10.1575V9.0621V8.94669V7.49882V1.74513L13.0561 7.41656L10.5986 7.52495C10.417 7.53296 10.2512 7.63066 10.1562 7.78567C10.1444 7.80505 10.1338 7.825 10.1245 7.84541C10.0596 7.98828 10.0589 8.15342 10.1247 8.2982V8.2982L12.0023 12.4236L10.9745 12.8919L9.09356 8.7663C9.0181 8.60079 8.86531 8.4836 8.68589 8.45361C8.50647 8.42363 8.32389 8.48478 8.19871 8.61676L8.019 8.80624L6.74741 10.147ZM5.41561 9.11037V7.99863L1.28473 4.41977V11.4934L2.60315 10.1033C2.72833 9.97131 2.91091 9.91016 3.09033 9.94014C3.26975 9.97013 3.42254 10.0873 3.498 10.2528L5.08241 13.728L5.82563 13.3895L4.24404 9.91441C4.16873 9.74894 4.18053 9.55687 4.27553 9.40186C4.37052 9.24685 4.53631 9.14915 4.71793 9.14114L5.41561 9.11037Z",fill:"currentColor"}))}function lb(){return E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},E.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}function sb(){return E.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}var ub=["rectangle","ellipse","triangle","line"],cb=(i(Vp={},"rectangle",E.createElement(pd,null)),i(Vp,"ellipse",E.createElement(xc,null)),i(Vp,"triangle",E.createElement(Td,null)),i(Vp,"line",E.createElement(sb,null)),Vp),db=function(e){return e.appState.status},fb=E.memo((function(e){var t=e.activeTool,n=e.isToolLocked,r=my(),i=(r.useStore(db),m(E.useState("rectangle"),2)),o=i[0],a=i[1];E.useEffect((function(){ub.includes(t)&&o!==t&&a(t)}),[t]);var l=E.useCallback((function(){r.selectTool(o)}),[t,r]),s=E.useCallback((function(){r.toggleToolLock()}),[r]),u=E.useCallback((function(e){" "===e.key&&r.shiftKey&&e.preventDefault()}),[]),c=ub.includes(t);return E.createElement(zu,{dir:"ltr",onOpenChange:l},E.createElement(Hu,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},E.createElement(Ny,{disabled:c&&r.shiftKey,variant:"primary",onDoubleClick:s,isToolLocked:c&&n,isActive:c,onKeyDown:u},cb[o])),E.createElement(Fu,{asChild:!0,dir:"ltr",side:"top",sideOffset:12},E.createElement(Yy,{side:"center"},ub.map((function(e,t){return E.createElement(zy,{key:e,label:e[0].toUpperCase()+e.slice(1),kbd:(4+t).toString(),id:"TD-PrimaryTools-Shapes-".concat(e)},E.createElement(Nu,{asChild:!0},E.createElement(Ny,{variant:"primary",onClick:function(){r.selectTool(e),a(e)}},cb[e])))})))))})),pb=function(e){return e.appState.activeTool},hb=function(e){return e.appState.isToolLocked},vb=E.memo((function(){var e=my(),t=e.useStore(pb),n=e.useStore(hb),r=E.useCallback((function(){e.selectTool("select")}),[e]),i=E.useCallback((function(){e.selectTool("erase")}),[e]),o=E.useCallback((function(){e.selectTool("draw")}),[e]),a=E.useCallback((function(){e.selectTool("arrow")}),[e]),l=E.useCallback((function(){e.selectTool("text")}),[e]),s=E.useCallback((function(){e.selectTool("sticky")}),[e]);return E.createElement(Yy,{side:"center",id:"TD-PrimaryTools"},E.createElement(Uy,{kbd:"1",label:"select",onClick:r,isActive:"select"===t,id:"TD-PrimaryTools-CursorArrow"},E.createElement(Tc,null)),E.createElement(Uy,{kbd:"2",label:"draw",onClick:o,isActive:"draw"===t,id:"TD-PrimaryTools-Pencil"},E.createElement(qc,null)),E.createElement(Uy,{kbd:"3",label:"eraser",onClick:i,isActive:"erase"===t,id:"TD-PrimaryTools-Eraser"},E.createElement(ob,null)),E.createElement(fb,{activeTool:t,isToolLocked:n}),E.createElement(Uy,{kbd:"8",label:"arrow",onClick:a,isLocked:n,isActive:"arrow"===t,id:"TD-PrimaryTools-ArrowTopRight"},E.createElement(pc,null)),E.createElement(Uy,{kbd:"9",label:"text",onClick:l,isLocked:n,isActive:"text"===t,id:"TD-PrimaryTools-Text"},E.createElement(bd,null)),E.createElement(Uy,{kbd:"0",label:"sticky",onClick:s,isActive:"sticky"===t,id:"TD-PrimaryTools-Pencil2"},E.createElement(Jc,null)))}));Zh($u,{fill:"$panel",bp:ky});function gb(e){var t=e,n=t.onSelect,r=t.id,i=dh(t,["onSelect","id"]);return E.createElement(Nu,{dir:"ltr",asChild:!0,onSelect:n,id:r},E.createElement(Ty,uh({},i)))}var mb=function(e){return e.preventDefault()};function yb(e){var t=e.checked,n=e.disabled,r=void 0!==n&&n,i=e.variant,o=e.onCheckedChange,a=e.kbd,l=e.id,s=e.children;return E.createElement(Ku,{dir:"ltr",onSelect:mb,onCheckedChange:o,checked:t,disabled:r,asChild:!0,id:l},E.createElement(Ty,{kbd:a,variant:i,hasIndicator:!0},s))}function bb(e){var t=e.sideOffset,n=void 0===t?8:t,r=e.children,i=e.align,o=e.variant,a=e.id;return E.createElement(Fu,{dir:"ltr",align:i,sideOffset:n,onEscapeKeyDown:tg,asChild:!0,id:a},E.createElement(wb,{variant:o},r))}var wb=Zh(Ly,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"75vh",overflowY:"scroll","& *":{boxSizing:"border-box"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),kb=Zh(Xu,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"}),Sb=Zh(Wu,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"$panel"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});function Cb(e){var t=e.children,n=e.size,r=e.disabled,i=void 0!==r&&r,o=e.label,a=e.id;return E.createElement("span",{id:a},E.createElement(zu,{dir:"ltr"},E.createElement(Uu,{dir:"ltr",asChild:!0},E.createElement(Ty,{disabled:i,hasArrow:!0},o)),E.createElement(Fu,{dir:"ltr",asChild:!0,sideOffset:2,alignOffset:-2},E.createElement(Ly,{size:n},t,E.createElement($u,{offset:13})))))}function Eb(e){var t=e,n=t.id,r=t.children,i=dh(t,["id","children"]);return E.createElement(Hu,{asChild:!0,id:n},E.createElement(Ny,uh({},i),r))}var xb=Zh("hr",{height:1,marginTop:"$1",marginRight:"-$2",marginBottom:"$1",marginLeft:"-$2",border:"none",borderBottom:"1px solid $hover"}),Ib=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},Pb=function(e){var t=e.document.pages[e.appState.currentPageId];return e.document.pageStates[e.appState.currentPageId].selectedIds.every((function(e){return t.shapes[e].isLocked}))},_b=function(e){var t=e.document.pages[e.appState.currentPageId];return e.document.pageStates[e.appState.currentPageId].selectedIds.every((function(e){return t.shapes[e].isAspectRatioLocked}))},Mb=function(e){var t=e.document.pages[e.appState.currentPageId],n=e.document.pageStates[e.appState.currentPageId].selectedIds.map((function(e){return t.shapes[e]}));return n.every((function(t){return void 0!==t.children||t.parentId===n[0].parentId&&n[0].parentId!==e.appState.currentPageId}))},Db=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length>0},Tb=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length>1};function Ob(){var e=my(),t=e.useStore(Pb),n=e.useStore(_b),r=e.useStore(Mb),i=e.useStore(Db),o=e.useStore(Tb),a=e.useStore(Ib),l=a>1,s=a>2,u=E.useCallback((function(){e.rotate()}),[e]),c=E.useCallback((function(){e.duplicate()}),[e]),d=E.useCallback((function(){e.toggleLocked()}),[e]),f=E.useCallback((function(){e.toggleAspectRatioLocked()}),[e]),p=E.useCallback((function(){e.group()}),[e]),h=E.useCallback((function(){e.moveToBack()}),[e]),v=E.useCallback((function(){e.moveBackward()}),[e]),g=E.useCallback((function(){e.moveForward()}),[e]),m=E.useCallback((function(){e.moveToFront()}),[e]),y=E.useCallback((function(){e.setShapeProps({rotation:0})}),[e]),b=E.useCallback((function(){e.align("top")}),[e]),w=E.useCallback((function(){e.align("centerVertical")}),[e]),k=E.useCallback((function(){e.align("bottom")}),[e]),S=E.useCallback((function(){e.stretch("vertical")}),[e]),C=E.useCallback((function(){e.distribute("vertical")}),[e]),x=E.useCallback((function(){e.align("left")}),[e]),I=E.useCallback((function(){e.align("centerHorizontal")}),[e]),P=E.useCallback((function(){e.align("right")}),[e]),_=E.useCallback((function(){e.stretch("horizontal")}),[e]),M=E.useCallback((function(){e.distribute("horizontal")}),[e]),D=E.useCallback((function(t){e.setMenuOpen(t)}),[e]);return E.createElement(zu,{dir:"ltr",onOpenChange:D},E.createElement(Hu,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},E.createElement(Ny,{variant:"circle"},E.createElement(Bc,null))),E.createElement(bb,{sideOffset:16},E.createElement(E.Fragment,null,E.createElement(Rb,null,E.createElement(Ny,{variant:"icon",disabled:!i,onClick:c},E.createElement(zy,{label:"Duplicate",kbd:"#D",id:"TD-Tools-Copy"},E.createElement(Mc,null))),E.createElement(Ny,{disabled:!i,onClick:u},E.createElement(zy,{label:"Rotate",id:"TD-Tools-Rotate"},E.createElement(ld,null))),E.createElement(Ny,{disabled:!i,onClick:d},E.createElement(zy,{label:"Toggle Locked",kbd:"#L",id:"TD-Tools-Lock"},t?E.createElement(Wc,null):E.createElement(Xc,null))),E.createElement(Ny,{disabled:!i,onClick:f},E.createElement(zy,{label:"Toggle Aspect Ratio Lock",id:"TD-Tools-AspectRatio"},n?E.createElement(mc,null):E.createElement(bc,null))),E.createElement(Ny,{disabled:!i||!r&&!o,onClick:p},E.createElement(zy,{label:"Group",kbd:"#G",id:"TD-Tools-Group"},E.createElement(Nc,null)))),E.createElement(Rb,null,E.createElement(Ny,{disabled:!i,onClick:h},E.createElement(zy,{label:"Move to Back",kbd:"#\u21e7[",id:"TD-Tools-PinBottom"},E.createElement(td,null))),E.createElement(Ny,{disabled:!i,onClick:v},E.createElement(zy,{label:"Move Backward",kbd:"#[",id:"TD-Tools-ArrowDown"},E.createElement(dc,null))),E.createElement(Ny,{disabled:!i,onClick:g},E.createElement(zy,{label:"Move Forward",kbd:"#]",id:"TD-Tools-ArrowUp"},E.createElement(vc,null))),E.createElement(Ny,{disabled:!i,onClick:m},E.createElement(zy,{label:"Move to Front",kbd:"#\u21e7]",id:"TD-Tools-PinTop"},E.createElement(rd,null))),E.createElement(Ny,{disabled:!i,onClick:y},E.createElement(zy,{label:"Reset Angle",id:"TD-Tools-ResetAngle"},E.createElement(uc,null)))),E.createElement(xb,null),E.createElement(Rb,null,E.createElement(Ny,{disabled:!l,onClick:x,id:"TD-Tools-AlignLeft"},E.createElement(rc,null)),E.createElement(Ny,{disabled:!l,onClick:I,id:"TD-Tools-AlignCenterHorizontal"},E.createElement(Ju,null)),E.createElement(Ny,{disabled:!l,onClick:P,id:"TD-Tools-AlignRight"},E.createElement(oc,null)),E.createElement(Ny,{disabled:!l,onClick:_,id:"TD-Tools-StretchHorizontal"},E.createElement(vd,null)),E.createElement(Ny,{disabled:!s,onClick:M,id:"TD-Tools-SpaceEvenlyHorizontal"},E.createElement(ud,null))),E.createElement(Rb,null,E.createElement(Ny,{disabled:!l,onClick:b,id:"TD-Tools-AlignTop"},E.createElement(lc,null)),E.createElement(Ny,{disabled:!l,onClick:w,id:"TD-Tools-AlignCenterVertical"},E.createElement(tc,null)),E.createElement(Ny,{disabled:!l,onClick:k,id:"TD-Tools-AlignBottom"},E.createElement(qu,null)),E.createElement(Ny,{disabled:!l,onClick:S,id:"TD-Tools-tretchVertical"},E.createElement(md,null)),E.createElement(Ny,{disabled:!s,onClick:C,id:"TD-Tools-SpaceEvenlyVertical"},E.createElement(dd,null))))))}var Rb=Zh("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});function Lb(){var e=my(),t=E.useCallback((function(){e.delete()}),[e]),n=e.useStore((function(e){return"idle"===e.appState.status&&e.document.pageStates[e.appState.currentPageId].selectedIds.length>0}));return E.createElement(zy,{label:"Delete",kbd:"\u232b",id:"TD-Delete"},E.createElement(Ny,{variant:"circle",disabled:!n,onSelect:t},E.createElement(eb,null)))}var Bb=function(e){return e.settings.isDebugMode},Ab=E.memo((function(e){var t=e.onBlur,n=my().useStore(Bb);return E.createElement(jb,{onBlur:t},E.createElement(zb,{id:"TD-Tools"},E.createElement(Ay,null),E.createElement(Fb,null,E.createElement(Ob,null),E.createElement(vb,null),E.createElement(Lb,null))),n&&E.createElement(Hb,null,E.createElement(Ey,null)))})),jb=Zh("div",{position:"absolute",bottom:0,left:0,right:0,width:"100%",minWidth:0,maxWidth:"100%",display:"grid",gridTemplateColumns:"auto auto auto",gridTemplateRows:"auto auto",justifyContent:"space-between",padding:"0",gap:"$4",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"}}),zb=Zh("div",{gridRow:1,gridColumn:2,display:"flex",width:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),Hb=Zh("div",{gridRow:2,gridColumn:"1 / span 3"}),Fb=Zh("div",{position:"relative",display:"flex",alignItems:"center",gap:"$2"}),Nb=function(e){return e.settings};function Ub(){var e=my(),t=e.useStore(Nb),n=E.useCallback((function(){e.setSetting("isDebugMode",(function(e){return!e}))}),[e]),r=E.useCallback((function(){e.setSetting("isDarkMode",(function(e){return!e}))}),[e]),i=E.useCallback((function(){e.setSetting("isFocusMode",(function(e){return!e}))}),[e]),o=E.useCallback((function(){e.setSetting("showRotateHandles",(function(e){return!e}))}),[e]),a=E.useCallback((function(){e.setSetting("showGrid",(function(e){return!e}))}),[e]),l=E.useCallback((function(){e.setSetting("showBindingHandles",(function(e){return!e}))}),[e]),s=E.useCallback((function(){e.setSetting("isSnapping",(function(e){return!e}))}),[e]),u=E.useCallback((function(){e.setSetting("showCloneHandles",(function(e){return!e}))}),[e]),c=E.useCallback((function(){e.setSetting("isCadSelectMode",(function(e){return!e}))}),[e]);return E.createElement(Cb,{label:"Preferences",id:"TD-MenuItem-Preferences"},E.createElement(yb,{checked:t.isDarkMode,onCheckedChange:r,kbd:"#\u21e7D",id:"TD-MenuItem-Preferences-Dark_Mode"},"Dark Mode"),E.createElement(yb,{checked:t.isFocusMode,onCheckedChange:i,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode"},"Focus Mode"),E.createElement(yb,{checked:t.isDebugMode,onCheckedChange:n,id:"TD-MenuItem-Preferences-Debug_Mode"},"Debug Mode"),E.createElement(kb,null),E.createElement(yb,{checked:t.showGrid,onCheckedChange:a,kbd:"#\u21e7G",id:"TD-MenuItem-Preferences-Grid"},"Show Grid"),E.createElement(yb,{checked:t.isCadSelectMode,onCheckedChange:c,id:"TD-MenuItem-Preferences-Cad_Selection"},"Use CAD Selection"),E.createElement(yb,{checked:t.isSnapping,onCheckedChange:s,id:"TD-MenuItem-Preferences-Always_Show_Snaps"},"Always Show Snaps"),E.createElement(yb,{checked:t.showRotateHandles,onCheckedChange:o,id:"TD-MenuItem-Preferences-Rotate_Handles"},"Rotate Handles"),E.createElement(yb,{checked:t.showBindingHandles,onCheckedChange:l,id:"TD-MenuItem-Preferences-Binding_Handles"},"Binding Handles"),E.createElement(yb,{checked:t.showCloneHandles,onCheckedChange:u,id:"TD-MenuItem-Preferences-Clone_Handles"},"Clone Handles"))}function Kb(){return E.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:2,d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}var Vb=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},Wb=function(e){return e.appState.disableAssets},Yb=E.memo((function(e){var t=this,n=e.showSponsorLink,r=e.readOnly,i=my(),o=i.useStore(Vb),a=i.useStore(Wb),l=m(E.useState(0),2),s=(l[0],l[1]);E.useEffect((function(){return s(1)}),[]);var u=wy(),c=u.onNewProject,d=u.onOpenProject,f=u.onSaveProject,p=u.onSaveProjectAs,h=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("png");case 2:case"end":return e.stop()}}),e)})))}),[i]),v=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("jpeg");case 2:case"end":return e.stop()}}),e)})))}),[i]),g=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("webp");case 2:case"end":return e.stop()}}),e)})))}),[i]),y=(E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("pdf");case 2:case"end":return e.stop()}}),e)})))}),[i]),E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("svg");case 2:case"end":return e.stop()}}),e)})))}),[i])),b=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportAllShapesAs("json");case 2:case"end":return e.stop()}}),e)})))}),[i]),w=E.useCallback((function(){var e,t;null==(t=(e=i.callbacks).onSignIn)||t.call(e,i)}),[i]),S=E.useCallback((function(){var e,t;null==(t=(e=i.callbacks).onSignOut)||t.call(e,i)}),[i]),C=E.useCallback((function(){i.cut()}),[i]),x=E.useCallback((function(){i.copy()}),[i]),I=E.useCallback((function(){i.paste()}),[i]),P=E.useCallback((function(){i.copySvg()}),[i]),_=E.useCallback((function(){i.copyJson()}),[i]),M=E.useCallback((function(){i.selectAll()}),[i]),D=E.useCallback((function(){i.selectNone()}),[i]),T=E.useCallback((function(){i.openAsset()}),[i]),O=E.useCallback((function(){i.zoomTo(1)}),[i]),R=i.callbacks.onNewProject||i.callbacks.onOpenProject||i.callbacks.onSaveProject||i.callbacks.onSaveProjectAs||i.callbacks.onExport,L=i.callbacks.onSignIn||i.callbacks.onSignOut||n,B=o>0;return E.createElement(zu,{dir:"ltr"},E.createElement(Eb,{isSponsor:n,id:"TD-MenuIcon"},E.createElement(Kc,null)),E.createElement(bb,{variant:"menu",id:"TD-Menu"},R&&E.createElement(Cb,{label:"File...",id:"TD-MenuItem-File"},i.callbacks.onNewProject&&E.createElement(gb,{onClick:c,kbd:"#N",id:"TD-MenuItem-File-New_Project"},"New Project"),i.callbacks.onOpenProject&&E.createElement(gb,{onClick:d,kbd:"#O",id:"TD-MenuItem-File-Open"},"Open..."),i.callbacks.onSaveProject&&E.createElement(gb,{onClick:f,kbd:"#S",id:"TD-MenuItem-File-Save"},"Save"),i.callbacks.onSaveProjectAs&&E.createElement(gb,{onClick:p,kbd:"#\u21e7S",id:"TD-MenuItem-File-Save_As"},"Save As..."),i.callbacks.onExport&&E.createElement(E.Fragment,null,E.createElement(xb,null),E.createElement(Cb,{label:"Export",size:"small",id:"TD-MenuItem-File-Export"},E.createElement(gb,{onClick:h,id:"TD-MenuItem-File-Export-PNG"},"PNG"),E.createElement(gb,{onClick:v,id:"TD-MenuItem-File-Export-JPG"},"JPG"),E.createElement(gb,{onClick:g,id:"TD-MenuItem-File-Export-WEBP"},"WEBP"),E.createElement(gb,{onClick:y,id:"TD-MenuItem-File-Export-SVG"},"SVG"),E.createElement(gb,{onClick:b,id:"TD-MenuItem-File-Export-JSON"},"JSON"))),!a&&E.createElement(E.Fragment,null,E.createElement(xb,null),E.createElement(gb,{onClick:T,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},"Upload Media"))),!r&&E.createElement(E.Fragment,null,E.createElement(Cb,{label:"Edit...",id:"TD-MenuItem-Edit"},E.createElement(gb,{onSelect:mb,onClick:i.undo,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},"Undo"),E.createElement(gb,{onSelect:mb,onClick:i.redo,kbd:"#\u21e7Z",id:"TD-MenuItem-Edit-Redo"},"Redo"),E.createElement(kb,{dir:"ltr"}),E.createElement(gb,{onSelect:mb,disabled:!B,onClick:C,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},"Cut"),E.createElement(gb,{onSelect:mb,disabled:!B,onClick:x,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},"Copy"),E.createElement(gb,{onSelect:mb,onClick:I,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},"Paste"),E.createElement(kb,{dir:"ltr"}),E.createElement(gb,{onSelect:mb,disabled:!B,onClick:P,kbd:"#\u21e7C",id:"TD-MenuItem-Edit-Copy_as_SVG"},"Copy as SVG"),E.createElement(gb,{onSelect:mb,disabled:!B,onClick:_,id:"TD-MenuItem-Edit-Copy_as_JSON"},"Copy as JSON"),E.createElement(kb,{dir:"ltr"}),E.createElement(gb,{onSelect:mb,onClick:M,kbd:"#A",id:"TD-MenuItem-Select_All"},"Select All"),E.createElement(gb,{onSelect:mb,onClick:D,id:"TD-MenuItem-Select_None"},"Select None"))),E.createElement(Cb,{label:"View",id:"TD-MenuItem-Edit"},E.createElement(gb,{onSelect:mb,onClick:i.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},"Zoom In"),E.createElement(gb,{onSelect:mb,onClick:i.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},"Zoom Out"),E.createElement(gb,{onSelect:mb,onClick:O,kbd:"\u21e7+0",id:"TD-MenuItem-View-ZoomTo100"},"Zoom to 100%"),E.createElement(gb,{onSelect:mb,onClick:i.zoomToFit,kbd:"\u21e7+1",id:"TD-MenuItem-View-ZoomToFit"},"Zoom to Fit"),E.createElement(gb,{onSelect:mb,onClick:i.zoomToSelection,kbd:"\u21e7+2",id:"TD-MenuItem-View-ZoomToSelection"},"Zoom to Selection")),E.createElement(kb,{dir:"ltr"}),E.createElement(Ub,null),E.createElement(kb,{dir:"ltr"}),E.createElement("a",{href:"https://github.com/Tldraw/Tldraw",target:"_blank",rel:"nofollow"},E.createElement(gb,{id:"TD-MenuItem-Github"},"GitHub",E.createElement(Dy,null,E.createElement(Hc,null)))),E.createElement("a",{href:"https://twitter.com/Tldraw",target:"_blank",rel:"nofollow"},E.createElement(gb,{id:"TD-MenuItem-Twitter"},"Twitter",E.createElement(Dy,null,E.createElement(Md,null)))),E.createElement("a",{href:"https://discord.gg/SBBEVCA4PG",target:"_blank",rel:"nofollow"},E.createElement(gb,{id:"TD-MenuItem-Discord"},"Discord",E.createElement(Dy,null,E.createElement(lb,null)))),n&&E.createElement("a",{href:"https://github.com/sponsors/steveruizok",target:"_blank",rel:"nofollow"},E.createElement(gb,{isSponsor:!0,id:"TD-MenuItem-Become_a_Sponsor"},"Become a Sponsor"," ",E.createElement(Dy,null,E.createElement(Kb,null)))),L&&E.createElement(E.Fragment,null,E.createElement(kb,{dir:"ltr"})," ",i.callbacks.onSignIn&&E.createElement(gb,{onSelect:w,id:"TD-MenuItem-Sign_in"},"Sign In"),i.callbacks.onSignOut&&E.createElement(gb,{onSelect:S,id:"TD-MenuItem-Sign_out"},"Sign Out",E.createElement(Dy,null,E.createElement(jc,null))))))})),Xb=Zh("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}}),$b=function(e){return Object.keys(e.document.pages).length>1};function Zb(e){var t=e.page,n=e.onOpen,r=e.onClose,i=my(),o=m(E.useState(!1),2),a=o[0],l=o[1],s=i.useStore($b),u=E.useRef(null),c=E.useCallback((function(){i.duplicatePage(t.id),null==r||r()}),[i]),d=E.useCallback((function(){window.confirm("Are you sure you want to delete this page?")&&(i.deletePage(t.id),null==r||r())}),[i]),f=E.useCallback((function(e){l(e),e&&(null==n||n())}),[i]),p=E.useCallback((function(){return l(!1)}),[]);function h(e){e.stopPropagation()}return E.useEffect((function(){a&&requestAnimationFrame((function(){var e=u.current;e&&(e.focus(),e.select())}))}),[a]),E.createElement(Zf,{open:a,onOpenChange:f},E.createElement(Gf,{asChild:!0,"data-shy":"true"},E.createElement(Xb,{bp:ky},E.createElement(Dy,null,E.createElement(Zc,null)))),E.createElement(qf,null,E.createElement(qb,{onPointerDown:p}),E.createElement(Gb,{dir:"ltr",onKeyDown:h,onKeyUp:h},E.createElement(Qb,{onSelect:function(){var e=window.prompt("New name:",t.name);i.renamePage(t.id,e||t.name||"Page")}},"Rename"),E.createElement(Qb,{onSelect:c},"Duplicate"),E.createElement(Qb,{disabled:!s,onSelect:d},"Delete"),E.createElement(xb,null),E.createElement(tp,{asChild:!0},E.createElement(Ty,null,"Cancel")))))}var Gb=Zh(Jf,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$0",borderRadius:"$2",font:"$ui","&:focus":{outline:"none"}}),qb=Zh(Qf,{backgroundColor:"rgba(0, 0, 0, .15)",position:"fixed",pointerEvents:"all",inset:0});function Qb(e){var t=e,n=t.onSelect,r=dh(t,["onSelect"]);return E.createElement(ep,{asChild:!0,onClick:n,onSelect:n},E.createElement(Ty,uh({},r)))}var Jb=function(e){return Object.values(e.document.pages).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)}))},ew=function(e){return e.document.pages[e.appState.currentPageId].name},tw=function(e){return e.document.pages[e.appState.currentPageId].id};function nw(){var e=my(),t=E.useRef(!1),n=m(E.useState(!1),2),r=n[0],i=n[1];E.useEffect((function(){t.current!==r&&(t.current=r)}),[r]);var o=E.useCallback((function(){i(!1)}),[i]),a=E.useCallback((function(e){t.current!==e&&i(e)}),[i]),l=e.useStore(ew);return E.createElement(zu,{dir:"ltr",open:r,onOpenChange:a},E.createElement(Hu,{dir:"ltr",asChild:!0,id:"TD-Page"},E.createElement(Ny,{variant:"text"},l||"Page")),E.createElement(bb,{variant:"menu",align:"start"},r&&E.createElement(rw,{onClose:o})))}function rw(e){var t=e.onClose,n=my(),r=n.useStore(Jb),i=n.useStore(tw),o=E.useCallback((function(){n.createPage()}),[n]),a=E.useCallback((function(e){t(),n.changePage(e)}),[n]);return E.createElement(E.Fragment,null,E.createElement(Vu,{dir:"ltr",value:i,onValueChange:a},r.map((function(e){return E.createElement(iw,{key:e.id},E.createElement(Wu,{title:e.name||"Page",value:e.id,key:e.id,asChild:!0},E.createElement(ow,null,E.createElement("span",null,e.name||"Page"),E.createElement(Yu,null,E.createElement(Dy,null,E.createElement(kc,null))))),E.createElement(Zb,{page:e,onClose:t}))}))),E.createElement(kb,null),E.createElement(Nu,{onSelect:o,asChild:!0},E.createElement(Ty,null,E.createElement("span",null,"Create Page"),E.createElement(Dy,null,E.createElement(od,null)))))}var iw=Zh("div",{display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1}}),ow=Zh(Ty,{minWidth:128}),aw=function(e){return e.document.pageStates[e.appState.currentPageId].camera.zoom},lw=E.memo((function(){var e=my(),t=e.useStore(aw);return E.createElement(zu,{dir:"ltr"},E.createElement(Hu,{dir:"ltr",asChild:!0,id:"TD-Zoom"},E.createElement(sw,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(100*t),"%")),E.createElement(bb,{align:"end"},E.createElement(gb,{onSelect:mb,onClick:e.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},"Zoom In"),E.createElement(gb,{onSelect:mb,onClick:e.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out"},"Zoom Out"),E.createElement(gb,{onSelect:mb,onClick:e.resetZoom,kbd:"\u21e70",id:"TD-Zoom-Zoom_To_100%"},"To 100%"),E.createElement(gb,{onSelect:mb,onClick:e.zoomToFit,kbd:"\u21e71",id:"TD-Zoom-To_Fit"},"To Fit"),E.createElement(gb,{onSelect:mb,onClick:e.zoomToSelection,kbd:"\u21e72",id:"TD-Zoom-To_Selection"},"To Selection")))})),sw=Zh(Ny,{minWidth:56}),uw=function(e){return e.appState.currentStyle},cw=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds},dw=Object.keys(Kv),fw=(i(Wp={},"draw",E.createElement(qy,null)),i(Wp,"solid",E.createElement(Qy,null)),i(Wp,"dashed",E.createElement($y,null)),i(Wp,"dotted",E.createElement(Gy,null)),Wp),pw=(i(Yp={},"small",E.createElement(nb,null)),i(Yp,"medium",E.createElement(rb,null)),i(Yp,"large",E.createElement(ib,null)),Yp),hw=(i(Xp={},"start",E.createElement(xd,null)),i(Xp,"middle",E.createElement(kd,null)),i(Xp,"end",E.createElement(Pd,null)),i(Xp,"justify",E.createElement(Cd,null)),Xp),vw=function(e){return e.settings.isDarkMode?"dark":"light"},gw=function(e){var t=e.appState,n=t.activeTool,r=t.currentPageId;switch(n){case"select":var i,o=e.document.pages[r],a=!1,l=!1,s=C(e.document.pageStates[r].selectedIds);try{for(s.s();!(i=s.n()).done;){var u=i.value;"text"in o.shapes[u]&&(a=!0),"label"in o.shapes[u]&&(l=!0)}}catch(JI){s.e(JI)}finally{s.f()}return a?"text":l?"label":"";case"text":return"text";case"rectangle":case"ellipse":case"triangle":case"arrow":case"line":return"label"}return!1},mw=E.memo((function(){var e=my(),t=e.useStore(vw),n=e.useStore(gw),r=e.useStore(uw),i=e.useStore(cw),o=m(E.useState(r),2),a=o[0],l=o[1],s=E.useRef(r);E.useEffect((function(){var t=e.appState.currentStyle,n=e.page,r=e.selectedIds,i={};if(r.length<=0)i=t;else{var o=new Set([]);e.selectedIds.map((function(e){return n.shapes[e]})).forEach((function(e){dw.forEach((function(t){if(!o.has(t))if(void 0===i[t])i[t]=e.style[t];else{if(i[t]===e.style[t])return;i[t]=e.style[t],o.add(t)}}))}))}JSON.stringify(i)!==JSON.stringify(s.current)&&(s.current=i,l(i))}),[r,i]);var u=E.useCallback((function(t){e.style({isFilled:t})}),[]),c=E.useCallback((function(t){e.style({dash:t})}),[]),d=E.useCallback((function(t){e.style({size:t})}),[]),f=E.useCallback((function(t){e.style({font:t})}),[]),p=E.useCallback((function(t){e.style({textAlign:t})}),[]),h=E.useCallback((function(t){e.setMenuOpen(t)}),[e]);return E.createElement(zu,{dir:"ltr",onOpenChange:h},E.createElement(Hu,{asChild:!0,id:"TD-Styles"},E.createElement(Ny,{variant:"text"},"Styles",E.createElement(kw,{style:{color:_v[t][a.color]}},a.isFilled&&E.createElement(Xy,{size:16,stroke:"none",fill:Mv[t][a.color]}),fw[a.dash]))),E.createElement(bb,null,E.createElement(bw,{variant:"tall",id:"TD-Styles-Color-Container"},E.createElement("span",null,"Color"),E.createElement(yw,null,Object.keys(_v.light).map((function(t){return E.createElement(Nu,{key:t,onSelect:mb,asChild:!0,id:"TD-Styles-Color-Swatch-".concat(t)},E.createElement(Ny,{variant:"icon",isActive:a.color===t,onClick:function(){return e.style({color:t})}},E.createElement(Xy,{size:18,strokeWidth:2.5,fill:a.isFilled?Mv.light[t]:"transparent",stroke:_v.light[t]})))})))),E.createElement(yb,{variant:"styleMenu",checked:!!a.isFilled,onCheckedChange:u,id:"TD-Styles-Fill"},"Fill"),E.createElement(bw,{id:"TD-Styles-Dash-Container"},"Dash",E.createElement(ww,{dir:"ltr",value:a.dash,onValueChange:c},Object.values(Jh).map((function(e){return E.createElement(Sb,{key:e,isActive:e===a.dash,value:e,onSelect:mb,bp:ky,id:"TD-Styles-Dash-".concat(e)},fw[e])})))),E.createElement(bw,{id:"TD-Styles-Size-Container"},"Size",E.createElement(ww,{dir:"ltr",value:a.size,onValueChange:d},Object.values(Qh).map((function(e){return E.createElement(Sb,{key:e,isActive:e===a.size,value:e,onSelect:mb,bp:ky,id:"TD-Styles-Dash-".concat(e)},pw[e])})))),("text"===n||"label"===n)&&E.createElement(E.Fragment,null,E.createElement(xb,null),E.createElement(bw,{id:"TD-Styles-Font-Container"},"Font",E.createElement(ww,{dir:"ltr",value:a.font,onValueChange:f},Object.values(tv).map((function(e){return E.createElement(Sb,{key:e,isActive:e===a.font,value:e,onSelect:mb,bp:ky,id:"TD-Styles-Font-".concat(e)},E.createElement(Sw,{fontStyle:e},"Aa"))})))),"text"===n&&E.createElement(bw,{id:"TD-Styles-Align-Container"},"Align",E.createElement(ww,{dir:"ltr",value:a.textAlign,onValueChange:p},Object.values(ev).map((function(e){return E.createElement(Sb,{key:e,isActive:e===a.textAlign,value:e,onSelect:mb,bp:ky,id:"TD-Styles-Align-".concat(e)},hw[e])})))))))})),yw=Zh("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),bw=Zh("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),ww=Zh(Ru,{display:"flex",flexDirection:"row",gap:"$1"}),kw=Zh("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),Sw=Zh("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:($p={},i($p,"script",{fontFamily:"Caveat Brush"}),i($p,"sans",{fontFamily:"Recursive"}),i($p,"erif",{fontFamily:"Georgia"}),i($p,"mono",{fontFamily:"Recursive Mono"}),$p)}}),Cw=function(e){return e.room},Ew=E.memo((function(){var e=this,t=my(),n=t.useStore(Cw),r=m(E.useState(!1),2),i=r[0],o=r[1],a=E.useCallback((function(){o(!0),Lm.copyStringToClipboard(window.location.href),setTimeout((function(){return o(!1)}),1200)}),[]),l=E.useCallback((function(){return vh(e,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isDirty){e.next=12;break}if(!t.fileSystemHandle){e.next=7;break}if(!window.confirm("Do you want to save changes to your current project?")){e.next=5;break}return e.next=5,t.saveProject();case 5:e.next=10;break;case 7:if(!window.confirm("Do you want to save your current project?")){e.next=10;break}return e.next=10,t.saveProject();case 10:e.next=16;break;case 12:if(t.fileSystemHandle){e.next=16;break}if(!window.confirm("Do you want to save your current project?")){e.next=16;break}return e.next=16,t.saveProject();case 16:case"end":return e.stop()}}),e)})))}),[]);E.useCallback((function(){return vh(e,null,k().mark((function e(){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}),e.next=3,fetch("http://tldraw.com/api/create-multiplayer-room",{headers:n,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t.document)}).then((function(e){return e.json()}));case 3:r=e.sent,window.location.href="http://tldraw.com/r/".concat(r.roomId);case 5:case"end":return e.stop()}}),e)})))}),[]);return E.createElement(zu,{dir:"ltr"},E.createElement(Eb,{id:"TD-MultiplayerMenuIcon"},n?E.createElement(ab,null):E.createElement(Tc,null)),E.createElement(bb,{variant:"menu",align:"start",id:"TD-MultiplayerMenu"},E.createElement(gb,{id:"TD-Multiplayer-CopyInviteLink",onClick:a,disabled:!n},"Copy Invite Link",E.createElement(Dy,null,i?E.createElement(kc,null):E.createElement(Pc,null))),E.createElement(kb,{id:"TD-Multiplayer-CopyInviteLinkDivider"}),E.createElement(gb,{id:"TD-Multiplayer-CreateMultiplayerRoom",onClick:l},E.createElement("a",{href:"https://tldraw.com/r"},"Create a Multiplayer Project"))))}));function xw(e){var t=e.readOnly,n=e.showPages,r=e.showMenu,i=e.showStyles,o=e.showZoom,a=e.showSponsorLink,l=e.showMultiplayerMenu,s=my();return E.createElement(Iw,null,(r||n)&&E.createElement(Yy,{side:"left",id:"TD-MenuPanel"},r&&E.createElement(Yb,{showSponsorLink:a,readOnly:t}),l&&E.createElement(Ew,null),n&&E.createElement(nw,null)),E.createElement(Pw,null),(i||o)&&E.createElement(Yy,{side:"right"},i&&!t&&E.createElement(mw,null),E.createElement(_w,{bp:ky},E.createElement(Ny,null,E.createElement(tb,{onClick:s.undo})),E.createElement(Ny,null,E.createElement(Jy,{onClick:s.redo}))),o&&E.createElement(lw,null)))}var Iw=Zh("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),Pw=Zh("div",{flexGrow:2,pointerEvents:"none"}),_w=Zh("div",{display:"flex",flexDirection:"row",variants:{bp:{small:{display:"inherit"},large:{display:"none"}}}}),Mw=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},Dw=function(e){return e.settings.isDebugMode},Tw=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.some((function(t){return void 0!==e.document.pages[e.appState.currentPageId].shapes[t].children}))},Ow=function(e){return e.stopPropagation()},Rw=function(e){var t=e.onBlur,n=e.children;return E.createElement(Qp,{dir:"ltr"},E.createElement(Jp,{dir:"ltr"},n),E.createElement(Lw,{onBlur:t}))},Lw=E.memo((function(e){var t=this,n=e.onBlur,r=my(),i=r.useStore(Mw),o=r.useStore(Dw),a=r.useStore(Tw),l=E.useRef(null),s=E.useCallback((function(){r.flipHorizontal()}),[r]),u=E.useCallback((function(){r.flipVertical()}),[r]),c=E.useCallback((function(){r.duplicate()}),[r]),d=E.useCallback((function(){r.toggleLocked()}),[r]),f=E.useCallback((function(){r.group()}),[r]),p=E.useCallback((function(){r.moveToBack()}),[r]),h=E.useCallback((function(){r.moveBackward()}),[r]),v=E.useCallback((function(){r.moveForward()}),[r]),g=E.useCallback((function(){r.moveToFront()}),[r]),m=E.useCallback((function(){r.delete()}),[r]),y=E.useCallback((function(){r.copyJson()}),[r]),b=E.useCallback((function(){r.cut()}),[r]),w=E.useCallback((function(){r.copy()}),[r]),S=E.useCallback((function(){r.paste()}),[r]),C=E.useCallback((function(){r.copySvg()}),[r]),x=E.useCallback((function(){r.undo()}),[r]),I=E.useCallback((function(){r.redo()}),[r]),P=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("png");case 2:case"end":return e.stop()}}),e)})))}),[r]),_=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("jpeg");case 2:case"end":return e.stop()}}),e)})))}),[r]),M=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("webp");case 2:case"end":return e.stop()}}),e)})))}),[r]),D=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("svg");case 2:case"end":return e.stop()}}),e)})))}),[r]),T=E.useCallback((function(){return vh(t,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.exportSelectedShapesAs("json");case 2:case"end":return e.stop()}}),e)})))}),[r]),O=i>0,R=i>1,L=i>2;return E.createElement(eh,{dir:"ltr",ref:l,onEscapeKeyDown:Ow,asChild:!0,tabIndex:-1,onBlur:n},E.createElement(Ly,{id:"TD-ContextMenu"},O?E.createElement(E.Fragment,null,E.createElement(Kw,{onClick:c,kbd:"#D",id:"TD-ContextMenu-Duplicate"},"Duplicate"),E.createElement(Kw,{onClick:s,kbd:"\u21e7H",id:"TD-ContextMenu-Flip_Horizontal"},"Flip Horizontal"),E.createElement(Kw,{onClick:u,kbd:"\u21e7V",id:"TD-ContextMenu-Flip_Vertical"},"Flip Vertical"),E.createElement(Kw,{onClick:d,kbd:"#\u21e7L",id:"TD-ContextMenu- Lock_Unlock"},"Lock / Unlock"),(R||a)&&E.createElement(xb,null),R&&E.createElement(Kw,{onClick:f,kbd:"#G",id:"TD-ContextMenu-Group"},"Group"),a&&E.createElement(Kw,{onClick:f,kbd:"#G",id:"TD-ContextMenu-Ungroup"},"Ungroup"),E.createElement(xb,null),E.createElement(Fw,{label:"Move",id:"TD-ContextMenu-Move"},E.createElement(Kw,{onClick:g,kbd:"\u21e7]",id:"TD-ContextMenu-Move-To_Front"},"To Front"),E.createElement(Kw,{onClick:v,kbd:"]",id:"TD-ContextMenu-Move-Forward"},"Forward"),E.createElement(Kw,{onClick:h,kbd:"[",id:"TD-ContextMenu-Move-Backward"},"Backward"),E.createElement(Kw,{onClick:p,kbd:"\u21e7[",id:"TD-ContextMenu-Move-To_Back"},"To Back")),E.createElement(Hw,null),R&&E.createElement(Bw,{hasTwoOrMore:R,hasThreeOrMore:L}),r.callbacks.onExport?E.createElement(E.Fragment,null,E.createElement(xb,null),E.createElement(Fw,{label:"Export",size:"small",id:"TD-ContextMenu-Export"},E.createElement(Kw,{onClick:P,id:"TD-ContextMenu-Export-PNG"},"PNG"),E.createElement(Kw,{onClick:_,id:"TD-ContextMenu-Export-JPG"},"JPG"),E.createElement(Kw,{onClick:M,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),E.createElement(Kw,{onClick:D,id:"TD-ContextMenu-Export-SVG"},"SVG"),E.createElement(Kw,{onClick:T,id:"TD-ContextMenu-Export-JSON"},"JSON"),E.createElement(xb,null),E.createElement(Kw,{onClick:C,kbd:"#\u21e7C",id:"TD-ContextMenu-Export-Copy_as_SVG"},"Copy as SVG"),o&&E.createElement(Kw,{onClick:y,id:"TD-ContextMenu-Export-Copy_as_JSON"},"Copy as JSON"))):E.createElement(E.Fragment,null,E.createElement(xb,null),E.createElement(Kw,{onClick:C,kbd:"#\u21e7C",id:"TD-ContextMenu-Export-Copy_as_SVG"},"Copy as SVG"),o&&E.createElement(Kw,{onClick:y,id:"TD-ContextMenu-Export-Copy_as_JSON"},"Copy as JSON")),E.createElement(xb,null),E.createElement(Kw,{onClick:b,kbd:"#X",id:"TD-ContextMenu-Cut"},"Cut"),E.createElement(Kw,{onClick:w,kbd:"#C",id:"TD-ContextMenu-Copy"},"Copy"),E.createElement(Kw,{onClick:S,kbd:"#V",id:"TD-ContextMenu-Paste"},"Paste"),E.createElement(xb,null),E.createElement(Kw,{onClick:m,kbd:"\u232b",id:"TD-ContextMenu-Delete"},"Delete")):E.createElement(E.Fragment,null,E.createElement(Kw,{onClick:S,kbd:"#V",id:"TD-ContextMenu-Paste"},"Paste"),E.createElement(Kw,{onClick:x,kbd:"#Z",id:"TD-ContextMenu-Undo"},"Undo"),E.createElement(Kw,{onClick:I,kbd:"#\u21e7Z",id:"TD-ContextMenu-Redo"},"Redo"))))}));function Bw(e){var t=e.hasThreeOrMore,n=my(),r=E.useCallback((function(){n.align("top")}),[n]),i=E.useCallback((function(){n.align("centerVertical")}),[n]),o=E.useCallback((function(){n.align("bottom")}),[n]),a=E.useCallback((function(){n.stretch("vertical")}),[n]),l=E.useCallback((function(){n.distribute("vertical")}),[n]),s=E.useCallback((function(){n.align("left")}),[n]),u=E.useCallback((function(){n.align("centerHorizontal")}),[n]),c=E.useCallback((function(){n.align("right")}),[n]),d=E.useCallback((function(){n.stretch("horizontal")}),[n]),f=E.useCallback((function(){n.distribute("horizontal")}),[n]);return E.createElement("span",{id:"TD-ContextMenu-Align_Duplicate"},E.createElement(Qp,{dir:"ltr"},E.createElement(Vw,{isSubmenu:!0},"Align / Distribute"),E.createElement(eh,{asChild:!0,sideOffset:2,alignOffset:-2},E.createElement(Aw,{numberOfSelected:t?"threeOrMore":"twoOrMore"},E.createElement(Uw,{onClick:s,id:"TD-ContextMenu-Align_Duplicate-AlignLeft"},E.createElement(rc,null)),E.createElement(Uw,{onClick:u,id:"TD-ContextMenu-Align_Duplicate-AlignCenterHorizontal"},E.createElement(Ju,null)),E.createElement(Uw,{onClick:c,id:"TD-ContextMenu-Align_Duplicate-AlignRight"},E.createElement(oc,null)),E.createElement(Uw,{onClick:d,id:"TD-ContextMenu-Align_Duplicate-StretchHorizontal"},E.createElement(vd,null)),t&&E.createElement(Uw,{onClick:f,id:"TD-ContextMenu-Align_Duplicate-SpaceEvenlyHorizontal"},E.createElement(ud,null)),E.createElement(Uw,{onClick:r,id:"TD-ContextMenu-Align_Duplicate-AlignTop"},E.createElement(lc,null)),E.createElement(Uw,{onClick:i,id:"TD-ContextMenu-Align_Duplicate-AlignCenterVertical"},E.createElement(tc,null)),E.createElement(Uw,{onClick:o,id:"TD-ContextMenu-Align_Duplicate-AlignBottom"},E.createElement(qu,null)),E.createElement(Uw,{onClick:a,id:"TD-ContextMenu-Align_Duplicate-StretchVertical"},E.createElement(md,null)),t&&E.createElement(Uw,{onClick:l,id:"TD-ContextMenu-Align_Duplicate-SpaceEvenlyVertical"},E.createElement(dd,null)),E.createElement(Nw,{offset:13})))))}var Aw=Zh(Ly,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),jw=function(e){return e.appState.currentPageId},zw=function(e){return e.document.pages};function Hw(){var e=my(),t=e.useStore(jw),n=e.useStore(zw),r=Object.values(n).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)})).filter((function(e){return e.id!==t}));return 0===r.length?null:E.createElement(Qp,{dir:"ltr"},E.createElement(Vw,{isSubmenu:!0},"Move To Page"),E.createElement(eh,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},E.createElement(Ly,null,r.map((function(n,r){var i=n.id,o=n.name;return E.createElement(Kw,{key:i,disabled:i===t,onClick:function(){return e.moveToPage(i)}},o||"Page ".concat(r))})),E.createElement(Nw,{offset:13}))))}function Fw(e){var t=e.children,n=e.label,r=e.size,i=e.id;return E.createElement("span",{id:i},E.createElement(Qp,{dir:"ltr"},E.createElement(Vw,{isSubmenu:!0},n),E.createElement(eh,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},E.createElement(Ly,{size:r},t,E.createElement(Nw,{offset:13})))))}var Nw=Zh(Sp,{fill:"$panel"});function Uw(e){var t=e,n=t.onSelect,r=dh(t,["onSelect"]);return E.createElement(wp,{dir:"ltr",onSelect:n,asChild:!0},E.createElement(Ny,uh({},r)))}var Kw=function(e){var t=e,n=t.id,r=dh(t,["id"]);return E.createElement(wp,{asChild:!0,id:n},E.createElement(Ty,uh({},r)))},Vw=function(e){var t=e,n=t.isSubmenu,r=dh(t,["isSubmenu"]);return E.createElement(kp,{asChild:!0},E.createElement(Ty,uh({hasArrow:n},r)))};function Ww(e){var t=e.onSelect;return E.createElement(Yw,null,E.createElement(Xb,{onClick:t},E.createElement(Rc,null)))}var Yw=Zh("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}}),Xw=function(e){return e.appState.isLoading};function $w(){var e=my().useStore(Xw);return E.createElement(Zw,{hidden:!e},"Loading...")}var Zw=Zh("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});function Gw(e){var t=e.id,n=e.document,r=e.currentPageId,i=e.autofocus,o=void 0===i||i,a=e.showMenu,l=void 0===a||a,s=e.showMultiplayerMenu,u=void 0===s||s,c=e.showPages,d=void 0===c||c,f=e.showTools,p=void 0===f||f,h=e.showZoom,v=void 0===h||h,g=e.showStyles,y=void 0===g||g,b=e.showUI,w=void 0===b||b,k=e.readOnly,S=void 0!==k&&k,C=e.showSponsorLink,x=void 0!==C&&C,I=e.disableAssets,P=void 0!==I&&I,_=e.onMount,M=e.onChange,D=e.onChangePresence,T=e.onNewProject,O=e.onSaveProject,R=e.onSaveProjectAs,L=e.onOpenProject,B=e.onOpenMedia,A=e.onSignOut,j=e.onSignIn,z=e.onUndo,H=e.onRedo,F=e.onPersist,N=e.onPatch,U=e.onCommand,K=e.onChangePage,V=e.onAssetCreate,W=e.onAssetDelete,Y=e.onExport,X=m(E.useState(t),2),$=X[0],Z=X[1],G=m(E.useState((function(){return new vy(t,{onMount:_,onChange:M,onChangePresence:D,onNewProject:T,onSaveProject:O,onSaveProjectAs:R,onOpenProject:L,onOpenMedia:B,onSignOut:A,onSignIn:j,onUndo:z,onRedo:H,onPersist:F,onPatch:N,onCommand:U,onChangePage:K,onAssetDelete:W,onAssetCreate:V})})),2),q=G[0],Q=G[1];return E.useLayoutEffect((function(){if(t!==$){var e=new vy(t,{onMount:_,onChange:M,onChangePresence:D,onNewProject:T,onSaveProject:O,onSaveProjectAs:R,onOpenProject:L,onOpenMedia:B,onSignOut:A,onSignIn:j,onUndo:z,onRedo:H,onPersist:F,onPatch:N,onCommand:U,onChangePage:K,onAssetDelete:W,onAssetCreate:V,onExport:Y});Z(t),Q(e)}}),[$,t]),E.useEffect((function(){n&&(n.id===q.document.id?q.updateDocument(n):q.loadDocument(n))}),[n,q]),E.useEffect((function(){q.setDisableAssets(P)}),[q,P]),E.useEffect((function(){r&&q.changePage(r)}),[r,q]),E.useEffect((function(){q.readOnly=S}),[q,S]),E.useEffect((function(){q.callbacks={onMount:_,onChange:M,onChangePresence:D,onNewProject:T,onSaveProject:O,onSaveProjectAs:R,onOpenProject:L,onOpenMedia:B,onSignOut:A,onSignIn:j,onUndo:z,onRedo:H,onPersist:F,onPatch:N,onCommand:U,onChangePage:K,onAssetDelete:W,onAssetCreate:V,onExport:Y}}),[_,M,D,T,O,R,L,B,A,j,z,H,F,N,U,K,W,V,Y]),E.useLayoutEffect((function(){var e;if("undefined"!==typeof window&&(null==(e=window.document)?void 0:e.fonts))return window.document.fonts.addEventListener("loadingdone",t),function(){window.document.fonts.removeEventListener("loadingdone",t)};function t(){q.refreshBoundingBoxes()}}),[q]),E.createElement(gy.Provider,{value:q},E.createElement(qw,{key:$||"Tldraw",id:$,autofocus:o,showPages:d,showMenu:l,showMultiplayerMenu:u,showStyles:y,showZoom:v,showTools:p,showUI:w,showSponsorLink:x,readOnly:S}))}var qw=E.memo((function(e){var t,n,r=e.id,i=e.autofocus,o=e.showPages,a=e.showMenu,l=e.showMultiplayerMenu,s=e.showZoom,u=e.showStyles,c=e.showTools,d=e.showSponsorLink,f=e.readOnly,p=e.showUI,h=my(),v=E.useRef(null),g=h.useStore(),m=g.document,y=g.settings,b=g.appState,w=g.room,k="select"===g.appState.activeTool,S=m.pages[b.currentPageId],C=m.pageStates[S.id],x=m.assets,I=C.selectedIds,P=1===I.length&&S.shapes[I[0]]&&Lm.getShapeUtil(S.shapes[I[0]].type).hideBounds,_=1===I.length&&S.shapes[I[0]]&&Lm.getShapeUtil(S.shapes[I[0]].type).hideResizeHandles,M=E.useMemo((function(){return{isDarkMode:y.isDarkMode}}),[y.isDarkMode]),D=y.isCadSelectMode?!b.selectByContain:b.selectByContain,T=E.useMemo((function(){var e=b.selectByContain,t=y.isDarkMode,n=y.isCadSelectMode;if(t){var r=n?e?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:"rgba(".concat(r,", ").concat(n?.08:.05,")"),brushStroke:"rgba(".concat(r,", ").concat(n?.5:.25,")"),brushDashStroke:"rgba(".concat(r,", .6)"),selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}var i=n?e?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:"rgba(".concat(i,", ").concat(n?.08:.05,")"),brushStroke:"rgba(".concat(i,", ").concat(n?.4:.25,")"),brushDashStroke:"rgba(".concat(i,", .6)")}}),[y.isDarkMode,y.isCadSelectMode,b.selectByContain]),O=void 0!==h.session,R=O&&"BrushSession"!==(null==(t=h.session)?void 0:t.constructor.name)||!k||P||!!C.editingId,L=O||!k,B=O&&"brushing"!==g.appState.status||!k,A=O||!k||!y.showCloneHandles||C.camera.zoom<.2;return E.createElement(Jw,{ref:v,tabIndex:-0,className:y.isDarkMode?Gh:""},E.createElement($w,null),E.createElement(Qw,{focusableRef:v,autofocus:i}),E.createElement(Rw,null,E.createElement(wr,{id:r,containerRef:v,shapeUtils:Tm,page:S,pageState:C,assets:x,snapLines:b.snapLines,grid:8,users:null==w?void 0:w.users,userId:null==w?void 0:w.userId,theme:T,meta:M,hideBounds:R,hideHandles:L,hideResizeHandles:_,hideIndicators:B,hideBindingHandles:!y.showBindingHandles,hideCloneHandles:A,hideRotateHandles:!y.showRotateHandles,hideGrid:!y.showGrid,showDashedBrush:D,performanceMode:null==(n=h.session)?void 0:n.performanceMode,onPinchStart:h.onPinchStart,onPinchEnd:h.onPinchEnd,onPinch:h.onPinch,onPan:h.onPan,onZoom:h.onZoom,onPointerDown:h.onPointerDown,onPointerMove:h.onPointerMove,onPointerUp:h.onPointerUp,onPointCanvas:h.onPointCanvas,onDoubleClickCanvas:h.onDoubleClickCanvas,onRightPointCanvas:h.onRightPointCanvas,onDragCanvas:h.onDragCanvas,onReleaseCanvas:h.onReleaseCanvas,onPointShape:h.onPointShape,onDoubleClickShape:h.onDoubleClickShape,onRightPointShape:h.onRightPointShape,onDragShape:h.onDragShape,onHoverShape:h.onHoverShape,onUnhoverShape:h.onUnhoverShape,onReleaseShape:h.onReleaseShape,onPointBounds:h.onPointBounds,onDoubleClickBounds:h.onDoubleClickBounds,onRightPointBounds:h.onRightPointBounds,onDragBounds:h.onDragBounds,onHoverBounds:h.onHoverBounds,onUnhoverBounds:h.onUnhoverBounds,onReleaseBounds:h.onReleaseBounds,onPointBoundsHandle:h.onPointBoundsHandle,onDoubleClickBoundsHandle:h.onDoubleClickBoundsHandle,onRightPointBoundsHandle:h.onRightPointBoundsHandle,onDragBoundsHandle:h.onDragBoundsHandle,onHoverBoundsHandle:h.onHoverBoundsHandle,onUnhoverBoundsHandle:h.onUnhoverBoundsHandle,onReleaseBoundsHandle:h.onReleaseBoundsHandle,onPointHandle:h.onPointHandle,onDoubleClickHandle:h.onDoubleClickHandle,onRightPointHandle:h.onRightPointHandle,onDragHandle:h.onDragHandle,onHoverHandle:h.onHoverHandle,onUnhoverHandle:h.onUnhoverHandle,onReleaseHandle:h.onReleaseHandle,onError:h.onError,onRenderCountChange:h.onRenderCountChange,onShapeChange:h.onShapeChange,onShapeBlur:h.onShapeBlur,onShapeClone:h.onShapeClone,onBoundsChange:h.updateBounds,onKeyDown:h.onKeyDown,onKeyUp:h.onKeyUp,onDragOver:h.onDragOver,onDrop:h.onDrop})),p&&E.createElement(ek,null,y.isFocusMode?E.createElement(Ww,{onSelect:h.toggleFocusMode}):E.createElement(E.Fragment,null,E.createElement(xw,{readOnly:f,showPages:o,showMenu:a,showMultiplayerMenu:l,showStyles:u,showZoom:s,showSponsorLink:d}),E.createElement(tk,null),c&&!f&&E.createElement(Ab,null))))})),Qw=E.memo((function(e){var t=e.focusableRef,n=e.autofocus;return function(e){var t=my(),n=E.useCallback((function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.current;return!(!n||!t.isMenuOpen)||r&&(document.activeElement===r||r.contains(document.activeElement))}),[e]);ro("v,1",(function(){n(!0)&&t.selectTool("select")}),[t,e.current]),ro("d,p,2",(function(){n(!0)&&t.selectTool("draw")}),void 0,[t]),ro("e,3",(function(){n(!0)&&t.selectTool("erase")}),void 0,[t]),ro("r,4",(function(){n(!0)&&t.selectTool("rectangle")}),void 0,[t]),ro("o,5",(function(){n(!0)&&t.selectTool("ellipse")}),void 0,[t]),ro("g,6",(function(){n()&&t.selectTool("triangle")}),void 0,[t]),ro("l,7",(function(){n(!0)&&t.selectTool("line")}),void 0,[t]),ro("a,8",(function(){n(!0)&&t.selectTool("arrow")}),void 0,[t]),ro("t,9",(function(){n(!0)&&t.selectTool("text")}),void 0,[t]),ro("s,0",(function(){n(!0)&&t.selectTool("sticky")}),void 0,[t]),ro("ctrl+shift+d,\u2318+shift+d",(function(e){n(!0)&&(t.toggleDarkMode(),e.preventDefault())}),void 0,[t]),ro("ctrl+.,\u2318+.",(function(){n(!0)&&t.toggleFocusMode()}),void 0,[t]),ro("ctrl+shift+g,\u2318+shift+g",(function(){n(!0)&&t.toggleGrid()}),void 0,[t]);var r=wy(),i=r.onNewProject,o=r.onOpenProject,a=r.onSaveProject,l=r.onSaveProjectAs,s=r.onOpenMedia;ro("ctrl+n,\u2318+n",(function(e){n()&&i(e)}),void 0,[t]),ro("ctrl+s,\u2318+s",(function(e){n()&&a(e)}),void 0,[t]),ro("ctrl+shift+s,\u2318+shift+s",(function(e){n()&&l(e)}),void 0,[t]),ro("ctrl+o,\u2318+o",(function(e){n()&&o(e)}),void 0,[t]),ro("ctrl+u,\u2318+u",(function(e){n()&&s(e)}),void 0,[t]),ro("\u2318+z,ctrl+z",(function(){n(!0)&&(t.session?t.cancelSession():t.undo())}),void 0,[t]),ro("ctrl+shift+z,\u2318+shift+z",(function(){n(!0)&&(t.session?t.cancelSession():t.redo())}),void 0,[t]),ro("\u2318+u,ctrl+u",(function(){n()&&t.undoSelect()}),void 0,[t]),ro("ctrl+shift-u,\u2318+shift+u",(function(){n()&&t.redoSelect()}),void 0,[t]),ro("ctrl+=,\u2318+=,ctrl+num_subtract,\u2318+num_subtract",(function(e){n(!0)&&(t.zoomIn(),e.preventDefault())}),void 0,[t]),ro("ctrl+-,\u2318+-,ctrl+num_add,\u2318+num_add",(function(e){n(!0)&&(t.zoomOut(),e.preventDefault())}),void 0,[t]),ro("shift+0,ctrl+numpad_0,\u2318+numpad_0",(function(){n(!0)&&t.resetZoom()}),void 0,[t]),ro("shift+1",(function(){n(!0)&&t.zoomToFit()}),void 0,[t]),ro("shift+2",(function(){n(!0)&&t.zoomToSelection()}),void 0,[t]),ro("ctrl+d,\u2318+d",(function(e){n()&&(t.duplicate(),e.preventDefault())}),void 0,[t]),ro("shift+h",(function(){n(!0)&&t.flipHorizontal()}),void 0,[t]),ro("shift+v",(function(){n(!0)&&t.flipVertical()}),void 0,[t]),ro("escape",(function(){n(!0)&&t.cancel()}),void 0,[t]),ro("backspace,del",(function(){n()&&t.delete()}),void 0,[t]),ro("\u2318+a,ctrl+a",(function(){n(!0)&&t.selectAll()}),void 0,[t]),ro("up",(function(){n()&&t.nudge([0,-1],!1)}),void 0,[t]),ro("right",(function(){n()&&t.nudge([1,0],!1)}),void 0,[t]),ro("down",(function(){n()&&t.nudge([0,1],!1)}),void 0,[t]),ro("left",(function(){n()&&t.nudge([-1,0],!1)}),void 0,[t]),ro("shift+up",(function(){n()&&t.nudge([0,-1],!0)}),void 0,[t]),ro("shift+right",(function(){n()&&t.nudge([1,0],!0)}),void 0,[t]),ro("shift+down",(function(){n()&&t.nudge([0,1],!0)}),void 0,[t]),ro("shift+left",(function(){n()&&t.nudge([-1,0],!0)}),void 0,[t]),ro("\u2318+shift+l,ctrl+shift+l",(function(){n()&&t.toggleLocked()}),void 0,[t]),ro("\u2318+c,ctrl+c",(function(){n()&&t.copy()}),void 0,[t]),ro("\u2318+shift+c,ctrl+shift+c",(function(e){n()&&(t.copySvg(),e.preventDefault())}),void 0,[t]),ro("\u2318+x,ctrl+x",(function(){n()&&t.cut()}),void 0,[t]),ro("\u2318+v,ctrl+v",(function(){n()&&t.paste()}),void 0,[t]),ro("\u2318+g,ctrl+g",(function(e){n()&&(t.group(),e.preventDefault())}),void 0,[t]),ro("\u2318+shift+g,ctrl+shift+g",(function(e){n()&&(t.ungroup(),e.preventDefault())}),void 0,[t]),ro("[",(function(){n(!0)&&t.moveBackward()}),void 0,[t]),ro("]",(function(){n(!0)&&t.moveForward()}),void 0,[t]),ro("shift+[",(function(){n(!0)&&t.moveToBack()}),void 0,[t]),ro("shift+]",(function(){n(!0)&&t.moveToFront()}),void 0,[t]),ro("ctrl+shift+backspace,\u2318+shift+backspace",(function(e){n()&&(t.settings.isDebugMode&&t.resetDocument(),e.preventDefault())}),void 0,[t]),ro("alt+command+l,alt+ctrl+l",(function(e){n(!0)&&(t.style({textAlign:"start"}),e.preventDefault())}),void 0,[t]),ro("alt+command+t,alt+ctrl+t",(function(e){n(!0)&&(t.style({textAlign:"middle"}),e.preventDefault())}),void 0,[t]),ro("alt+command+r,alt+ctrl+r",(function(e){n(!0)&&(t.style({textAlign:"end"}),e.preventDefault())}),void 0,[t])}(t),E.useLayoutEffect((function(){if(!yy.get(by)){var e=document.createElement("style");return e.innerHTML="@import url('".concat("https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block","');"),e.setAttribute("id",by),document.head.appendChild(e),yy.set(by,e),function(){e&&document.head.contains(e)&&(document.head.removeChild(e),yy.delete(by))}}}),[by,"\n@import url('');\n"]),E.useEffect((function(){var e;n&&(null==(e=t.current)||e.focus())}),[n]),null})),Jw=Zh("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),ek=Zh("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),tk=Zh("div",{flexGrow:2}),nk=n(327);var rk=function(){return new Map},ik=function(e){var t=rk();return e.forEach((function(e,n){t.set(n,e)})),t},ok=function(e,t,n){var r=e.get(t);return void 0===r&&e.set(t,r=n()),r},ak=function(){return new Set},lk=function(e){return e[e.length-1]},sk=function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])},uk=Array.from,ck=Array.isArray,dk=function(){function e(){w(this,e),this._observers=rk()}return b(e,[{key:"on",value:function(e,t){ok(this._observers,e,ak).add(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"off",value:function(e,t){var n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}},{key:"emit",value:function(e,t){return uk((this._observers.get(e)||rk()).values()).forEach((function(e){return e.apply(void 0,S(t))}))}},{key:"destroy",value:function(){this._observers=rk()}}]),e}(),fk=Math.floor,pk=(Math.ceil,Math.abs),hk=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,function(e,t){return e<t?e:t}),vk=function(e,t){return e>t?e:t},gk=(Number.isNaN,Math.pow),mk=(Math.sign,function(e){return 0!==e?e<0:1/e<0}),yk=String.fromCharCode,bk=(String.fromCodePoint,yk(65535),/^\s*/g),wk=/([A-Z])/g,kk=function(e,t){return function(e){return e.replace(bk,"")}(e.replace(wk,(function(e){return"".concat(t).concat(function(e){return e.toLowerCase()}(e))})))},Sk="undefined"!==typeof TextEncoder?new TextEncoder:null,Ck=Sk?function(e){return Sk.encode(e)}:function(e){for(var t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.codePointAt(i);return r},Ek="undefined"===typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Ek&&1===Ek.decode(new Uint8Array).length&&(Ek=null);var xk=function(e){return void 0===e?null:e},Ik=new(function(){function e(){w(this,e),this.map=new Map}return b(e,[{key:"setItem",value:function(e,t){this.map.set(e,t)}},{key:"getItem",value:function(e){return this.map.get(e)}}]),e}()),Pk=!0;try{"undefined"!==typeof localStorage&&(Ik=localStorage,Pk=!1)}catch(eP){}var _k,Mk,Dk,Tk=Ik,Ok=Object.assign,Rk=Object.keys,Lk=function(e){return Rk(e).length},Bk=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ak=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(;r<t.length;r++)t[r].apply(t,S(n))}finally{r<t.length&&e(t,n,r+1)}},jk=function(e){return e},zk=function e(t,n){if(null==t||null==n)return function(e,t){return e===t}(t,n);if(t.constructor!==n.constructor)return!1;if(t===n)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),n=new Uint8Array(n);case Uint8Array:if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;break;case Set:if(t.size!==n.size)return!1;var i,o=C(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!n.has(a))return!1}}catch(JI){o.e(JI)}finally{o.f()}break;case Map:if(t.size!==n.size)return!1;var l,s=C(t.keys());try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!n.has(u)||!e(t.get(u),n.get(u)))return!1}}catch(JI){s.e(JI)}finally{s.f()}break;case Object:if(Lk(t)!==Lk(n))return!1;for(var c in t)if(!Bk(t,c)||!e(t[c],n[c]))return!1;break;case Array:if(t.length!==n.length)return!1;for(var d=0;d<t.length;d++)if(!e(t[d],n[d]))return!1;break;default:return!1}return!0},Hk="undefined"!==typeof process&&process.release&&/node|io\.js/.test(process.release.name),Fk="undefined"!==typeof window&&"undefined"!==typeof document&&!Hk,Nk=("undefined"!==typeof navigator&&/Mac/.test(navigator.platform),[]),Uk=function(){if(void 0===_k)if(Hk){_k=rk();for(var e=process.argv,t=null,n=0;n<e.length;n++){var r=e[n];"-"===r[0]?(null!==t&&_k.set(t,""),t=r):null!==t?(_k.set(t,r),t=null):Nk.push(r)}null!==t&&_k.set(t,"")}else"object"===typeof location?(_k=rk(),(location.search||"?").slice(1).split("&").forEach((function(e){if(0!==e.length){var t=m(e.split("="),2),n=t[0],r=t[1];_k.set("--".concat(kk(n,"-")),r),_k.set("-".concat(kk(n,"-")),r)}}))):_k=rk();return _k},Kk=function(e){return Uk().has(e)},Vk=function(e){return xk(Hk?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e.toUpperCase()]:Tk.getItem(e))},Wk=(Mk="production",Kk("--"+Mk)||Vk(Mk),Hk&&function(e,t){return t.includes(e)}({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FORCE_COLOR,["true","1","2"])),Yk=!Kk("no-colors")&&(!Hk||process.stdout.isTTY||Wk)&&(!Hk||Kk("color")||Wk||null!==Vk("COLORTERM")||(Vk("TERM")||"").includes("color")),Xk=function(e){return new Uint8Array(e)},$k=function(e,t,n){return new Uint8Array(e,t,n)},Zk=Fk?function(e){for(var t="",n=0;n<e.byteLength;n++)t+=yk(e[n]);return btoa(t)}:function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")},Gk=Fk?function(e){for(var t=atob(e),n=Xk(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}:function(e){var t=Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},qk=64,Qk=128,Jk=127,eS=2147483647,tS=Number.MAX_SAFE_INTEGER,nS=(Number.MIN_SAFE_INTEGER,Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&fk(e)===e}),rS=(Number.isNaN,Number.parseInt,b((function e(){w(this,e),this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}))),iS=function(){return new rS},oS=function(e){for(var t=e.cpos,n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},aS=function(e){for(var t=new Uint8Array(oS(e)),n=0,r=0;r<e.bufs.length;r++){var i=e.bufs[r];t.set(i,n),n+=i.length}return t.set($k(e.cbuf.buffer,0,e.cpos),n),t},lS=function(e,t){var n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},sS=lS,uS=function(e,t){for(;t>Jk;)lS(e,Qk|Jk&t),t=fk(t/128);lS(e,Jk&t)},cS=function(e,t){var n=mk(t);for(n&&(t=-t),lS(e,(t>63?Qk:0)|(n?qk:0)|63&t),t=fk(t/64);t>0;)lS(e,(t>Jk?Qk:0)|Jk&t),t=fk(t/128)},dS=new Uint8Array(3e4),fS=dS.length/3,pS=Sk&&Sk.encodeInto?function(e,t){if(t.length<fS){var n=Sk.encodeInto(t,dS).written||0;uS(e,n);for(var r=0;r<n;r++)lS(e,dS[r])}else vS(e,Ck(t))}:function(e,t){var n=unescape(encodeURIComponent(t)),r=n.length;uS(e,r);for(var i=0;i<r;i++)lS(e,n.codePointAt(i))},hS=function(e,t){var n=e.cbuf.length,r=e.cpos,i=hk(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(vk(2*n,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},vS=function(e,t){uS(e,t.byteLength),hS(e,t)},gS=function(e,t){!function(e,t){var n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push($k(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*vk(n,t)),e.cpos=0)}(e,t);var n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},mS=new DataView(new ArrayBuffer(4)),yS=function e(t,n){switch(typeof n){case"string":lS(t,119),pS(t,n);break;case"number":nS(n)&&pk(n)<=eS?(lS(t,125),cS(t,n)):(l=n,mS.setFloat32(0,l),mS.getFloat32(0)===l?(lS(t,124),function(e,t){gS(e,4).setFloat32(0,t,!1)}(t,n)):(lS(t,123),function(e,t){gS(e,8).setFloat64(0,t,!1)}(t,n)));break;case"bigint":lS(t,122),function(e,t){gS(e,8).setBigInt64(0,t,!1)}(t,n);break;case"object":if(null===n)lS(t,126);else if(ck(n)){lS(t,117),uS(t,n.length);for(var r=0;r<n.length;r++)e(t,n[r])}else if(n instanceof Uint8Array)lS(t,116),vS(t,n);else{lS(t,118);var i=Object.keys(n);uS(t,i.length);for(var o=0;o<i.length;o++){var a=i[o];pS(t,a),e(t,n[a])}}break;case"boolean":lS(t,n?120:121);break;default:lS(t,127)}var l},bS=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this)).w=e,r.s=null,r.count=0,r}return b(n,[{key:"write",value:function(e){this.s===e?this.count++:(this.count>0&&uS(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}]),n}(rS),wS=function(e){e.count>0&&(cS(e.encoder,1===e.count?e.s:-e.s),e.count>1&&uS(e.encoder,e.count-2))},kS=function(){function e(){w(this,e),this.encoder=new rS,this.s=0,this.count=0}return b(e,[{key:"write",value:function(e){this.s===e?this.count++:(wS(this),this.count=1,this.s=e)}},{key:"toUint8Array",value:function(){return wS(this),aS(this.encoder)}}]),e}(),SS=function(e){if(e.count>0){var t=2*e.diff+(1===e.count?0:1);cS(e.encoder,t),e.count>1&&uS(e.encoder,e.count-2)}},CS=function(){function e(){w(this,e),this.encoder=new rS,this.s=0,this.count=0,this.diff=0}return b(e,[{key:"write",value:function(e){this.diff===e-this.s?(this.s=e,this.count++):(SS(this),this.count=1,this.diff=e-this.s,this.s=e)}},{key:"toUint8Array",value:function(){return SS(this),aS(this.encoder)}}]),e}(),ES=function(){function e(){w(this,e),this.sarr=[],this.s="",this.lensE=new kS}return b(e,[{key:"write",value:function(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}},{key:"toUint8Array",value:function(){var e=new rS;return this.sarr.push(this.s),this.s="",pS(e,this.sarr.join("")),hS(e,this.lensE.toUint8Array()),aS(e)}}]),e}(),xS=function(e){return new Error(e)},IS=function(){throw xS("Method unimplemented")},PS=function(){throw xS("Unexpected case")},_S=xS("Unexpected end of array"),MS=xS("Integer out of Range"),DS=b((function e(t){w(this,e),this.arr=t,this.pos=0})),TS=function(e){return new DS(e)},OS=function(e){return e.pos!==e.arr.length},RS=function(e,t){var n=$k(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},LS=function(e){return RS(e,AS(e))},BS=function(e){return e.arr[e.pos++]},AS=function(e){for(var t=0,n=1,r=e.arr.length;e.pos<r;){var i=e.arr[e.pos++];if(t+=(i&Jk)*n,n*=128,i<Qk)return t;if(t>tS)throw MS}throw _S},jS=function(e){var t=e.arr[e.pos++],n=63&t,r=64,i=(t&qk)>0?-1:1;if(0===(t&Qk))return i*n;for(var o=e.arr.length;e.pos<o;){if(n+=((t=e.arr[e.pos++])&Jk)*r,r*=128,t<Qk)return i*n;if(n>tS)throw MS}throw _S},zS=Ek?function(e){return Ek.decode(LS(e))}:function(e){var t=AS(e);if(0===t)return"";var n=String.fromCodePoint(BS(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(BS(e));else for(;t>0;){var r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))},HS=function(e,t){var n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},FS=[function(e){},function(e){return null},jS,function(e){return HS(e,4).getFloat32(0,!1)},function(e){return HS(e,8).getFloat64(0,!1)},function(e){return HS(e,8).getBigInt64(0,!1)},function(e){return!1},function(e){return!0},zS,function(e){for(var t=AS(e),n={},r=0;r<t;r++){n[zS(e)]=NS(e)}return n},function(e){for(var t=AS(e),n=[],r=0;r<t;r++)n.push(NS(e));return n},LS],NS=function(e){return FS[127-BS(e)](e)},US=function(e){f(n,e);var t=h(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).reader=r,i.s=null,i.count=0,i}return b(n,[{key:"read",value:function(){return 0===this.count&&(this.s=this.reader(this),OS(this)?this.count=AS(this)+1:this.count=-1),this.count--,this.s}}]),n}(DS),KS=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).s=0,r.count=0,r}return b(n,[{key:"read",value:function(){if(0===this.count){this.s=jS(this);var e=mk(this.s);this.count=1,e&&(this.s=-this.s,this.count=AS(this)+2)}return this.count--,this.s}}]),n}(DS),VS=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).s=0,r.count=0,r.diff=0,r}return b(n,[{key:"read",value:function(){if(0===this.count){var e=jS(this),t=1&e;this.diff=fk(e/2),this.count=1,t&&(this.count=AS(this)+2)}return this.s+=this.diff,this.count--,this.s}}]),n}(DS),WS=function(){function e(t){w(this,e),this.decoder=new KS(t),this.str=zS(this.decoder),this.spos=0}return b(e,[{key:"read",value:function(){var e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}]),e}(),YS=(crypto.subtle,crypto.getRandomValues.bind(crypto)),XS=(Math.random,function(){return YS(new Uint32Array(1))[0]}),$S=[1e7]+-1e3+-4e3+-8e3+-1e11,ZS=function(e){return new Promise(e)},GS=(Promise.all.bind(Promise),b((function e(t,n){w(this,e),this.left=t,this.right=n}))),qS=function(e,t){return new GS(e,t)},QS="undefined"!==typeof document?document:{},JS=("undefined"!==typeof DOMParser&&new DOMParser,function(e){return function(e,t){var n,r=[],i=C(e);try{for(i.s();!(n=i.n()).done;){var o=m(n.value,2),a=o[0],l=o[1];r.push(t(l,a))}}catch(JI){i.e(JI)}finally{i.f()}return r}(e,(function(e,t){return"".concat(t,":").concat(e,";")})).join("")}),eC=(QS.ELEMENT_NODE,QS.TEXT_NODE,QS.CDATA_SECTION_NODE,QS.COMMENT_NODE,QS.DOCUMENT_NODE,QS.DOCUMENT_TYPE_NODE,QS.DOCUMENT_FRAGMENT_NODE,Symbol),tC=Date.now,nC=eC(),rC=eC(),iC=eC(),oC=eC(),aC=eC(),lC=eC(),sC=eC(),uC=eC(),cC=eC(),dC=(tC(),i(Dk={},nC,qS("font-weight","bold")),i(Dk,rC,qS("font-weight","normal")),i(Dk,iC,qS("color","blue")),i(Dk,aC,qS("color","green")),i(Dk,oC,qS("color","grey")),i(Dk,lC,qS("color","red")),i(Dk,sC,qS("color","purple")),i(Dk,uC,qS("color","orange")),i(Dk,cC,qS("color","black")),Dk),fC=Yk?function(e){for(var t=[],n=[],r=rk(),i=[],o=0;o<e.length;o++){var a=e[o],l=dC[a];if(void 0!==l)r.set(l.left,l.right);else{if(a.constructor!==String&&a.constructor!==Number)break;var s=JS(r);o>0||s.length>0?(t.push("%c"+a),n.push(s)):t.push(a)}}for(o>0&&(i=n).unshift(t.join(""));o<e.length;o++){var u=e[o];u instanceof Symbol||i.push(u)}return i}:function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&n.push(JSON.stringify(i))}return n},pC=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,S(fC(n))),hC.forEach((function(e){return e.print(n)}))},hC=ak(),vC=function(e){var t;return i(t={},Symbol.iterator,(function(){return this})),i(t,"next",e),t},gC=function(e,t){return vC((function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t(i)}}))},mC=k().mark(DE),yC=b((function e(t,n){w(this,e),this.clock=t,this.len=n})),bC=b((function e(){w(this,e),this.clients=new Map})),wC=function(e,t,n){return t.clients.forEach((function(t,r){for(var i=e.doc.store.clients.get(r),o=0;o<t.length;o++){var a=t[o];mE(e,i,a.clock,a.len,n)}}))},kC=function(e,t){var n=e.clients.get(t.client);return void 0!==n&&null!==function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=fk((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null}(n,t.clock)},SC=function(e){e.clients.forEach((function(e){var t,n;for(e.sort((function(e,t){return e.clock-t.clock})),t=1,n=1;t<e.length;t++){var r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=vk(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},CC=function(e){for(var t=new bC,n=function(n){e[n].clients.forEach((function(r,i){if(!t.clients.has(i)){for(var o=r.slice(),a=n+1;a<e.length;a++)sk(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}}))},r=0;r<e.length;r++)n(r);return SC(t),t},EC=function(e,t,n,r){ok(e.clients,t,(function(){return[]})).push(new yC(n,r))},xC=function(){return new bC},IC=function(e){var t=xC();return e.clients.forEach((function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o.deleted){var a=o.id.clock,l=o.length;if(i+1<e.length)for(var s=e[i+1];i+1<e.length&&s.deleted;s=e[1+ ++i])l+=s.length;r.push(new yC(a,l))}}r.length>0&&t.clients.set(n,r)})),t},PC=function(e,t){uS(e.restEncoder,t.clients.size),uk(t.clients.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];e.resetDsCurVal(),uS(e.restEncoder,r);var o=i.length;uS(e.restEncoder,o);for(var a=0;a<o;a++){var l=i[a];e.writeDsClock(l.clock),e.writeDsLen(l.len)}}))},_C=function(e){for(var t=new bC,n=AS(e.restDecoder),r=0;r<n;r++){e.resetDsCurVal();var i=AS(e.restDecoder),o=AS(e.restDecoder);if(o>0)for(var a=ok(t.clients,i,(function(){return[]})),l=0;l<o;l++)a.push(new yC(e.readDsClock(),e.readDsLen()))}return t},MC=function(e,t,n){for(var r=new bC,i=AS(e.restDecoder),o=0;o<i;o++){e.resetDsCurVal();for(var a=AS(e.restDecoder),l=AS(e.restDecoder),s=n.clients.get(a)||[],u=cE(n,a),c=0;c<l;c++){var d=e.readDsClock(),f=d+e.readDsLen();if(d<u){u<f&&EC(r,a,u,f-u);var p=fE(s,d),h=s[p];for(!h.deleted&&h.id.clock<d&&(s.splice(p+1,0,lI(t,h,d-h.id.clock)),p++);p<s.length&&(h=s[p++]).id.clock<f;)h.deleted||(f<h.id.clock+h.length&&s.splice(p,0,lI(t,h,f-h.id.clock)),h.delete(t))}else EC(r,a,d,f-d)}}if(r.clients.size>0){var v=new HC;return uS(v.restEncoder,0),PC(v,r),v.toUint8Array()}return null},DC=XS,TC=function(e){f(n,e);var t=h(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.guid,o=void 0===i?$S.replace(/[018]/g,(function(e){return(e^XS()&15>>e/4).toString(16)})):i,a=r.collectionid,l=void 0===a?null:a,s=r.gc,u=void 0===s||s,c=r.gcFilter,f=void 0===c?function(){return!0}:c,p=r.meta,h=void 0===p?null:p,v=r.autoLoad,g=void 0!==v&&v,m=r.shouldLoad,y=void 0===m||m;w(this,n),(e=t.call(this)).gc=u,e.gcFilter=f,e.clientID=DC(),e.guid=o,e.collectionid=l,e.share=new Map,e.store=new sE,e._transaction=null,e._transactionCleanups=[],e.subdocs=new Set,e._item=null,e.shouldLoad=y,e.autoLoad=g,e.meta=h,e.isLoaded=!1,e.isSynced=!1,e.whenLoaded=ZS((function(t){e.on("load",(function(){e.isLoaded=!0,t(d(e))}))}));var b=function(){return ZS((function(t){e.on("sync",(function n(r){void 0!==r&&!0!==r||(e.off("sync",n),t())}))}))};return e.on("sync",(function(t){!1===t&&e.isSynced&&(e.whenSynced=b()),e.isSynced=void 0===t||!0===t,e.isLoaded||e.emit("load",[])})),e.whenSynced=b(),e}return b(n,[{key:"load",value:function(){var e=this,t=this._item;null===t||this.shouldLoad||xE(t.parent.doc,(function(t){t.subdocsLoaded.add(e)}),null,!0),this.shouldLoad=!0}},{key:"getSubdocs",value:function(){return this.subdocs}},{key:"getSubdocGuids",value:function(){return new Set(uk(this.subdocs).map((function(e){return e.guid})))}},{key:"transact",value:function(e){return xE(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qE,r=ok(this.share,e,(function(){var e=new n;return e._integrate(t,null),e})),i=r.constructor;if(n!==qE&&i!==n){if(i===qE){var o=new n;o._map=r._map,r._map.forEach((function(e){for(;null!==e;e=e.left)e.parent=o})),o._start=r._start;for(var a=o._start;null!==a;a=a.right)a.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}throw new Error("Type with the name ".concat(e," has already been defined with a different constructor"))}return r}},{key:"getArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,hx)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,Ox)}},{key:"getMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,gx)}},{key:"getXmlFragment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,Lx)}},{key:"toJSON",value:function(){var e={};return this.share.forEach((function(t,n){e[n]=t.toJSON()})),e}},{key:"destroy",value:function(){var e=this;uk(this.subdocs).forEach((function(e){return e.destroy()}));var t=this._item;if(null!==t){this._item=null;var r=t.content;r.doc=new n(a(a({guid:this.guid},r.opts),{},{shouldLoad:!1})),r.doc._item=t,xE(t.parent.doc,(function(n){var i=r.doc;t.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(e)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),T(p(n.prototype),"destroy",this).call(this)}},{key:"on",value:function(e,t){T(p(n.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){T(p(n.prototype),"off",this).call(this,e,t)}}]),n}(dk),OC=function(){function e(t){w(this,e),this.restDecoder=t}return b(e,[{key:"resetDsCurVal",value:function(){}},{key:"readDsClock",value:function(){return AS(this.restDecoder)}},{key:"readDsLen",value:function(){return AS(this.restDecoder)}}]),e}(),RC=function(e){f(n,e);var t=h(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"readLeftID",value:function(){return tE(AS(this.restDecoder),AS(this.restDecoder))}},{key:"readRightID",value:function(){return tE(AS(this.restDecoder),AS(this.restDecoder))}},{key:"readClient",value:function(){return AS(this.restDecoder)}},{key:"readInfo",value:function(){return BS(this.restDecoder)}},{key:"readString",value:function(){return zS(this.restDecoder)}},{key:"readParentInfo",value:function(){return 1===AS(this.restDecoder)}},{key:"readTypeRef",value:function(){return AS(this.restDecoder)}},{key:"readLen",value:function(){return AS(this.restDecoder)}},{key:"readAny",value:function(){return NS(this.restDecoder)}},{key:"readBuf",value:function(){return function(e){var t=Xk(e.byteLength);return t.set(e),t}(LS(this.restDecoder))}},{key:"readJSON",value:function(){return JSON.parse(zS(this.restDecoder))}},{key:"readKey",value:function(){return zS(this.restDecoder)}}]),n}(OC),LC=function(){function e(t){w(this,e),this.dsCurrVal=0,this.restDecoder=t}return b(e,[{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"readDsClock",value:function(){return this.dsCurrVal+=AS(this.restDecoder),this.dsCurrVal}},{key:"readDsLen",value:function(){var e=AS(this.restDecoder)+1;return this.dsCurrVal+=e,e}}]),e}(),BC=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).keys=[],AS(e),r.keyClockDecoder=new VS(LS(e)),r.clientDecoder=new KS(LS(e)),r.leftClockDecoder=new VS(LS(e)),r.rightClockDecoder=new VS(LS(e)),r.infoDecoder=new US(LS(e),BS),r.stringDecoder=new WS(LS(e)),r.parentInfoDecoder=new US(LS(e),BS),r.typeRefDecoder=new KS(LS(e)),r.lenDecoder=new KS(LS(e)),r}return b(n,[{key:"readLeftID",value:function(){return new JC(this.clientDecoder.read(),this.leftClockDecoder.read())}},{key:"readRightID",value:function(){return new JC(this.clientDecoder.read(),this.rightClockDecoder.read())}},{key:"readClient",value:function(){return this.clientDecoder.read()}},{key:"readInfo",value:function(){return this.infoDecoder.read()}},{key:"readString",value:function(){return this.stringDecoder.read()}},{key:"readParentInfo",value:function(){return 1===this.parentInfoDecoder.read()}},{key:"readTypeRef",value:function(){return this.typeRefDecoder.read()}},{key:"readLen",value:function(){return this.lenDecoder.read()}},{key:"readAny",value:function(){return NS(this.restDecoder)}},{key:"readBuf",value:function(){return LS(this.restDecoder)}},{key:"readJSON",value:function(){return NS(this.restDecoder)}},{key:"readKey",value:function(){var e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];var t=this.stringDecoder.read();return this.keys.push(t),t}}]),n}(LC),AC=function(){function e(){w(this,e),this.restEncoder=iS()}return b(e,[{key:"toUint8Array",value:function(){return aS(this.restEncoder)}},{key:"resetDsCurVal",value:function(){}},{key:"writeDsClock",value:function(e){uS(this.restEncoder,e)}},{key:"writeDsLen",value:function(e){uS(this.restEncoder,e)}}]),e}(),jC=function(e){f(n,e);var t=h(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"writeLeftID",value:function(e){uS(this.restEncoder,e.client),uS(this.restEncoder,e.clock)}},{key:"writeRightID",value:function(e){uS(this.restEncoder,e.client),uS(this.restEncoder,e.clock)}},{key:"writeClient",value:function(e){uS(this.restEncoder,e)}},{key:"writeInfo",value:function(e){sS(this.restEncoder,e)}},{key:"writeString",value:function(e){pS(this.restEncoder,e)}},{key:"writeParentInfo",value:function(e){uS(this.restEncoder,e?1:0)}},{key:"writeTypeRef",value:function(e){uS(this.restEncoder,e)}},{key:"writeLen",value:function(e){uS(this.restEncoder,e)}},{key:"writeAny",value:function(e){yS(this.restEncoder,e)}},{key:"writeBuf",value:function(e){vS(this.restEncoder,e)}},{key:"writeJSON",value:function(e){pS(this.restEncoder,JSON.stringify(e))}},{key:"writeKey",value:function(e){pS(this.restEncoder,e)}}]),n}(AC),zC=function(){function e(){w(this,e),this.restEncoder=iS(),this.dsCurrVal=0}return b(e,[{key:"toUint8Array",value:function(){return aS(this.restEncoder)}},{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"writeDsClock",value:function(e){var t=e-this.dsCurrVal;this.dsCurrVal=e,uS(this.restEncoder,t)}},{key:"writeDsLen",value:function(e){0===e&&PS(),uS(this.restEncoder,e-1),this.dsCurrVal+=e}}]),e}(),HC=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),(e=t.call(this)).keyMap=new Map,e.keyClock=0,e.keyClockEncoder=new CS,e.clientEncoder=new kS,e.leftClockEncoder=new CS,e.rightClockEncoder=new CS,e.infoEncoder=new bS(sS),e.stringEncoder=new ES,e.parentInfoEncoder=new bS(sS),e.typeRefEncoder=new kS,e.lenEncoder=new kS,e}return b(n,[{key:"toUint8Array",value:function(){var e=iS();return uS(e,0),vS(e,this.keyClockEncoder.toUint8Array()),vS(e,this.clientEncoder.toUint8Array()),vS(e,this.leftClockEncoder.toUint8Array()),vS(e,this.rightClockEncoder.toUint8Array()),vS(e,aS(this.infoEncoder)),vS(e,this.stringEncoder.toUint8Array()),vS(e,aS(this.parentInfoEncoder)),vS(e,this.typeRefEncoder.toUint8Array()),vS(e,this.lenEncoder.toUint8Array()),hS(e,aS(this.restEncoder)),aS(e)}},{key:"writeLeftID",value:function(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}},{key:"writeRightID",value:function(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}},{key:"writeClient",value:function(e){this.clientEncoder.write(e)}},{key:"writeInfo",value:function(e){this.infoEncoder.write(e)}},{key:"writeString",value:function(e){this.stringEncoder.write(e)}},{key:"writeParentInfo",value:function(e){this.parentInfoEncoder.write(e?1:0)}},{key:"writeTypeRef",value:function(e){this.typeRefEncoder.write(e)}},{key:"writeLen",value:function(e){this.lenEncoder.write(e)}},{key:"writeAny",value:function(e){yS(this.restEncoder,e)}},{key:"writeBuf",value:function(e){vS(this.restEncoder,e)}},{key:"writeJSON",value:function(e){yS(this.restEncoder,e)}},{key:"writeKey",value:function(e){var t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}]),n}(zC),FC=function(e,t,n){var r=new Map;n.forEach((function(e,n){cE(t,n)>e&&r.set(n,e)})),uE(t).forEach((function(e,t){n.has(t)||r.set(t,0)})),uS(e.restEncoder,r.size),uk(r.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(n){var r=m(n,2),i=r[0],o=r[1];!function(e,t,n,r){r=vk(r,t[0].id.clock);var i=fE(t,r);uS(e.restEncoder,t.length-i),e.writeClient(n),uS(e.restEncoder,r);var o=t[i];o.write(e,r-o.id.clock);for(var a=i+1;a<t.length;a++)t[a].write(e,0)}(e,t.clients.get(i),i,o)}))},NC=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new BC(e);return xE(t,(function(e){e.local=!1;var t=!1,n=e.doc,i=n.store,o=function(e,t){for(var n=rk(),r=AS(e.restDecoder),i=0;i<r;i++){var o=AS(e.restDecoder),a=new Array(o),l=e.readClient(),s=AS(e.restDecoder);n.set(l,{i:0,refs:a});for(var u=0;u<o;u++){var c=e.readInfo();switch(31&c){case 0:var d=e.readLen();a[u]=new Fx(tE(l,s),d),s+=d;break;case 10:var f=AS(e.restDecoder);a[u]=new pI(tE(l,s),f),s+=f;break;default:var p=0===(192&c),h=new cI(tE(l,s),null,(c&Qk)===Qk?e.readLeftID():null,null,(c&qk)===qk?e.readRightID():null,p?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,p&&32===(32&c)?e.readString():null,dI(e,c));a[u]=h,s+=h.length}}}return n}(r,n),a=function(e,t,n){var r=[],i=uk(n.keys()).sort((function(e,t){return e-t}));if(0===i.length)return null;var o=function(){if(0===i.length)return null;for(var e=n.get(i[i.length-1]);e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=n.get(i[i.length-1])}return e},a=o();if(null===a&&0===r.length)return null;for(var l=new sE,s=new Map,u=function(e,t){var n=s.get(e);(null==n||n>t)&&s.set(e,t)},c=a.refs[a.i++],d=new Map,f=function(){for(var e=function(){var e=o[t],r=e.id.client,a=n.get(r);a?(a.i--,l.clients.set(r,a.refs.slice(a.i)),n.delete(r),a.i=0,a.refs=[]):l.clients.set(r,[e]),i=i.filter((function(e){return e!==r}))},t=0,o=r;t<o.length;t++)e();r.length=0};;){if(c.constructor!==pI){var p=ok(d,c.id.client,(function(){return cE(t,c.id.client)}))-c.id.clock;if(p<0)r.push(c),u(c.id.client,c.id.clock-1),f();else{var h=c.getMissing(e,t);if(null!==h){r.push(c);var v=n.get(h)||{refs:[],i:0};if(v.refs.length!==v.i){c=v.refs[v.i++];continue}u(h,cE(t,h)),f()}else(0===p||p<c.length)&&(c.integrate(e,p),d.set(c.id.client,c.id.clock+c.length))}}if(r.length>0)c=r.pop();else if(null!==a&&a.i<a.refs.length)c=a.refs[a.i++];else{if(null===(a=o()))break;c=a.refs[a.i++]}}if(l.clients.size>0){var g=new HC;return FC(g,l,new Map),uS(g.restEncoder,0),{missing:s,update:g.toUint8Array()}}return null}(e,i,o),l=i.pendingStructs;if(l){var s,u=C(l.missing);try{for(u.s();!(s=u.n()).done;){var c=m(s.value,2),d=c[0];if(c[1]<cE(i,d)){t=!0;break}}}catch(JI){u.e(JI)}finally{u.f()}if(a){var f,p=C(a.missing);try{for(p.s();!(f=p.n()).done;){var h=m(f.value,2),v=h[0],g=h[1],y=l.missing.get(v);(null==y||y>g)&&l.missing.set(v,g)}}catch(JI){p.e(JI)}finally{p.f()}l.update=BE([l.update,a.update])}}else i.pendingStructs=a;var b=MC(r,e,i);if(i.pendingDs){var w=new BC(TS(i.pendingDs));AS(w.restDecoder);var k=MC(w,e,i);i.pendingDs=b&&k?BE([b,k]):b||k}else i.pendingDs=b;if(t){var S=i.pendingStructs.update;i.pendingStructs=null,UC(e.doc,S)}}),n,!1)},UC=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BC,i=TS(t);NC(i,e,n,new r(i))},KC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array([0]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new HC;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;FC(e,t.store,n),PC(e,IC(t.store))}(n,e,WC(t));var r=[n.toUint8Array()];if(e.store.pendingDs&&r.push(e.store.pendingDs),e.store.pendingStructs&&r.push(AE(e.store.pendingStructs.update,t)),r.length>1){if(n.constructor===jC)return RE(r.map((function(e,t){return 0===t?e:NE(e)})));if(n.constructor===HC)return BE(r)}return r[0]},VC=function(e){for(var t=new Map,n=AS(e.restDecoder),r=0;r<n;r++){var i=AS(e.restDecoder),o=AS(e.restDecoder);t.set(i,o)}return t},WC=function(e){return VC(new OC(TS(e)))},YC=function(e,t){return uS(e.restEncoder,t.size),uk(t.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];uS(e.restEncoder,r),uS(e.restEncoder,i)})),e},XC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zC;return e instanceof Map?YC(t,e):function(e,t){YC(e,uE(t.store))}(t,e),t.toUint8Array()},$C=b((function e(){w(this,e),this.l=[]})),ZC=function(){return new $C},GC=function(e,t){return e.l.push(t)},qC=function(e,t){var n=e.l,r=n.length;e.l=n.filter((function(e){return t!==e})),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},QC=function(e,t,n){return Ak(e.l,[t,n])},JC=b((function e(t,n){w(this,e),this.client=t,this.clock=n})),eE=function(e,t){return e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock},tE=function(e,t){return new JC(e,t)},nE=function(e){var t,n=C(e.doc.share.entries());try{for(n.s();!(t=n.n()).done;){var r=m(t.value,2),i=r[0];if(r[1]===e)return i}}catch(JI){n.e(JI)}finally{n.f()}throw PS()},rE=function(e,t){for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1},iE=b((function e(t,n){w(this,e),this.ds=t,this.sv=n})),oE=function(e,t){return new iE(e,t)},aE=(oE(xC(),new Map),function(e,t){return void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!kC(t.ds,e.id)}),lE=function e(t,n){var r=ok(t.meta,e,ak),i=t.doc.store;r.has(n)||(n.sv.forEach((function(e,n){e<cE(i,n)&&vE(t,tE(n,e))})),wC(t,n.ds,(function(e){})),r.add(n))},sE=b((function e(){w(this,e),this.clients=new Map,this.pendingStructs=null,this.pendingDs=null})),uE=function(e){var t=new Map;return e.clients.forEach((function(e,n){var r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},cE=function(e,t){var n=e.clients.get(t);if(void 0===n)return 0;var r=n[n.length-1];return r.id.clock+r.length},dE=function(e,t){var n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{var r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw PS()}n.push(t)},fE=function(e,t){var n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;for(var a=fk(t/(o+i.length-1)*r);n<=r;){if((o=(i=e[a]).id.clock)<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=fk((n+r)/2)}throw PS()},pE=function(e,t){var n=e.clients.get(t.client);return n[fE(n,t.clock)]},hE=function(e,t,n){var r=fE(t,n),i=t[r];return i.id.clock<n&&i instanceof cI?(t.splice(r+1,0,lI(e,i,n-i.id.clock)),r+1):r},vE=function(e,t){var n=e.doc.store.clients.get(t.client);return n[hE(e,n,t.clock)]},gE=function(e,t,n){var r=t.clients.get(n.client),i=fE(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==Fx&&r.splice(i+1,0,lI(e,o,n.clock-o.id.clock+1)),o},mE=function(e,t,n,r,i){if(0!==r){var o,a=n+r,l=hE(e,t,n);do{a<(o=t[l++]).id.clock+o.length&&hE(e,t,a),i(o)}while(l<t.length&&t[l].id.clock<a)}},yE=b((function e(t,n,r){w(this,e),this.doc=t,this.deleteSet=new bC,this.beforeState=uE(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1})),bE=function(e,t){return!(0===t.deleteSet.clients.size&&!function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=m(n.value,2),o=i[0];if(t(i[1],o))return!0}}catch(JI){r.e(JI)}finally{r.f()}return!1}(t.afterState,(function(e,n){return t.beforeState.get(n)!==e})))&&(SC(t.deleteSet),function(e,t){FC(e,t.doc.store,t.beforeState)}(e,t),PC(e,t.deleteSet),!0)},wE=function(e,t,n){var r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&ok(e.changed,t,ak).add(n)},kE=function(e,t){for(var n=e[t],r=e[t-1],i=t;i>0&&(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n));n=r,r=e[--i-1])n instanceof cI&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);var o=t-i;return o&&e.splice(t+1-o,o),o},SE=function(e,t,n){var r,i=C(e.clients.entries());try{for(i.s();!(r=i.n()).done;)for(var o=m(r.value,2),a=o[0],l=o[1],s=t.clients.get(a),u=l.length-1;u>=0;u--)for(var c=l[u],d=c.clock+c.len,f=fE(s,c.clock),p=s[f];f<s.length&&p.id.clock<d;p=s[++f]){var h=s[f];if(c.clock+c.len<=h.id.clock)break;h instanceof cI&&h.deleted&&!h.keep&&n(h)&&h.gc(t,!1)}}catch(JI){i.e(JI)}finally{i.f()}},CE=function(e,t){e.clients.forEach((function(e,n){for(var r=t.clients.get(n),i=e.length-1;i>=0;i--)for(var o=e[i],a=hk(r.length-1,1+fE(r,o.clock+o.len-1)),l=r[a];a>0&&l.id.clock>=o.clock;l=r[a])a-=1+kE(r,a)}))},EE=function e(t,n){if(n<t.length){var r=t[n],i=r.doc,o=i.store,a=r.deleteSet,l=r._mergeStructs;try{SC(a),r.afterState=uE(r.doc.store),i.emit("beforeObserverCalls",[r,i]);var s=[];r.changed.forEach((function(e,t){return s.push((function(){null!==t._item&&t._item.deleted||t._callObserver(r,e)}))})),s.push((function(){r.changedParentTypes.forEach((function(e,t){t._dEH.l.length>0&&(null===t._item||!t._item.deleted)&&((e=e.filter((function(e){return null===e.target._item||!e.target._item.deleted}))).forEach((function(e){e.currentTarget=t,e._path=null})),e.sort((function(e,t){return e.path.length-t.path.length})),QC(t._dEH,e,r))}))})),s.push((function(){return i.emit("afterTransaction",[r,i])})),Ak(s,[]),r._needFormattingCleanup&&Mx(r)}finally{i.gc&&SE(a,o,i.gcFilter),CE(a,o),r.afterState.forEach((function(e,t){var n=r.beforeState.get(t)||0;if(n!==e)for(var i=o.clients.get(t),a=vk(fE(i,n),1),l=i.length-1;l>=a;)l-=1+kE(i,l)}));for(var u=l.length-1;u>=0;u--){var c=l[u].id,d=c.client,f=c.clock,p=o.clients.get(d),h=fE(p,f);h+1<p.length&&kE(p,h+1)>1||h>0&&kE(p,h)}if(r.local||r.afterState.get(i.clientID)===r.beforeState.get(i.clientID)||(pC(uC,nC,"[yjs] ",rC,lC,"Changed the client-id because another client seems to be using it."),i.clientID=DC()),i.emit("afterTransactionCleanup",[r,i]),i._observers.has("update")){var v=new jC;bE(v,r)&&i.emit("update",[v.toUint8Array(),r.origin,i,r])}if(i._observers.has("updateV2")){var g=new HC;bE(g,r)&&i.emit("updateV2",[g.toUint8Array(),r.origin,i,r])}var m=r.subdocsAdded,y=r.subdocsLoaded,b=r.subdocsRemoved;(m.size>0||b.size>0||y.size>0)&&(m.forEach((function(e){e.clientID=i.clientID,null==e.collectionid&&(e.collectionid=i.collectionid),i.subdocs.add(e)})),b.forEach((function(e){return i.subdocs.delete(e)})),i.emit("subdocs",[{loaded:y,added:m,removed:b},i,r]),b.forEach((function(e){return e.destroy()}))),t.length<=n+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):e(t,n+1)}}},xE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e._transactionCleanups,o=!1,a=null;null===e._transaction&&(o=!0,e._transaction=new yE(e,n,r),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){var l=e._transaction===i[0];e._transaction=null,l&&EE(i,0)}}return a},IE=b((function e(t,n){w(this,e),this.insertions=n,this.deletions=t,this.meta=new Map})),PE=function(e,t,n){wC(e,n.deletions,(function(e){e instanceof cI&&t.scope.some((function(t){return rE(t,e)}))&&aI(e,!1)}))},_E=function(e,t,n){var r=null,i=null,o=e.doc,a=e.scope;if(xE(o,(function(n){for(var l=function(){var i=o.store,l=t.pop(),s=new Set,u=[],c=!1;wC(n,l.insertions,(function(e){if(e instanceof cI){if(null!==e.redone){var t=oI(i,e.id),r=t.item,o=t.diff;o>0&&(r=vE(n,tE(r.id.client,r.id.clock+o))),e=r}!e.deleted&&a.some((function(t){return rE(t,e)}))&&u.push(e)}})),wC(n,l.deletions,(function(e){e instanceof cI&&a.some((function(t){return rE(t,e)}))&&!kC(l.insertions,e.id)&&s.add(e)})),s.forEach((function(t){c=null!==uI(n,t,s,l.insertions,e.ignoreRemoteMapChanges,e)||c}));for(var d=u.length-1;d>=0;d--){var f=u[d];e.deleteFilter(f)&&(f.delete(n),c=!0)}r=c?l:null};t.length>0&&null===r;)l();n.changed.forEach((function(e,t){e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),i=n}),e),null!=r){var l=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:l},e])}return r},ME=function(e){f(n,e);var t=h(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.captureTimeout,a=void 0===o?500:o,l=i.captureTransaction,s=void 0===l?function(e){return!0}:l,u=i.deleteFilter,c=void 0===u?function(){return!0}:u,f=i.trackedOrigins,p=void 0===f?new Set([null]):f,h=i.ignoreRemoteMapChanges,v=void 0!==h&&h,g=i.doc,m=void 0===g?ck(e)?e[0].doc:e.doc:g;return w(this,n),(r=t.call(this)).scope=[],r.addToScope(e),r.deleteFilter=c,p.add(d(r)),r.trackedOrigins=p,r.captureTransaction=s,r.undoStack=[],r.redoStack=[],r.undoing=!1,r.redoing=!1,r.doc=m,r.lastChange=0,r.ignoreRemoteMapChanges=v,r.captureTimeout=a,r.afterTransactionHandler=function(e){if(r.captureTransaction(e)&&r.scope.some((function(t){return e.changedParentTypes.has(t)}))&&(r.trackedOrigins.has(e.origin)||e.origin&&r.trackedOrigins.has(e.origin.constructor))){var t=r.undoing,n=r.redoing,i=t?r.redoStack:r.undoStack;t?r.stopCapturing():n||r.clear(!1,!0);var o=new bC;e.afterState.forEach((function(t,n){var r=e.beforeState.get(n)||0,i=t-r;i>0&&EC(o,n,r,i)}));var a=tC(),l=!1;if(r.lastChange>0&&a-r.lastChange<r.captureTimeout&&i.length>0&&!t&&!n){var s=i[i.length-1];s.deletions=CC([s.deletions,e.deleteSet]),s.insertions=CC([s.insertions,o])}else i.push(new IE(e.deleteSet,o)),l=!0;t||n||(r.lastChange=a),wC(e,e.deleteSet,(function(e){e instanceof cI&&r.scope.some((function(t){return rE(t,e)}))&&aI(e,!0)}));var u=[{stackItem:i[i.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},d(r)];l?r.emit("stack-item-added",u):r.emit("stack-item-updated",u)}},r.doc.on("afterTransaction",r.afterTransactionHandler),r.doc.on("destroy",(function(){r.destroy()})),r}return b(n,[{key:"addToScope",value:function(e){var t=this;(e=ck(e)?e:[e]).forEach((function(e){t.scope.every((function(t){return t!==e}))&&t.scope.push(e)}))}},{key:"addTrackedOrigin",value:function(e){this.trackedOrigins.add(e)}},{key:"removeTrackedOrigin",value:function(e){this.trackedOrigins.delete(e)}},{key:"clear",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(t&&this.canUndo()||n&&this.canRedo())&&this.doc.transact((function(r){t&&(e.undoStack.forEach((function(t){return PE(r,e,t)})),e.undoStack=[]),n&&(e.redoStack.forEach((function(t){return PE(r,e,t)})),e.redoStack=[]),e.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:n}])}))}},{key:"stopCapturing",value:function(){this.lastChange=0}},{key:"undo",value:function(){var e;this.undoing=!0;try{e=_E(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}},{key:"redo",value:function(){var e;this.redoing=!0;try{e=_E(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}},{key:"canUndo",value:function(){return this.undoStack.length>0}},{key:"canRedo",value:function(){return this.redoStack.length>0}},{key:"destroy",value:function(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),T(p(n.prototype),"destroy",this).call(this)}}]),n}(dk);function DE(e){var t,n,r,i,o,a,l,s,u,c,d;return k().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:t=AS(e.restDecoder),n=0;case 2:if(!(n<t)){f.next=34;break}r=AS(e.restDecoder),i=e.readClient(),o=AS(e.restDecoder),a=0;case 7:if(!(a<r)){f.next=31;break}if(10!==(l=e.readInfo())){f.next=16;break}return s=AS(e.restDecoder),f.next=13,new pI(tE(i,o),s);case 13:o+=s,f.next=28;break;case 16:if(0===(31&l)){f.next=24;break}return u=0===(192&l),c=new cI(tE(i,o),null,(l&Qk)===Qk?e.readLeftID():null,null,(l&qk)===qk?e.readRightID():null,u?e.readParentInfo()?e.readString():e.readLeftID():null,u&&32===(32&l)?e.readString():null,dI(e,l)),f.next=21,c;case 21:o+=c.length,f.next=28;break;case 24:return d=e.readLen(),f.next=27,new Fx(tE(i,o),d);case 27:o+=d;case 28:a++,f.next=7;break;case 31:n++,f.next=2;break;case 34:case"end":return f.stop()}}),mC)}var TE=function(){function e(t,n){w(this,e),this.gen=DE(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}return b(e,[{key:"next",value:function(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===pI);return this.curr}}]),e}(),OE=b((function e(t){w(this,e),this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]})),RE=function(e){return BE(e,RC,jC)},LE=function(e,t){if(e.constructor===Fx){var n=e.id,r=n.client,i=n.clock;return new Fx(tE(r,i+t),e.length-t)}if(e.constructor===pI){var o=e.id,a=o.client,l=o.clock;return new pI(tE(a,l+t),e.length-t)}var s=e,u=s.id,c=u.client,d=u.clock;return new cI(tE(c,d+t),null,tE(c,d+t-1),null,s.rightOrigin,s.parent,s.parentSub,s.content.splice(t))},BE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HC;if(1===e.length)return e[0];for(var r=e.map((function(e){return new t(TS(e))})),i=r.map((function(e){return new TE(e,!0)})),o=null,a=new n,l=new OE(a);(i=i.filter((function(e){return null!==e.curr}))).sort((function(e,t){if(e.curr.id.client===t.curr.id.client){var n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===pI?1:-1:n}return t.curr.id.client-e.curr.id.client})),0!==i.length;){var s=i[0],u=s.curr.id.client;if(null!==o){for(var c=s.curr,d=!1;null!==c&&c.id.clock+c.length<=o.struct.id.clock+o.struct.length&&c.id.client>=o.struct.id.client;)c=s.next(),d=!0;if(null===c||c.id.client!==u||d&&c.id.clock>o.struct.id.clock+o.struct.length)continue;if(u!==o.struct.id.client)zE(l,o.struct,o.offset),o={struct:c,offset:0},s.next();else if(o.struct.id.clock+o.struct.length<c.id.clock)if(o.struct.constructor===pI)o.struct.length=c.id.clock+c.length-o.struct.id.clock;else{zE(l,o.struct,o.offset);var f=c.id.clock-o.struct.id.clock-o.struct.length;o={struct:new pI(tE(u,o.struct.id.clock+o.struct.length),f),offset:0}}else{var p=o.struct.id.clock+o.struct.length-c.id.clock;p>0&&(o.struct.constructor===pI?o.struct.length-=p:c=LE(c,p)),o.struct.mergeWith(c)||(zE(l,o.struct,o.offset),o={struct:c,offset:0},s.next())}}else o={struct:s.curr,offset:0},s.next();for(var h=s.curr;null!==h&&h.id.client===u&&h.id.clock===o.struct.id.clock+o.struct.length&&h.constructor!==pI;h=s.next())zE(l,o.struct,o.offset),o={struct:h,offset:0}}null!==o&&(zE(l,o.struct,o.offset),o=null),HE(l);var v=r.map((function(e){return _C(e)})),g=CC(v);return PC(a,g),a.toUint8Array()},AE=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BC,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:HC,i=WC(t),o=new r,a=new OE(o),l=new n(TS(e)),s=new TE(l,!1);s.curr;){var u=s.curr,c=u.id.client,d=i.get(c)||0;if(s.curr.constructor!==pI)if(u.id.clock+u.length>d)for(zE(a,u,vk(d-u.id.clock,0)),s.next();s.curr&&s.curr.id.client===c;)zE(a,s.curr,0),s.next();else for(;s.curr&&s.curr.id.client===c&&s.curr.id.clock+s.curr.length<=d;)s.next();else s.next()}HE(a);var f=_C(l);return PC(o,f),o.toUint8Array()},jE=function(e){e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:aS(e.encoder.restEncoder)}),e.encoder.restEncoder=iS(),e.written=0)},zE=function(e,t,n){e.written>0&&e.currClient!==t.id.client&&jE(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),uS(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},HE=function(e){jE(e);var t=e.encoder.restEncoder;uS(t,e.clientStructs.length);for(var n=0;n<e.clientStructs.length;n++){var r=e.clientStructs[n];uS(t,r.written),hS(t,r.restEncoder)}},FE=function(e,t,n,r){for(var i=new n(TS(e)),o=new TE(i,!1),a=new r,l=new OE(a),s=o.curr;null!==s;s=o.next())zE(l,t(s),0);HE(l);var u=_C(i);return PC(a,u),a.toUint8Array()},NE=function(e){return FE(e,jk,BC,jC)},UE="You must not compute changes after the event-handler fired.",KE=function(){function e(t,n){w(this,e),this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}return b(e,[{key:"path",get:function(){return this._path||(this._path=VE(this.currentTarget,this.target))}},{key:"deletes",value:function(e){return kC(this.transaction.deleteSet,e.id)}},{key:"keys",get:function(){var e=this;if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw xS(UE);var t=new Map,n=this.target;this.transaction.changed.get(n).forEach((function(r){if(null!==r){var i,o,a=n._map.get(r);if(e.adds(a)){for(var l=a.left;null!==l&&e.adds(l);)l=l.left;if(e.deletes(a)){if(null===l||!e.deletes(l))return;i="delete",o=lk(l.content.getContent())}else null!==l&&e.deletes(l)?(i="update",o=lk(l.content.getContent())):(i="add",o=void 0)}else{if(!e.deletes(a))return;i="delete",o=lk(a.content.getContent())}t.set(r,{action:i,oldValue:o})}})),this._keys=t}return this._keys}},{key:"delta",get:function(){return this.changes.delta}},{key:"adds",value:function(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}},{key:"changes",get:function(){var e=this._changes;if(null===e){if(0===this.transaction.doc._transactionCleanups.length)throw xS(UE);var t=this.target,n=ak(),r=ak(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){for(var o=null,a=function(){o&&i.push(o)},l=t._start;null!==l;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&(null!==o&&void 0!==o.delete||(a(),o={delete:0}),o.delete+=l.length,r.add(l)):this.adds(l)?(null!==o&&void 0!==o.insert||(a(),o={insert:[]}),o.insert=o.insert.concat(l.content.getContent()),n.add(l)):(null!==o&&void 0!==o.retain||(a(),o={retain:0}),o.retain+=l.length);null!==o&&void 0===o.retain&&a()}this._changes=e}return e}}]),e}(),VE=function(e,t){for(var n=[];null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{for(var r=0,i=t._item.parent._start;i!==t._item&&null!==i;)i.deleted||r++,i=i.right;n.unshift(r)}t=t._item.parent}return n},WE=0,YE=b((function e(t,n){w(this,e),t.marker=!0,this.p=t,this.index=n,this.timestamp=WE++})),XE=function(e,t,n){e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=WE++},$E=function(e,t){if(null===e._start||0===t||null===e._searchMarker)return null;var n=0===e._searchMarker.length?null:e._searchMarker.reduce((function(e,n){return pk(t-e.index)<pk(t-n.index)?e:n})),r=e._start,i=0;for(null!==n&&(r=n.p,i=n.index,function(e){e.timestamp=WE++}(n));null!==r.right&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;null!==r.left&&i>t;)!(r=r.left).deleted&&r.countable&&(i-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)!(r=r.left).deleted&&r.countable&&(i-=r.length);return null!==n&&pk(n.index-i)<r.parent.length/80?(XE(n,r,i),n):function(e,t,n){if(e.length>=80){var r=e.reduce((function(e,t){return e.timestamp<t.timestamp?e:t}));return XE(r,t,n),r}var i=new YE(t,n);return e.push(i),i}(e._searchMarker,r,i)},ZE=function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(n>0){var o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)(o=o.left)&&!o.deleted&&o.countable&&(i.index-=o.length);if(null===o||!0===o.marker){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=vk(t,i.index+n))}},GE=function(e,t,n){for(var r=e,i=t.changedParentTypes;ok(i,e,(function(){return[]})).push(n),null!==e._item;)e=e._item.parent;QC(r._eH,n,t)},qE=function(){function e(){w(this,e),this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ZC(),this._dEH=ZC(),this._searchMarker=null}return b(e,[{key:"parent",get:function(){return this._item?this._item.parent:null}},{key:"_integrate",value:function(e,t){this.doc=e,this._item=t}},{key:"_copy",value:function(){throw IS()}},{key:"clone",value:function(){throw IS()}},{key:"_write",value:function(e){}},{key:"_first",get:function(){for(var e=this._start;null!==e&&e.deleted;)e=e.right;return e}},{key:"_callObserver",value:function(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}},{key:"observe",value:function(e){GC(this._eH,e)}},{key:"observeDeep",value:function(e){GC(this._dEH,e)}},{key:"unobserve",value:function(e){qC(this._eH,e)}},{key:"unobserveDeep",value:function(e){qC(this._dEH,e)}},{key:"toJSON",value:function(){}}]),e}(),QE=function(e,t,n){t<0&&(t=e._length+t),n<0&&(n=e._length+n);for(var r=n-t,i=[],o=e._start;null!==o&&r>0;){if(o.countable&&!o.deleted){var a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(var l=t;l<a.length&&r>0;l++)i.push(a[l]),r--;t=0}}o=o.right}return i},JE=function(e){for(var t=[],n=e._start;null!==n;){if(n.countable&&!n.deleted)for(var r=n.content.getContent(),i=0;i<r.length;i++)t.push(r[i]);n=n.right}return t},ex=function(e,t){for(var n=0,r=e._start;null!==r;){if(r.countable&&!r.deleted)for(var i=r.content.getContent(),o=0;o<i.length;o++)t(i[o],n++,e);r=r.right}},tx=function(e,t){var n=[];return ex(e,(function(r,i){n.push(t(r,i,e))})),n},nx=function(e,t){var n=$E(e,t),r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},rx=function(e,t,n,r){var i=n,o=e.doc,a=o.clientID,l=o.store,s=null===n?t._start:n.right,u=[],c=function(){u.length>0&&((i=new cI(tE(a,cE(l,a)),i,i&&i.lastId,s,s&&s.id,t,null,new $x(u))).integrate(e,0),u=[])};r.forEach((function(n){if(null===n)u.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(n);break;default:switch(c(),n.constructor){case Uint8Array:case ArrayBuffer:(i=new cI(tE(a,cE(l,a)),i,i&&i.lastId,s,s&&s.id,t,null,new Nx(new Uint8Array(n)))).integrate(e,0);break;case TC:(i=new cI(tE(a,cE(l,a)),i,i&&i.lastId,s,s&&s.id,t,null,new Vx(n))).integrate(e,0);break;default:if(!(n instanceof qE))throw new Error("Unexpected content type in insert operation");(i=new cI(tE(a,cE(l,a)),i,i&&i.lastId,s,s&&s.id,t,null,new iI(n))).integrate(e,0)}}})),c()},ix=xS("Length exceeded!"),ox=function(e,t,n,r){if(n>t._length)throw ix;if(0===n)return t._searchMarker&&ZE(t._searchMarker,n,r.length),rx(e,t,null,r);var i=n,o=$E(t,n),a=t._start;for(null!==o&&(a=o.p,0===(n-=o.index)&&(n+=(a=a.prev)&&a.countable&&!a.deleted?a.length:0));null!==a;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&vE(e,tE(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&ZE(t._searchMarker,i,r.length),rx(e,t,a,r)},ax=function(e,t,n,r){if(0!==r){var i=n,o=r,a=$E(t,n),l=t._start;for(null!==a&&(l=a.p,n-=a.index);null!==l&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&vE(e,tE(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&null!==l;)l.deleted||(r<l.length&&vE(e,tE(l.id.client,l.id.clock+r)),l.delete(e),r-=l.length),l=l.right;if(r>0)throw ix;t._searchMarker&&ZE(t._searchMarker,i,-o+r)}},lx=function(e,t,n){var r=t._map.get(n);void 0!==r&&r.delete(e)},sx=function(e,t,n,r){var i,o=t._map.get(n)||null,a=e.doc,l=a.clientID;if(null==r)i=new $x([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:i=new $x([r]);break;case Uint8Array:i=new Nx(r);break;case TC:i=new Vx(r);break;default:if(!(r instanceof qE))throw new Error("Unexpected content type");i=new iI(r)}new cI(tE(l,cE(a.store,l)),o,o&&o.lastId,null,null,t,n,i).integrate(e,0)},ux=function(e,t){var n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},cx=function(e){var t={};return e._map.forEach((function(e,n){e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},dx=function(e,t){var n=e._map.get(t);return void 0!==n&&!n.deleted},fx=function(e){return function(e,t){return vC((function(){var n;do{n=e.next()}while(!n.done&&!t(n.value));return n}))}(e.entries(),(function(e){return!e[1].deleted}))},px=function(e){f(n,e);var t=h(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r))._transaction=r,i}return b(n)}(KE),hx=function(e,t){f(r,e);var n=h(r);function r(){var e;return w(this,r),(e=n.call(this))._prelimContent=[],e._searchMarker=[],e}return b(r,[{key:"_integrate",value:function(e,t){T(p(r.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.insert(0,this.toArray().map((function(e){return e instanceof qE?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"_callObserver",value:function(e,t){T(p(r.prototype),"_callObserver",this).call(this,e,t),GE(this,e,new px(this,e))}},{key:"insert",value:function(e,t){var n,r=this;null!==this.doc?xE(this.doc,(function(n){ox(n,r,e,t)})):(n=this._prelimContent).splice.apply(n,[e,0].concat(S(t)))}},{key:"push",value:function(e){var t,n=this;null!==this.doc?xE(this.doc,(function(t){!function(e,t,n){var r=(t._searchMarker||[]).reduce((function(e,t){return t.index>e.index?t:e}),{index:0,p:t._start}).p;if(r)for(;r.right;)r=r.right;rx(e,t,r,n)}(t,n,e)})):(t=this._prelimContent).push.apply(t,S(e))}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?xE(this.doc,(function(r){ax(r,t,e,n)})):this._prelimContent.splice(e,n)}},{key:"get",value:function(e){return nx(this,e)}},{key:"toArray",value:function(){return JE(this)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return QE(this,e,t)}},{key:"toJSON",value:function(){return this.map((function(e){return e instanceof qE?e.toJSON():e}))}},{key:"map",value:function(e){return tx(this,e)}},{key:"forEach",value:function(e){ex(this,e)}},{key:t,value:function(){return function(e){var t,n=e._start,r=null,o=0;return i(t={},Symbol.iterator,(function(){return this})),i(t,"next",(function(){if(null===r){for(;null!==n&&n.deleted;)n=n.right;if(null===n)return{done:!0,value:void 0};r=n.content.getContent(),o=0,n=n.right}var e=r[o++];return r.length<=o&&(r=null),{done:!1,value:e}})),t}(this)}},{key:"_write",value:function(e){e.writeTypeRef(qx)}}],[{key:"from",value:function(e){var t=new r;return t.push(e),t}}]),r}(qE,Symbol.iterator),vx=function(e){f(n,e);var t=h(n);function n(e,r,i){var o;return w(this,n),(o=t.call(this,e,r)).keysChanged=i,o}return b(n)}(KE),gx=function(e,t){f(r,e);var n=h(r);function r(e){var t;return w(this,r),(t=n.call(this))._prelimContent=null,t._prelimContent=void 0===e?new Map:new Map(e),t}return b(r,[{key:"_integrate",value:function(e,t){var n=this;T(p(r.prototype),"_integrate",this).call(this,e,t),this._prelimContent.forEach((function(e,t){n.set(t,e)})),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return this.forEach((function(t,n){e.set(n,t instanceof qE?t.clone():t)})),e}},{key:"_callObserver",value:function(e,t){GE(this,e,new vx(this,e,t))}},{key:"toJSON",value:function(){var e={};return this._map.forEach((function(t,n){if(!t.deleted){var r=t.content.getContent()[t.length-1];e[n]=r instanceof qE?r.toJSON():r}})),e}},{key:"size",get:function(){return S(fx(this._map)).length}},{key:"keys",value:function(){return gC(fx(this._map),(function(e){return e[0]}))}},{key:"values",value:function(){return gC(fx(this._map),(function(e){return e[1].content.getContent()[e[1].length-1]}))}},{key:"entries",value:function(){return gC(fx(this._map),(function(e){return[e[0],e[1].content.getContent()[e[1].length-1]]}))}},{key:"forEach",value:function(e){var t=this;this._map.forEach((function(n,r){n.deleted||e(n.content.getContent()[n.length-1],r,t)}))}},{key:t,value:function(){return this.entries()}},{key:"delete",value:function(e){var t=this;null!==this.doc?xE(this.doc,(function(n){lx(n,t,e)})):this._prelimContent.delete(e)}},{key:"set",value:function(e,t){var n=this;return null!==this.doc?xE(this.doc,(function(r){sx(r,n,e,t)})):this._prelimContent.set(e,t),t}},{key:"get",value:function(e){return ux(this,e)}},{key:"has",value:function(e){return dx(this,e)}},{key:"clear",value:function(){var e=this;null!==this.doc?xE(this.doc,(function(t){e.forEach((function(e,n,r){lx(t,r,n)}))})):this._prelimContent.clear()}},{key:"_write",value:function(e){e.writeTypeRef(Qx)}}]),r}(qE,Symbol.iterator),mx=function(e,t){return e===t||"object"===typeof e&&"object"===typeof t&&e&&t&&function(e,t){return e===t||Lk(e)===Lk(t)&&function(e,t){for(var n in e)if(!t(e[n],n))return!1;return!0}(e,(function(e,n){return(void 0!==e||Bk(t,n))&&t[n]===e}))}(e,t)},yx=function(){function e(t,n,r,i){w(this,e),this.left=t,this.right=n,this.index=r,this.currentAttributes=i}return b(e,[{key:"forward",value:function(){if(null===this.right&&PS(),this.right.content.constructor===Yx)this.right.deleted||Sx(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}]),e}(),bx=function(e,t,n){for(;null!==t.right&&n>0;){if(t.right.content.constructor===Yx)t.right.deleted||Sx(t.currentAttributes,t.right.content);else t.right.deleted||(n<t.right.length&&vE(e,tE(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);t.left=t.right,t.right=t.right.right}return t},wx=function(e,t,n){var r=new Map,i=$E(t,n);if(i){var o=new yx(i.p.left,i.p,i.index,r);return bx(e,o,n-i.index)}var a=new yx(null,t._start,0,r);return bx(e,a,n)},kx=function(e,t,n,r){for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Yx&&mx(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();var i=e.doc,o=i.clientID;r.forEach((function(r,a){var l=n.left,s=n.right,u=new cI(tE(o,cE(i.store,o)),l,l&&l.lastId,s,s&&s.id,t,null,new Yx(a,r));u.integrate(e,0),n.right=u,n.forward()}))},Sx=function(e,t){var n=t.key,r=t.value;null===r?e.delete(n):e.set(n,r)},Cx=function(e,t){for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===Yx&&mx(t[e.right.content.key]||null,e.right.content.value));)e.forward()},Ex=function(e,t,n,r){var i=e.doc,o=i.clientID,a=new Map;for(var l in r){var s=r[l],u=n.currentAttributes.get(l)||null;if(!mx(u,s)){a.set(l,u);var c=n.left,d=n.right;n.right=new cI(tE(o,cE(i.store,o)),c,c&&c.lastId,d,d&&d.id,t,null,new Yx(l,s)),n.right.integrate(e,0),n.forward()}}return a},xx=function(e,t,n,r,i){n.currentAttributes.forEach((function(e,t){void 0===i[t]&&(i[t]=null)}));var o=e.doc,a=o.clientID;Cx(n,i);var l=Ex(e,t,n,i),s=r.constructor===String?new Zx(r):r instanceof qE?new iI(r):new Wx(r),u=n.left,c=n.right,d=n.index;t._searchMarker&&ZE(t._searchMarker,n.index,s.getLength()),(c=new cI(tE(a,cE(o.store,a)),u,u&&u.lastId,c,c&&c.id,t,null,s)).integrate(e,0),n.right=c,n.index=d,n.forward(),kx(e,t,n,l)},Ix=function(e,t,n,r,i){var o=e.doc,a=o.clientID;Cx(n,i);var l=Ex(e,t,n,i);e:for(;null!==n.right&&(r>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Yx));){if(!n.right.deleted)if(n.right.content.constructor===Yx){var s=n.right.content,u=s.key,c=s.value,d=i[u];if(void 0!==d){if(mx(d,c))l.delete(u);else{if(0===r)break e;l.set(u,c)}n.right.delete(e)}else n.currentAttributes.set(u,c)}else r<n.right.length&&vE(e,tE(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;n.forward()}if(r>0){for(var f="";r>0;r--)f+="\n";n.right=new cI(tE(a,cE(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Zx(f)),n.right.integrate(e,0),n.forward()}kx(e,t,n,l)},Px=function(e,t,n,r,i){for(var o=t,a=rk();o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===Yx){var l=o.content;a.set(l.key,l)}o=o.right}for(var s=0,u=!1;t!==o;){if(n===t&&(u=!0),!t.deleted){var c=t.content;if(c.constructor===Yx){var d=c.key,f=c.value,p=r.get(d)||null;a.get(d)===c&&p!==f||(t.delete(e),s++,u||(i.get(d)||null)!==f||p===f||(null===p?i.delete(d):i.set(d,p))),u||t.deleted||Sx(i,c)}}t=t.right}return s},_x=function(e){var t=0;return xE(e.doc,(function(n){for(var r=e._start,i=e._start,o=rk(),a=ik(o);i;){if(!1===i.deleted)if(i.content.constructor===Yx)Sx(a,i.content);else t+=Px(n,r,i,o,a),o=ik(a),r=i;i=i.right}})),t},Mx=function(e){var t,n=new Set,r=e.doc,i=C(e.afterState.entries());try{for(i.s();!(t=i.n()).done;){var o=m(t.value,2),a=o[0],l=o[1],s=e.beforeState.get(a)||0;l!==s&&mE(e,r.store.clients.get(a),s,l,(function(e){e.deleted||e.content.constructor!==Yx||e.constructor===Fx||n.add(e.parent)}))}}catch(JI){i.e(JI)}finally{i.f()}xE(r,(function(t){wC(e,e.deleteSet,(function(e){if(!(e instanceof Fx||!e.parent._hasFormatting||n.has(e.parent))){var r=e.parent;e.content.constructor===Yx?n.add(r):function(e,t){for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;for(var n=new Set;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Yx){var r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}}(t,e)}}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;_x(o)}}catch(JI){i.e(JI)}finally{i.f()}}))},Dx=function(e,t,n){for(var r=n,i=ik(t.currentAttributes),o=t.right;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case iI:case Wx:case Zx:n<t.right.length&&vE(e,tE(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}o&&Px(e,o,t.right,i,t.currentAttributes);var a=(t.left||t.right).parent;return a._searchMarker&&ZE(a._searchMarker,t.index,-r+n),t},Tx=function(e){f(n,e);var t=h(n);function n(e,r,i){var o;return w(this,n),(o=t.call(this,e,r)).childListChanged=!1,o.keysChanged=new Set,i.forEach((function(e){null===e?o.childListChanged=!0:o.keysChanged.add(e)})),o}return b(n,[{key:"changes",get:function(){if(null===this._changes){var e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}},{key:"delta",get:function(){var e=this;if(null===this._delta){var t=this.target.doc,n=[];xE(t,(function(t){for(var r=new Map,i=new Map,o=e.target._start,a=null,l={},s="",u=0,c=0,d=function(){if(null!==a){var e=null;switch(a){case"delete":c>0&&(e={delete:c}),c=0;break;case"insert":("object"===typeof s||s.length>0)&&(e={insert:s},r.size>0&&(e.attributes={},r.forEach((function(t,n){null!==t&&(e.attributes[n]=t)})))),s="";break;case"retain":u>0&&(e={retain:u},function(e){for(var t in e)return!1;return!0}(l)||(e.attributes=Ok({},l))),u=0}e&&n.push(e),a=null}};null!==o;){switch(o.content.constructor){case iI:case Wx:e.adds(o)?e.deletes(o)||(d(),a="insert",s=o.content.getContent()[0],d()):e.deletes(o)?("delete"!==a&&(d(),a="delete"),c+=1):o.deleted||("retain"!==a&&(d(),a="retain"),u+=1);break;case Zx:e.adds(o)?e.deletes(o)||("insert"!==a&&(d(),a="insert"),s+=o.content.str):e.deletes(o)?("delete"!==a&&(d(),a="delete"),c+=o.length):o.deleted||("retain"!==a&&(d(),a="retain"),u+=o.length);break;case Yx:var f=o.content,p=f.key,h=f.value;if(e.adds(o)){if(!e.deletes(o)){var v=r.get(p)||null;mx(v,h)?null!==h&&o.delete(t):("retain"===a&&d(),mx(h,i.get(p)||null)?delete l[p]:l[p]=h)}}else if(e.deletes(o)){i.set(p,h);var g=r.get(p)||null;mx(g,h)||("retain"===a&&d(),l[p]=g)}else if(!o.deleted){i.set(p,h);var m=l[p];void 0!==m&&(mx(m,h)?null!==m&&o.delete(t):("retain"===a&&d(),null===h?delete l[p]:l[p]=h))}o.deleted||("insert"===a&&d(),Sx(r,o.content))}o=o.right}for(d();n.length>0;){var y=n[n.length-1];if(void 0===y.retain||void 0!==y.attributes)break;n.pop()}})),this._delta=n}return this._delta}}]),n}(KE),Ox=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this))._pending=void 0!==e?[function(){return r.insert(0,e)}]:[],r._searchMarker=[],r._hasFormatting=!1,r}return b(n,[{key:"length",get:function(){return this._length}},{key:"_integrate",value:function(e,t){T(p(n.prototype),"_integrate",this).call(this,e,t);try{this._pending.forEach((function(e){return e()}))}catch(eP){console.error(eP)}this._pending=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"_callObserver",value:function(e,t){T(p(n.prototype),"_callObserver",this).call(this,e,t);var r=new Tx(this,e,t);GE(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}},{key:"toString",value:function(){for(var e="",t=this._start;null!==t;)!t.deleted&&t.countable&&t.content.constructor===Zx&&(e+=t.content.str),t=t.right;return e}},{key:"toJSON",value:function(){return this.toString()}},{key:"applyDelta",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sanitize,r=void 0===n||n;null!==this.doc?xE(this.doc,(function(n){for(var i=new yx(null,t._start,0,new Map),o=0;o<e.length;o++){var a=e[o];if(void 0!==a.insert){var l=r||"string"!==typeof a.insert||o!==e.length-1||null!==i.right||"\n"!==a.insert.slice(-1)?a.insert:a.insert.slice(0,-1);("string"!==typeof l||l.length>0)&&xx(n,t,i,l,a.attributes||{})}else void 0!==a.retain?Ix(n,t,i,a.retain,a.attributes||{}):void 0!==a.delete&&Dx(n,i,a.delete)}})):this._pending.push((function(){return t.applyDelta(e)}))}},{key:"toDelta",value:function(e,t,n){var r=[],i=new Map,o=this.doc,a="",l=this._start;function s(){if(a.length>0){var e={},t=!1;i.forEach((function(n,r){t=!0,e[r]=n}));var n={insert:a};t&&(n.attributes=e),r.push(n),a=""}}var u=function(){for(var o=function(){if(aE(l,e)||void 0!==t&&aE(l,t))switch(l.content.constructor){case Zx:var o=i.get("ychange");void 0===e||aE(l,e)?void 0===t||aE(l,t)?void 0!==o&&(s(),i.delete("ychange")):void 0!==o&&o.user===l.id.client&&"added"===o.type||(s(),i.set("ychange",n?n("added",l.id):{type:"added"})):void 0!==o&&o.user===l.id.client&&"removed"===o.type||(s(),i.set("ychange",n?n("removed",l.id):{type:"removed"})),a+=l.content.str;break;case iI:case Wx:s();var u={insert:l.content.getContent()[0]};if(i.size>0){var c={};u.attributes=c,i.forEach((function(e,t){c[t]=e}))}r.push(u);break;case Yx:aE(l,e)&&(s(),Sx(i,l.content))}l=l.right};null!==l;)o();s()};return e||t?xE(o,(function(n){e&&lE(n,e),t&&lE(n,t),u()}),"cleanup"):u(),r}},{key:"insert",value:function(e,t,n){var r=this;if(!(t.length<=0)){var i=this.doc;null!==i?xE(i,(function(i){var o=wx(i,r,e);n||(n={},o.currentAttributes.forEach((function(e,t){n[t]=e}))),xx(i,r,o,t,n)})):this._pending.push((function(){return r.insert(e,t,n)}))}}},{key:"insertEmbed",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.doc;null!==i?xE(i,(function(i){var o=wx(i,n,e);xx(i,n,o,t,r)})):this._pending.push((function(){return n.insertEmbed(e,t,r)}))}},{key:"delete",value:function(e,t){var n=this;if(0!==t){var r=this.doc;null!==r?xE(r,(function(r){Dx(r,wx(r,n,e),t)})):this._pending.push((function(){return n.delete(e,t)}))}}},{key:"format",value:function(e,t,n){var r=this;if(0!==t){var i=this.doc;null!==i?xE(i,(function(i){var o=wx(i,r,e);null!==o.right&&Ix(i,r,o,t,n)})):this._pending.push((function(){return r.format(e,t,n)}))}}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?xE(this.doc,(function(n){lx(n,t,e)})):this._pending.push((function(){return t.removeAttribute(e)}))}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?xE(this.doc,(function(r){sx(r,n,e,t)})):this._pending.push((function(){return n.setAttribute(e,t)}))}},{key:"getAttribute",value:function(e){return ux(this,e)}},{key:"getAttributes",value:function(){return cx(this)}},{key:"_write",value:function(e){e.writeTypeRef(Jx)}}]),n}(qE),Rx=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};w(this,t),this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}return b(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==Bx&&t.constructor!==Lx||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}]),t}(),Lx=function(e){f(n,e);var t=h(n);function n(){var e;return w(this,n),(e=t.call(this))._prelimContent=[],e}return b(n,[{key:"firstChild",get:function(){var e=this._first;return e?e.content.getContent()[0]:null}},{key:"_integrate",value:function(e,t){T(p(n.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.insert(0,this.toArray().map((function(e){return e instanceof qE?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"createTreeWalker",value:function(e){return new Rx(this,e)}},{key:"querySelector",value:function(e){e=e.toUpperCase();var t=new Rx(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})).next();return t.done?null:t.value}},{key:"querySelectorAll",value:function(e){return e=e.toUpperCase(),uk(new Rx(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})))}},{key:"_callObserver",value:function(e,t){GE(this,e,new Ax(this,t,e))}},{key:"toString",value:function(){return tx(this,(function(e){return e.toString()})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),ex(this,(function(i){r.insertBefore(i.toDOM(e,t,n),null)})),r}},{key:"insert",value:function(e,t){var n,r=this;null!==this.doc?xE(this.doc,(function(n){ox(n,r,e,t)})):(n=this._prelimContent).splice.apply(n,[e,0].concat(S(t)))}},{key:"insertAfter",value:function(e,t){var n=this;if(null!==this.doc)xE(this.doc,(function(r){var i=e&&e instanceof qE?e._item:e;rx(r,n,i,t)}));else{var r=this._prelimContent,i=null===e?0:r.findIndex((function(t){return t===e}))+1;if(0===i&&null!==e)throw xS("Reference item not found");r.splice.apply(r,[i,0].concat(S(t)))}}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?xE(this.doc,(function(r){ax(r,t,e,n)})):this._prelimContent.splice(e,n)}},{key:"toArray",value:function(){return JE(this)}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"get",value:function(e){return nx(this,e)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return QE(this,e,t)}},{key:"forEach",value:function(e){ex(this,e)}},{key:"_write",value:function(e){e.writeTypeRef(tI)}}]),n}(qE),Bx=function(e){f(n,e);var t=h(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED";return w(this,n),(e=t.call(this)).nodeName=r,e._prelimAttrs=new Map,e}return b(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_integrate",value:function(e,t){var r=this;T(p(n.prototype),"_integrate",this).call(this,e,t),this._prelimAttrs.forEach((function(e,t){r.setAttribute(t,e)})),this._prelimAttrs=null}},{key:"_copy",value:function(){return new n(this.nodeName)}},{key:"clone",value:function(){var e=new n(this.nodeName);return function(e,t){for(var n in e)t(e[n],n)}(this.getAttributes(),(function(t,n){"string"===typeof t&&e.setAttribute(n,t)})),e.insert(0,this.toArray().map((function(e){return e instanceof qE?e.clone():e}))),e}},{key:"toString",value:function(){var e=this.getAttributes(),t=[],r=[];for(var i in e)r.push(i);r.sort();for(var o=r.length,a=0;a<o;a++){var l=r[a];t.push(l+'="'+e[l]+'"')}var s=this.nodeName.toLocaleLowerCase(),u=t.length>0?" "+t.join(" "):"";return"<".concat(s).concat(u,">").concat(T(p(n.prototype),"toString",this).call(this),"</").concat(s,">")}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?xE(this.doc,(function(n){lx(n,t,e)})):this._prelimAttrs.delete(e)}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?xE(this.doc,(function(r){sx(r,n,e,t)})):this._prelimAttrs.set(e,t)}},{key:"getAttribute",value:function(e){return ux(this,e)}},{key:"hasAttribute",value:function(e){return dx(this,e)}},{key:"getAttributes",value:function(){return cx(this)}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createElement(this.nodeName),i=this.getAttributes();for(var o in i){var a=i[o];"string"===typeof a&&r.setAttribute(o,a)}return ex(this,(function(i){r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}},{key:"_write",value:function(e){e.writeTypeRef(eI),e.writeKey(this.nodeName)}}]),n}(Lx),Ax=function(e){f(n,e);var t=h(n);function n(e,r,i){var o;return w(this,n),(o=t.call(this,e,i)).childListChanged=!1,o.attributesChanged=new Set,r.forEach((function(e){null===e?o.childListChanged=!0:o.attributesChanged.add(e)})),o}return b(n)}(KE),jx=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this)).hookName=e,r}return b(n,[{key:"_copy",value:function(){return new n(this.hookName)}},{key:"clone",value:function(){var e=new n(this.hookName);return this.forEach((function(t,n){e.set(n,t)})),e}},{key:"toDOM",value:function(){arguments.length>0&&void 0!==arguments[0]||document;var e,t=arguments.length>2?arguments[2]:void 0,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})[this.hookName];return(e=void 0!==n?n.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==t&&t._createAssociation(e,this),e}},{key:"_write",value:function(e){e.writeTypeRef(nI),e.writeKey(this.hookName)}}]),n}(gx),zx=function(e){f(n,e);var t=h(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>2?arguments[2]:void 0,n=e.createTextNode(this.toString());return void 0!==t&&t._createAssociation(n,this),n}},{key:"toString",value:function(){return this.toDelta().map((function(e){var t=[];for(var n in e.attributes){var r=[];for(var i in e.attributes[n])r.push({key:i,value:e.attributes[n][i]});r.sort((function(e,t){return e.key<t.key?-1:1})),t.push({nodeName:n,attrs:r})}t.sort((function(e,t){return e.nodeName<t.nodeName?-1:1}));for(var o="",a=0;a<t.length;a++){var l=t[a];o+="<".concat(l.nodeName);for(var s=0;s<l.attrs.length;s++){var u=l.attrs[s];o+=" ".concat(u.key,'="').concat(u.value,'"')}o+=">"}o+=e.insert;for(var c=t.length-1;c>=0;c--)o+="</".concat(t[c].nodeName,">");return o})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"_write",value:function(e){e.writeTypeRef(rI)}}]),n}(Ox),Hx=function(){function e(t,n){w(this,e),this.id=t,this.length=n}return b(e,[{key:"deleted",get:function(){throw IS()}},{key:"mergeWith",value:function(e){return!1}},{key:"write",value:function(e,t,n){throw IS()}},{key:"integrate",value:function(e,t){throw IS()}}]),e}(),Fx=function(e){f(n,e);var t=h(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){t>0&&(this.id.clock+=t,this.length-=t),dE(e.doc.store,this)}},{key:"write",value:function(e,t){e.writeInfo(0),e.writeLen(this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(Hx),Nx=function(){function e(t){w(this,e),this.content=t}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.content]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.content)}},{key:"splice",value:function(e){throw IS()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeBuf(this.content)}},{key:"getRef",value:function(){return 3}}]),e}(),Ux=function(){function e(t){w(this,e),this.len=t}return b(e,[{key:"getLength",value:function(){return this.len}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.len)}},{key:"splice",value:function(t){var n=new e(this.len-t);return this.len=t,n}},{key:"mergeWith",value:function(e){return this.len+=e.len,!0}},{key:"integrate",value:function(e,t){EC(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeLen(this.len-t)}},{key:"getRef",value:function(){return 1}}]),e}(),Kx=function(e,t){return new TC(a(a({guid:e},t),{},{shouldLoad:t.shouldLoad||t.autoLoad||!1}))},Vx=function(){function e(t){w(this,e),t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;var n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),null!==t.meta&&(n.meta=t.meta)}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.doc]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(Kx(this.doc.guid,this.opts))}},{key:"splice",value:function(e){throw IS()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}},{key:"delete",value:function(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}},{key:"getRef",value:function(){return 9}}]),e}(),Wx=function(){function e(t){w(this,e),this.embed=t}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.embed]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.embed)}},{key:"splice",value:function(e){throw IS()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeJSON(this.embed)}},{key:"getRef",value:function(){return 5}}]),e}(),Yx=function(){function e(t,n){w(this,e),this.key=t,this.value=n}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.key,this.value)}},{key:"splice",value:function(e){throw IS()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){var n=t.parent;n._searchMarker=null,n._hasFormatting=!0}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeKey(this.key),e.writeJSON(this.value)}},{key:"getRef",value:function(){return 6}}]),e}(),Xx=function(){function e(t){w(this,e),this.arr=t}return b(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeString(void 0===i?"undefined":JSON.stringify(i))}}},{key:"getRef",value:function(){return 2}}]),e}(),$x=function(){function e(t){w(this,e),this.arr=t}return b(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeAny(i)}}},{key:"getRef",value:function(){return 8}}]),e}(),Zx=function(){function e(t){w(this,e),this.str=t}return b(e,[{key:"getLength",value:function(){return this.str.length}},{key:"getContent",value:function(){return this.str.split("")}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.str)}},{key:"splice",value:function(t){var n=new e(this.str.slice(t));this.str=this.str.slice(0,t);var r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\ufffd",n.str="\ufffd"+n.str.slice(1)),n}},{key:"mergeWith",value:function(e){return this.str+=e.str,!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(0===t?this.str:this.str.slice(t))}},{key:"getRef",value:function(){return 4}}]),e}(),Gx=[function(e){return new hx},function(e){return new gx},function(e){return new Ox},function(e){return new Bx(e.readKey())},function(e){return new Lx},function(e){return new jx(e.readKey())},function(e){return new zx}],qx=0,Qx=1,Jx=2,eI=3,tI=4,nI=5,rI=6,iI=function(){function e(t){w(this,e),this.type=t}return b(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.type]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.type._copy())}},{key:"splice",value:function(e){throw IS()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.type._integrate(e.doc,t)}},{key:"delete",value:function(e){for(var t=this.type._start;null!==t;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((function(t){t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}},{key:"gc",value:function(e){for(var t=this.type._start;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((function(t){for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}},{key:"write",value:function(e,t){this.type._write(e)}},{key:"getRef",value:function(){return 7}}]),e}(),oI=function(e,t){var n,r=t,i=0;do{i>0&&(r=tE(r.client,r.clock+i)),n=pE(e,r),i=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof cI);return{item:n,diff:i}},aI=function(e,t){for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},lI=function(e,t,n){var r=t.id,i=r.client,o=r.clock,a=new cI(tE(i,o+n),t,tE(i,o+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&a.markDeleted(),t.keep&&(a.keep=!0),null!==t.redone&&(a.redone=tE(t.redone.client,t.redone.clock+n)),t.right=a,null!==a.right&&(a.right.left=a),e._mergeStructs.push(a),null!==a.parentSub&&null===a.right&&a.parent._map.set(a.parentSub,a),t.length=n,a},sI=function(e,t){return function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}(e,(function(e){return kC(e.deletions,t)}))},uI=function e(t,n,r,i,o,a){var l=t.doc,s=l.store,u=l.clientID,c=n.redone;if(null!==c)return vE(t,c);var d,f=n.parent._item,p=null;if(null!==f&&!0===f.deleted){if(null===f.redone&&(!r.has(f)||null===e(t,f,r,i,o,a)))return null;for(;null!==f.redone;)f=vE(t,f.redone)}var h=null===f?n.parent:f.content.type;if(null===n.parentSub){for(p=n.left,d=n;null!==p;){for(var v=p;null!==v&&v.parent._item!==f;)v=null===v.redone?null:vE(t,v.redone);if(null!==v&&v.parent._item===f){p=v;break}p=p.left}for(;null!==d;){for(var g=d;null!==g&&g.parent._item!==f;)g=null===g.redone?null:vE(t,g.redone);if(null!==g&&g.parent._item===f){d=g;break}d=d.right}}else if(d=null,n.right&&!o){for(p=n;null!==p&&null!==p.right&&(p.right.redone||kC(i,p.right.id)||sI(a.undoStack,p.right.id)||sI(a.redoStack,p.right.id));)for(p=p.right;p.redone;)p=vE(t,p.redone);if(p&&null!==p.right)return null}else p=h._map.get(n.parentSub)||null;var m=cE(s,u),y=tE(u,m),b=new cI(y,p,p&&p.lastId,d,d&&d.id,h,n.parentSub,n.content.copy());return n.redone=y,aI(b,!0),b.integrate(t,0),b},cI=function(e){f(n,e);var t=h(n);function n(e,r,i,o,a,l,s,u){var c;return w(this,n),(c=t.call(this,e,u.getLength())).origin=i,c.left=r,c.right=o,c.rightOrigin=a,c.parent=l,c.parentSub=s,c.redone=null,c.content=u,c.info=c.content.isCountable()?2:0,c}return b(n,[{key:"marker",get:function(){return(8&this.info)>0},set:function(e){(8&this.info)>0!==e&&(this.info^=8)}},{key:"keep",get:function(){return(1&this.info)>0},set:function(e){this.keep!==e&&(this.info^=1)}},{key:"countable",get:function(){return(2&this.info)>0}},{key:"deleted",get:function(){return(4&this.info)>0},set:function(e){this.deleted!==e&&(this.info^=4)}},{key:"markDeleted",value:function(){this.info|=4}},{key:"getMissing",value:function(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=cE(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=cE(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===JC&&this.id.client!==this.parent.client&&this.parent.clock>=cE(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=gE(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=vE(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Fx||this.right&&this.right.constructor===Fx)&&(this.parent=null),this.parent){if(this.parent.constructor===JC){var r=pE(t,this.parent);r.constructor===Fx?this.parent=null:this.parent=r.content.type}}else this.left&&this.left.constructor===n&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===n&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}},{key:"integrate",value:function(e,t){if(t>0&&(this.id.clock+=t,this.left=gE(e,e.doc.store,tE(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){var n,r=this.left;if(null!==r)n=r.right;else if(null!==this.parentSub)for(n=this.parent._map.get(this.parentSub)||null;null!==n&&null!==n.left;)n=n.left;else n=this.parent._start;for(var i=new Set,o=new Set;null!==n&&n!==this.right;){if(o.add(n),i.add(n),eE(this.origin,n.origin)){if(n.id.client<this.id.client)r=n,i.clear();else if(eE(this.rightOrigin,n.rightOrigin))break}else{if(null===n.origin||!o.has(pE(e.doc.store,n.origin)))break;i.has(pE(e.doc.store,n.origin))||(r=n,i.clear())}n=n.right}this.left=r}if(null!==this.left){var a=this.left.right;this.right=a,this.left.right=this}else{var l;if(null!==this.parentSub)for(l=this.parent._map.get(this.parentSub)||null;null!==l&&null!==l.left;)l=l.left;else l=this.parent._start,this.parent._start=this;this.right=l}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),dE(e.doc.store,this),this.content.integrate(e,this),wE(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new Fx(this.id,this.length).integrate(e,0)}},{key:"next",get:function(){for(var e=this.right;null!==e&&e.deleted;)e=e.right;return e}},{key:"prev",get:function(){for(var e=this.left;null!==e&&e.deleted;)e=e.left;return e}},{key:"lastId",get:function(){return 1===this.length?this.id:tE(this.id.client,this.id.clock+this.length-1)}},{key:"mergeWith",value:function(e){var t=this;if(this.constructor===e.constructor&&eE(e.origin,this.lastId)&&this.right===e&&eE(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){var n=this.parent._searchMarker;return n&&n.forEach((function(n){n.p===e&&(n.p=t,!t.deleted&&t.countable&&(n.index-=t.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}},{key:"delete",value:function(e){if(!this.deleted){var t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),EC(e.deleteSet,this.id.client,this.id.clock,this.length),wE(e,t,this.parentSub),this.content.delete(e)}}},{key:"gc",value:function(e,t){if(!this.deleted)throw PS();this.content.gc(e),t?function(e,t,n){var r=e.clients.get(t.id.client);r[fE(r,t.id.clock)]=n}(e,this,new Fx(this.id,this.length)):this.content=new Ux(this.length)}},{key:"write",value:function(e,t){var n=t>0?tE(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,o=31&this.content.getRef()|(null===n?0:Qk)|(null===r?0:qk)|(null===i?0:32);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){var a=this.parent;if(void 0!==a._item){var l=a._item;if(null===l){var s=nE(a);e.writeParentInfo(!0),e.writeString(s)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===JC?(e.writeParentInfo(!1),e.writeLeftID(a)):PS();null!==i&&e.writeString(i)}this.content.write(e,t)}}]),n}(Hx),dI=function(e,t){return fI[31&t](e)},fI=[function(){PS()},function(e){return new Ux(e.readLen())},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++){var i=e.readString();"undefined"===i?n.push(void 0):n.push(JSON.parse(i))}return new Xx(n)},function(e){return new Nx(e.readBuf())},function(e){return new Zx(e.readString())},function(e){return new Wx(e.readJSON())},function(e){return new Yx(e.readKey(),e.readJSON())},function(e){return new iI(Gx[e.readTypeRef()](e))},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++)n.push(e.readAny());return new $x(n)},function(e){return new Vx(Kx(e.readString(),e.readAny()))},function(){PS()}],pI=function(e){f(n,e);var t=h(n);function n(){return w(this,n),t.apply(this,arguments)}return b(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){PS()}},{key:"write",value:function(e,t){e.writeInfo(10),uS(e.restEncoder,this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(Hx),hI="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},vI="__ $YJS$ __";!0===hI[vI]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),hI[vI]=!0;var gI=new Map,mI=function(){function e(t){var n=this;w(this,e),this.room=t,this.onmessage=null,this._onChange=function(e){return e.key===t&&null!==n.onmessage&&n.onmessage({data:Gk(e.newValue||"")})},function(e){Pk||addEventListener("storage",e)}(this._onChange)}return b(e,[{key:"postMessage",value:function(e){Tk.setItem(this.room,Zk(new Uint8Array(e)))}},{key:"close",value:function(){!function(e){Pk||removeEventListener("storage",e)}(this._onChange)}}]),e}(),yI="undefined"===typeof BroadcastChannel?mI:BroadcastChannel,bI=function(e){return ok(gI,e,(function(){var t=ak(),n=new yI(e);return n.onmessage=function(e){return t.forEach((function(t){return t(e.data,"broadcastchannel")}))},{bc:n,subs:t}}))},wI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=bI(e);r.bc.postMessage(t),r.subs.forEach((function(e){return e(t,n)}))},kI=function(e,t){uS(e,0);var n=function(e){return XC(e,new AC)}(t);vS(e,n)},SI=function(e,t,n){uS(e,1),vS(e,function(e,t){return KC(e,t,new jC)}(t,n))},CI=function(e,t,n){try{!function(e,t,n){UC(e,t,n,RC)}(t,LS(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},EI=CI,xI=function(e,t,n,r){var i=AS(e);switch(i){case 0:!function(e,t,n){SI(t,n,LS(e))}(e,t,n);break;case 1:CI(e,n,r);break;case 2:EI(e,n,r);break;default:throw new Error("Unknown message type")}return i},II=3e4,PI=function(e){f(n,e);var t=h(n);function n(e){var r;return w(this,n),(r=t.call(this)).doc=e,r.clientID=e.clientID,r.states=new Map,r.meta=new Map,r._checkInterval=setInterval((function(){var e=tC();null!==r.getLocalState()&&15e3<=e-r.meta.get(r.clientID).lastUpdated&&r.setLocalState(r.getLocalState());var t=[];r.meta.forEach((function(n,i){i!==r.clientID&&II<=e-n.lastUpdated&&r.states.has(i)&&t.push(i)})),t.length>0&&_I(d(r),t,"timeout")}),fk(3e3)),e.on("destroy",(function(){r.destroy()})),r.setLocalState({}),r}return b(n,[{key:"destroy",value:function(){this.emit("destroy",[this]),this.setLocalState(null),T(p(n.prototype),"destroy",this).call(this),clearInterval(this._checkInterval)}},{key:"getLocalState",value:function(){return this.states.get(this.clientID)||null}},{key:"setLocalState",value:function(e){var t=this.clientID,n=this.meta.get(t),r=void 0===n?0:n.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:tC()});var o=[],a=[],l=[],s=[];null===e?s.push(t):null==i?null!=e&&o.push(t):(a.push(t),zk(i,e)||l.push(t)),(o.length>0||l.length>0||s.length>0)&&this.emit("change",[{added:o,updated:l,removed:s},"local"]),this.emit("update",[{added:o,updated:a,removed:s},"local"])}},{key:"setLocalStateField",value:function(e,t){var n=this.getLocalState();null!==n&&this.setLocalState(a(a({},n),{},i({},e,t)))}},{key:"getStates",value:function(){return this.states}}]),n}(dk),_I=function(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){var a=e.meta.get(o);e.meta.set(o,{clock:a.clock+1,lastUpdated:tC()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},MI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.states,r=t.length,i=iS();uS(i,r);for(var o=0;o<r;o++){var a=t[o],l=n.get(a)||null,s=e.meta.get(a).clock;uS(i,a),uS(i,s),pS(i,JSON.stringify(l))}return aS(i)},DI=[];DI[0]=function(e,t,n,r,i){uS(e,0);var o=xI(t,e,n.doc,n);r&&1===o&&!n.synced&&(n.synced=!0)},DI[3]=function(e,t,n,r,i){uS(e,1),vS(e,MI(n.awareness,Array.from(n.awareness.getStates().keys())))},DI[1]=function(e,t,n,r,i){!function(e,t,n){for(var r=TS(t),i=tC(),o=[],a=[],l=[],s=[],u=AS(r),c=0;c<u;c++){var d=AS(r),f=AS(r),p=JSON.parse(zS(r)),h=e.meta.get(d),v=e.states.get(d),g=void 0===h?0:h.clock;(g<f||g===f&&null===p&&e.states.has(d))&&(null===p?d===e.clientID&&null!=e.getLocalState()?f++:e.states.delete(d):e.states.set(d,p),e.meta.set(d,{clock:f,lastUpdated:i}),void 0===h&&null!==p?o.push(d):void 0!==h&&null===p?s.push(d):null!==p&&(zk(p,v)||l.push(d),a.push(d)))}(o.length>0||l.length>0||s.length>0)&&e.emit("change",[{added:o,updated:l,removed:s},n]),(o.length>0||a.length>0||s.length>0)&&e.emit("update",[{added:o,updated:a,removed:s},n])}(n.awareness,LS(t),n)},DI[2]=function(e,t,n,r,i){!function(e,t,n){0===AS(e)&&n(t,zS(e))}(t,n.doc,RI)};var TI,OI,RI=function(e,t){return console.warn("Permission denied to access ".concat(e.url,".\n").concat(t))},LI=function(e,t,n){var r=TS(t),i=iS(),o=AS(r),a=e.messageHandlers[o];return a?a(i,r,e,n,o):console.error("Unable to compute message"),i},BI=function e(t){if(t.shouldConnect&&null===t.ws){var n=new t._WS(t.url);n.binaryType="arraybuffer",t.ws=n,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,n.onmessage=function(e){t.wsLastMessageReceived=tC();var r=LI(t,new Uint8Array(e.data),!0);oS(r)>1&&n.send(aS(r))},n.onerror=function(e){t.emit("connection-error",[e,t])},n.onclose=function(n){t.emit("connection-close",[n,t]),t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,_I(t.awareness,Array.from(t.awareness.getStates().keys()).filter((function(e){return e!==t.doc.clientID})),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(e,hk(100*gk(2,t.wsUnsuccessfulReconnects),t.maxBackoffTime),t)},n.onopen=function(){t.wsLastMessageReceived=tC(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);var e=iS();if(uS(e,0),kI(e,t.doc),n.send(aS(e)),null!==t.awareness.getLocalState()){var r=iS();uS(r,1),vS(r,MI(t.awareness,[t.doc.clientID])),n.send(aS(r))}},t.emit("status",[{status:"connecting"}])}},AI=function(e,t){e.wsconnected&&e.ws.send(t),e.bcconnected&&e.mux((function(){wI(e.bcChannel,t)}))},jI=function(e){f(n,e);var t=h(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.connect,s=void 0===l||l,u=a.awareness,c=void 0===u?new PI(i):u,f=a.params,p=void 0===f?{}:f,h=a.WebSocketPolyfill,v=void 0===h?WebSocket:h,g=a.resyncInterval,m=void 0===g?-1:g,y=a.maxBackoffTime,b=void 0===y?2500:y;for(w(this,n),o=t.call(this);"/"===e[e.length-1];)e=e.slice(0,e.length-1);var k=function(e){return function(e,t){var n=[];for(var r in e)n.push(t(e[r],r));return n}(e,(function(e,t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))})).join("&")}(p);return o.maxBackoffTime=b,o.bcChannel=e+"/"+r,o.url=e+"/"+r+(0===k.length?"":"?"+k),o.roomname=r,o.doc=i,o._WS=v,o.awareness=c,o.wsconnected=!1,o.wsconnecting=!1,o.bcconnected=!1,o.wsUnsuccessfulReconnects=0,o.messageHandlers=DI.slice(),o.mux=function(){var e=!0;return function(t,n){if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}}(),o._synced=!1,o.ws=null,o.wsLastMessageReceived=0,o.shouldConnect=s,o._resyncInterval=0,m>0&&(o._resyncInterval=setInterval((function(){if(o.ws){var e=iS();uS(e,0),kI(e,i),o.ws.send(aS(e))}}),m)),o._bcSubscriber=function(e){o.mux((function(){var t=LI(d(o),new Uint8Array(e),!1);oS(t)>1&&wI(o.bcChannel,aS(t))}))},o._updateHandler=function(e,t){if(t!==d(o)){var n=iS();uS(n,0),function(e,t){uS(e,2),vS(e,t)}(n,e),AI(d(o),aS(n))}},o.doc.on("update",o._updateHandler),o._awarenessUpdateHandler=function(e,t){var n=e.added,r=e.updated,i=e.removed,a=n.concat(r).concat(i),l=iS();uS(l,1),vS(l,MI(c,a)),AI(d(o),aS(l))},o._beforeUnloadHandler=function(){_I(o.awareness,[i.clientID],"window unload")},"undefined"!==typeof window?window.addEventListener("beforeunload",o._beforeUnloadHandler):"undefined"!==typeof process&&process.on("exit",(function(){return o._beforeUnloadHandler})),c.on("update",o._awarenessUpdateHandler),o._checkInterval=setInterval((function(){o.wsconnected&&3e4<tC()-o.wsLastMessageReceived&&o.ws.close()}),3e3),s&&o.connect(),o}return b(n,[{key:"synced",get:function(){return this._synced},set:function(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}},{key:"destroy",value:function(){var e=this;0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.off("exit",(function(){return e._beforeUnloadHandler})),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),T(p(n.prototype),"destroy",this).call(this)}},{key:"connectBc",value:function(){var e=this;this.bcconnected||(!function(e,t){bI(e).subs.add(t)}(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux((function(){var t=iS();uS(t,0),kI(t,e.doc),wI(e.bcChannel,aS(t));var n=iS();uS(n,0),SI(n,e.doc),wI(e.bcChannel,aS(n));var r=iS();uS(r,3),wI(e.bcChannel,aS(r));var i=iS();uS(i,1),vS(i,MI(e.awareness,[e.doc.clientID])),wI(e.bcChannel,aS(i))}))}},{key:"disconnectBc",value:function(){var e=iS();uS(e,1),vS(e,MI(this.awareness,[this.doc.clientID],new Map)),AI(this,aS(e)),this.bcconnected&&(!function(e,t){var n=bI(e),r=n.subs.delete(t);r&&0===n.subs.size&&(n.bc.close(),gI.delete(e))}(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}},{key:"disconnect",value:function(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}},{key:"connect",value:function(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(BI(this),this.connectBc())}}]),n}(dk),zI=null!==(TI=null===(OI=document.getElementById("roomid"))||void 0===OI?void 0:OI.innerText)&&void 0!==TI?TI:"",HI=1;isNaN(parseInt(zI))||(HI=parseInt(zI));var FI=new TC,NI="y-tldraw-".concat(HI),UI=new jI("wss://tldraw.ilias8.com:5123",NI,FI,{connect:!0}),KI=UI.awareness,VI=FI.getMap("shapes"),WI=FI.getMap("bindings"),YI=new ME([VI,WI]);var XI=n(184),$I=["onMount"];function ZI(e){var t=e.roomId,n=function(){var e=this,t=E.useCallback((function(t){return vh(e,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isDirty){e.next=10;break}if(!t.fileSystemHandle){e.next=7;break}if(!window.confirm("Do you want to save changes to your current project?")){e.next=5;break}return e.next=5,t.saveProject();case 5:e.next=10;break;case 7:if(!window.confirm("Do you want to save your current project?")){e.next=10;break}return e.next=10,t.saveProject();case 10:case"end":return e.stop()}}),e)})))}),[]);return{onNewProject:E.useCallback((function(n){return vh(e,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you want to create a new project?")){e.next=4;break}return e.next=3,t(n);case 3:n.newProject();case 4:case"end":return e.stop()}}),e)})))}),[t]),onSaveProject:E.useCallback((function(e){e.saveProject()}),[]),onSaveProjectAs:E.useCallback((function(e){e.saveProjectAs()}),[]),onOpenProject:E.useCallback((function(n){return vh(e,null,k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:n.openProject();case 3:case"end":return e.stop()}}),e)})))}),[t]),onOpenMedia:E.useCallback((function(t){return vh(e,null,k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(n=t.openAsset)||n.call(t);case 1:case"end":return e.stop()}}),e)})))}),[])}}(),r=function(e){var t=(0,E.useRef)(),n=(0,E.useCallback)((function(n){n.loadRoom(e),n.pause(),t.current=n,fetch("https://tldraw.ilias8.com:5123/load-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room:e})}).then((function(e){return e.json()})).then((function(e){var t=e;n.replacePageContent(t.shapes,t.bindings,{})})).catch((function(e){console.log("File loaded")}))}),[e]),r=(0,E.useCallback)((function(e,t,n){YI.stopCapturing(),FI.transact((function(){Object.entries(t).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];r?VI.set(r.id,r):VI.delete(n)})),Object.entries(n).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];r?WI.set(r.id,r):WI.delete(n)}))}))}),[]),i=(0,E.useCallback)((function(){YI.undo()}),[]),o=(0,E.useCallback)((function(){YI.redo()}),[]),a=(0,E.useCallback)((function(e,t){KI.setLocalStateField("tdUser",t)}),[]);return(0,E.useEffect)((function(){var e=function(){var e=t.current;if(e&&e.room){var n=Array.from(KI.getStates().entries()).filter((function(e){var t=m(e,2),n=t[0];return t[1],n!==KI.clientID})).map((function(e){var t=m(e,2);return t[0],t[1]})).filter((function(e){return void 0!==e.tdUser})),r=n.map((function(e){return e.tdUser.id}));Object.values(e.room.users).forEach((function(t){var n;t&&!r.includes(t.id)&&t.id!==(null===(n=e.room)||void 0===n?void 0:n.userId)&&e.removeUser(t.id)})),e.updateUsers(n.map((function(e){return e.tdUser})).filter(Boolean))}};return KI.on("change",e),function(){return KI.off("change",e)}}),[]),(0,E.useEffect)((function(){function n(){var n=t.current;n&&(fetch("https://tldraw.ilias8.com:5123/save-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shapes:Object.fromEntries(VI.entries()),bindings:Object.fromEntries(WI.entries()),room:e})}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.log("File saved")})),n.replacePageContent(Object.fromEntries(VI.entries()),Object.fromEntries(WI.entries()),{}))}return VI.observeDeep(n),function(){return VI.unobserveDeep(n)}}),[]),(0,E.useEffect)((function(){function e(){UI.disconnect()}return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[]),{onMount:n,onChangePage:r,onUndo:i,onRedo:o,onChangePresence:a}}(t),i=r.onMount,o=l(r,$I);return(0,XI.jsx)(Gw,a(a({autofocus:!0,disableAssets:!0,showPages:!1,onMount:i},n),o))}function GI(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=arguments.length>2?arguments[2]:void 0,r=(0,E.useRef)();r.current||(r.current=new Map(e.getStates()));var i=(0,E.useCallback)((function(){return r.current?r.current:new Map}),[]),o=(0,nk.useSyncExternalStoreWithSelector)((function(t){return a(e,t)}),i,i,t,n),a=(0,E.useCallback)((function(e,t){var n=function(){r.current=new Map(e.getStates()),t()};return e.on("change",n),function(){return e.off("change",n)}}),[]);return o}(KI);return(0,XI.jsx)("div",{className:"absolute p-md",children:(0,XI.jsx)("div",{className:"flex space-between",children:(0,XI.jsxs)("span",{children:["Users: ",e.size]})})})}function qI(){return(0,XI.jsxs)("div",{className:"tldraw",children:[(0,XI.jsx)(GI,{}),(0,XI.jsx)(ZI,{roomId:NI})]})}var QI=document.getElementById("root");(0,e.render)((0,XI.jsx)(qI,{}),QI)}()}();
//# sourceMappingURL=main.3f117116.js.map